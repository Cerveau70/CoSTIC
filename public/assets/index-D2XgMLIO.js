(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function E_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yf={exports:{}},ul={},vf={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function hT(){if(Xy)return Oe;Xy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,U={};function L(F,j,be){this.props=F,this.context=j,this.refs=U,this.updater=be||A}L.prototype.isReactComponent={},L.prototype.setState=function(F,j){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,j,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function G(){}G.prototype=L.prototype;function Q(F,j,be){this.props=F,this.context=j,this.refs=U,this.updater=be||A}var K=Q.prototype=new G;K.constructor=Q,b(K,L.prototype),K.isPureReactComponent=!0;var se=Array.isArray,ye=Object.prototype.hasOwnProperty,me={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(F,j,be){var Z,le={},xe=null,Ce=null;if(j!=null)for(Z in j.ref!==void 0&&(Ce=j.ref),j.key!==void 0&&(xe=""+j.key),j)ye.call(j,Z)&&!N.hasOwnProperty(Z)&&(le[Z]=j[Z]);var we=arguments.length-2;if(we===1)le.children=be;else if(1<we){for(var De=Array(we),St=0;St<we;St++)De[St]=arguments[St+2];le.children=De}if(F&&F.defaultProps)for(Z in we=F.defaultProps,we)le[Z]===void 0&&(le[Z]=we[Z]);return{$$typeof:n,type:F,key:xe,ref:Ce,props:le,_owner:me.current}}function C(F,j){return{$$typeof:n,type:F.type,key:j,ref:F.ref,props:F.props,_owner:F._owner}}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function D(F){var j={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(be){return j[be]})}var $=/\/+/g;function k(F,j){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):j.toString(36)}function Se(F,j,be,Z,le){var xe=typeof F;(xe==="undefined"||xe==="boolean")&&(F=null);var Ce=!1;if(F===null)Ce=!0;else switch(xe){case"string":case"number":Ce=!0;break;case"object":switch(F.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=F,le=le(Ce),F=Z===""?"."+k(Ce,0):Z,se(le)?(be="",F!=null&&(be=F.replace($,"$&/")+"/"),Se(le,j,be,"",function(St){return St})):le!=null&&(P(le)&&(le=C(le,be+(!le.key||Ce&&Ce.key===le.key?"":(""+le.key).replace($,"$&/")+"/")+F)),j.push(le)),1;if(Ce=0,Z=Z===""?".":Z+":",se(F))for(var we=0;we<F.length;we++){xe=F[we];var De=Z+k(xe,we);Ce+=Se(xe,j,be,De,le)}else if(De=T(F),typeof De=="function")for(F=De.call(F),we=0;!(xe=F.next()).done;)xe=xe.value,De=Z+k(xe,we++),Ce+=Se(xe,j,be,De,le);else if(xe==="object")throw j=String(F),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Ce}function $e(F,j,be){if(F==null)return F;var Z=[],le=0;return Se(F,Z,"","",function(xe){return j.call(be,xe,le++)}),Z}function Y(F){if(F._status===-1){var j=F._result;j=j(),j.then(function(be){(F._status===0||F._status===-1)&&(F._status=1,F._result=be)},function(be){(F._status===0||F._status===-1)&&(F._status=2,F._result=be)}),F._status===-1&&(F._status=0,F._result=j)}if(F._status===1)return F._result.default;throw F._result}var ue={current:null},te={transition:null},fe={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:te,ReactCurrentOwner:me};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:$e,forEach:function(F,j,be){$e(F,function(){j.apply(this,arguments)},be)},count:function(F){var j=0;return $e(F,function(){j++}),j},toArray:function(F){return $e(F,function(j){return j})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=i,Oe.PureComponent=Q,Oe.StrictMode=r,Oe.Suspense=p,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Oe.act=ae,Oe.cloneElement=function(F,j,be){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Z=b({},F.props),le=F.key,xe=F.ref,Ce=F._owner;if(j!=null){if(j.ref!==void 0&&(xe=j.ref,Ce=me.current),j.key!==void 0&&(le=""+j.key),F.type&&F.type.defaultProps)var we=F.type.defaultProps;for(De in j)ye.call(j,De)&&!N.hasOwnProperty(De)&&(Z[De]=j[De]===void 0&&we!==void 0?we[De]:j[De])}var De=arguments.length-2;if(De===1)Z.children=be;else if(1<De){we=Array(De);for(var St=0;St<De;St++)we[St]=arguments[St+2];Z.children=we}return{$$typeof:n,type:F.type,key:le,ref:xe,props:Z,_owner:Ce}},Oe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Oe.createElement=S,Oe.createFactory=function(F){var j=S.bind(null,F);return j.type=F,j},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(F){return{$$typeof:d,render:F}},Oe.isValidElement=P,Oe.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Y}},Oe.memo=function(F,j){return{$$typeof:g,type:F,compare:j===void 0?null:j}},Oe.startTransition=function(F){var j=te.transition;te.transition={};try{F()}finally{te.transition=j}},Oe.unstable_act=ae,Oe.useCallback=function(F,j){return ue.current.useCallback(F,j)},Oe.useContext=function(F){return ue.current.useContext(F)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(F){return ue.current.useDeferredValue(F)},Oe.useEffect=function(F,j){return ue.current.useEffect(F,j)},Oe.useId=function(){return ue.current.useId()},Oe.useImperativeHandle=function(F,j,be){return ue.current.useImperativeHandle(F,j,be)},Oe.useInsertionEffect=function(F,j){return ue.current.useInsertionEffect(F,j)},Oe.useLayoutEffect=function(F,j){return ue.current.useLayoutEffect(F,j)},Oe.useMemo=function(F,j){return ue.current.useMemo(F,j)},Oe.useReducer=function(F,j,be){return ue.current.useReducer(F,j,be)},Oe.useRef=function(F){return ue.current.useRef(F)},Oe.useState=function(F){return ue.current.useState(F)},Oe.useSyncExternalStore=function(F,j,be){return ue.current.useSyncExternalStore(F,j,be)},Oe.useTransition=function(){return ue.current.useTransition()},Oe.version="18.3.1",Oe}var Yy;function Ap(){return Yy||(Yy=1,vf.exports=hT()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function dT(){if(Jy)return ul;Jy=1;var n=Ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,g){var _,x={},T=null,A=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(A=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(x[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)x[_]===void 0&&(x[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:A,props:x,_owner:i.current}}return ul.Fragment=t,ul.jsx=u,ul.jsxs=u,ul}var Zy;function fT(){return Zy||(Zy=1,yf.exports=dT()),yf.exports}var f=fT(),V=Ap();const pT=E_(V);var gc={},_f={exports:{}},on={},wf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function mT(){return e0||(e0=1,(function(n){function e(te,fe){var ae=te.length;te.push(fe);e:for(;0<ae;){var F=ae-1>>>1,j=te[F];if(0<i(j,fe))te[F]=fe,te[ae]=j,ae=F;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var fe=te[0],ae=te.pop();if(ae!==fe){te[0]=ae;e:for(var F=0,j=te.length,be=j>>>1;F<be;){var Z=2*(F+1)-1,le=te[Z],xe=Z+1,Ce=te[xe];if(0>i(le,ae))xe<j&&0>i(Ce,le)?(te[F]=Ce,te[xe]=ae,F=xe):(te[F]=le,te[Z]=ae,F=Z);else if(xe<j&&0>i(Ce,ae))te[F]=Ce,te[xe]=ae,F=xe;else break e}}return fe}function i(te,fe){var ae=te.sortIndex-fe.sortIndex;return ae!==0?ae:te.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],g=[],_=1,x=null,T=3,A=!1,b=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(te){for(var fe=t(g);fe!==null;){if(fe.callback===null)r(g);else if(fe.startTime<=te)r(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function se(te){if(U=!1,K(te),!b)if(t(p)!==null)b=!0,Y(ye);else{var fe=t(g);fe!==null&&ue(se,fe.startTime-te)}}function ye(te,fe){b=!1,U&&(U=!1,G(S),S=-1),A=!0;var ae=T;try{for(K(fe),x=t(p);x!==null&&(!(x.expirationTime>fe)||te&&!D());){var F=x.callback;if(typeof F=="function"){x.callback=null,T=x.priorityLevel;var j=F(x.expirationTime<=fe);fe=n.unstable_now(),typeof j=="function"?x.callback=j:x===t(p)&&r(p),K(fe)}else r(p);x=t(p)}if(x!==null)var be=!0;else{var Z=t(g);Z!==null&&ue(se,Z.startTime-fe),be=!1}return be}finally{x=null,T=ae,A=!1}}var me=!1,N=null,S=-1,C=5,P=-1;function D(){return!(n.unstable_now()-P<C)}function $(){if(N!==null){var te=n.unstable_now();P=te;var fe=!0;try{fe=N(!0,te)}finally{fe?k():(me=!1,N=null)}}else me=!1}var k;if(typeof Q=="function")k=function(){Q($)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,$e=Se.port2;Se.port1.onmessage=$,k=function(){$e.postMessage(null)}}else k=function(){L($,0)};function Y(te){N=te,me||(me=!0,k())}function ue(te,fe){S=L(function(){te(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){b||A||(b=!0,Y(ye))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var ae=T;T=fe;try{return te()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ae=T;T=te;try{return fe()}finally{T=ae}},n.unstable_scheduleCallback=function(te,fe,ae){var F=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?F+ae:F):ae=F,te){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ae+j,te={id:_++,callback:fe,priorityLevel:te,startTime:ae,expirationTime:j,sortIndex:-1},ae>F?(te.sortIndex=ae,e(g,te),t(p)===null&&te===t(g)&&(U?(G(S),S=-1):U=!0,ue(se,ae-F))):(te.sortIndex=j,e(p,te),b||A||(b=!0,Y(ye))),te},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(te){var fe=T;return function(){var ae=T;T=fe;try{return te.apply(this,arguments)}finally{T=ae}}}})(xf)),xf}var t0;function gT(){return t0||(t0=1,wf.exports=mT()),wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function yT(){if(n0)return on;n0=1;var n=Ap(),e=gT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},x={};function T(s){return p.call(x,s)?!0:p.call(_,s)?!1:g.test(s)?x[s]=!0:(_[s]=!0,!1)}function A(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,l,h){if(o===null||typeof o>"u"||A(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function U(s,o,l,h,m,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){L[s]=new U(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];L[o]=new U(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){L[s]=new U(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){L[s]=new U(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){L[s]=new U(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){L[s]=new U(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){L[s]=new U(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){L[s]=new U(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){L[s]=new U(s,5,!1,s.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(G,Q);L[o]=new U(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(G,Q);L[o]=new U(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(G,Q);L[o]=new U(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){L[s]=new U(s,1,!1,s.toLowerCase(),null,!1,!1)}),L.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){L[s]=new U(s,1,!1,s.toLowerCase(),null,!0,!0)});function K(s,o,l,h){var m=L.hasOwnProperty(o)?L[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,m,h)&&(l=null),h||m===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ye=Symbol.for("react.element"),me=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),te=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,F;function j(s){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var be=!1;function Z(s,o){if(!s||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(s,[],o)}else{try{o.call()}catch(H){h=H}s.call(o.prototype)}else{try{throw Error()}catch(H){h=H}s()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),y=h.stack.split(`
`),E=m.length-1,R=y.length-1;1<=E&&0<=R&&m[E]!==y[R];)R--;for(;1<=E&&0<=R;E--,R--)if(m[E]!==y[R]){if(E!==1||R!==1)do if(E--,R--,0>R||m[E]!==y[R]){var O=`
`+m[E].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=E&&0<=R);break}}}finally{be=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?j(s):""}function le(s){switch(s.tag){case 5:return j(s.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return s=Z(s.type,!1),s;case 11:return s=Z(s.type.render,!1),s;case 1:return s=Z(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case me:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case Se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $e:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case Y:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}function Ce(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function we(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function St(s){var o=De(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Zt(s){s._valueTracker||(s._valueTracker=St(s))}function ts(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=De(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function ns(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Xi(s,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function tu(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=we(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yi(s,o){o=o.checked,o!=null&&K(s,"checked",o,!1)}function ii(s,o){Yi(s,o);var l=we(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?mt(s,o.type,l):o.hasOwnProperty("defaultValue")&&mt(s,o.type,we(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ga(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function mt(s,o,l){(o!=="number"||ns(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ht=Array.isArray;function On(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+we(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ya(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function va(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(ht(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:we(l)}}function nu(s,o){var l=we(o.value),h=we(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function rs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function _a(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?_a(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ss,ru=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ss.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function oi(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},su=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(s){su.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),is[o]=is[s]})});function os(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||is.hasOwnProperty(s)&&is[s]?(""+o).trim():o+"px"}function Zi(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=os(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var wa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vn(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function eo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function to(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ar=null,kr=null,at=null;function xa(s){if(s=Ga(s)){if(typeof Ar!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Nu(o),Ar(s.stateNode,s.type,o))}}function ls(s){kr?at?at.push(s):at=[s]:kr=s}function us(){if(kr){var s=kr,o=at;if(at=kr=null,xa(s),o)for(s=0;s<o.length;s++)xa(o[s])}}function iu(s,o){return s(o)}function ou(){}var Zn=!1;function au(s,o,l){if(Zn)return s(o,l);Zn=!0;try{return iu(s,o,l)}finally{Zn=!1,(kr!==null||at!==null)&&(ou(),us())}}function ai(s,o){var l=s.stateNode;if(l===null)return null;var h=Nu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var cs=!1;if(d)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){cs=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{cs=!1}function lu(s,o,l,h,m,y,E,R,O){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(ne){this.onError(ne)}}var Rr=!1,er=null,no=!1,Tn=null,uu={onError:function(s){Rr=!0,er=s}};function cu(s,o,l,h,m,y,E,R,O){Rr=!1,er=null,lu.apply(uu,arguments)}function Ea(s,o,l,h,m,y,E,R,O){if(cu.apply(this,arguments),Rr){if(Rr){var H=er;Rr=!1,er=null}else throw Error(t(198));no||(no=!0,Tn=H)}}function Mn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ta(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function hu(s){if(Mn(s)!==s)throw Error(t(188))}function du(s){var o=s.alternate;if(!o){if(o=Mn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return hu(m),s;if(y===h)return hu(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var E=!1,R=m.child;R;){if(R===l){E=!0,l=m,h=y;break}if(R===h){E=!0,h=m,l=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===l){E=!0,l=y,h=m;break}if(R===h){E=!0,h=y,l=m;break}R=R.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function fu(s){return s=du(s),s!==null?li(s):null}function li(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=li(s);if(o!==null)return o;s=s.sibling}return null}var Ia=e.unstable_scheduleCallback,ro=e.unstable_cancelCallback,ui=e.unstable_shouldYield,Nr=e.unstable_requestPaint,Je=e.unstable_now,Kh=e.unstable_getCurrentPriorityLevel,so=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,ci=e.unstable_NormalPriority,ba=e.unstable_LowPriority,io=e.unstable_IdlePriority,hi=null,cn=null;function pu(s){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:di,tr=Math.log,In=Math.LN2;function di(s){return s>>>=0,s===0?32:31-(tr(s)/In|0)|0}var nr=64,ds=4194304;function He(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pr(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var R=E&~m;R!==0?h=He(R):(y&=E,y!==0&&(h=He(y)))}else E=l&~m,E!==0?h=He(E):y!==0&&(h=He(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-hn(o),m=1<<l,h|=s[l],o&=~m;return h}function fi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-hn(y),R=1<<E,O=m[E];O===-1?((R&l)===0||(R&h)!==0)&&(m[E]=fi(R,o)):O<=o&&(s.expiredLanes|=R),y&=~R}}function Ca(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Aa(){var s=nr;return nr<<=1,(nr&4194240)===0&&(nr=64),s}function ka(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function mi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-hn(o),s[o]=l}function Gh(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-hn(l),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~y}}function Ra(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-hn(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var Ue=0;function rr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Na,oo,Pa,ja,La,sr=!1,ao=[],ir=null,or=null,Nt=null,gi=new Map,jr=new Map,dn=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fs(s,o){switch(s){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(o.pointerId)}}function Fn(s,o,l,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ga(o),o!==null&&oo(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function gu(s,o,l,h,m){switch(o){case"focusin":return ir=Fn(ir,s,o,l,h,m),!0;case"dragenter":return or=Fn(or,s,o,l,h,m),!0;case"mouseover":return Nt=Fn(Nt,s,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return gi.set(y,Fn(gi.get(y)||null,s,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,jr.set(y,Fn(jr.get(y)||null,s,o,l,h,m)),!0}return!1}function lo(s){var o=wi(s.target);if(o!==null){var l=Mn(o);if(l!==null){if(o=l.tag,o===13){if(o=Ta(l),o!==null){s.blockedOn=o,La(s.priority,function(){Pa(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=uo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);as=h,l.target.dispatchEvent(h),as=null}else return o=Ga(l),o!==null&&oo(o),s.blockedOn=l,!1;o.shift()}return!0}function yu(s,o,l){Ge(s)&&l.delete(o)}function Qh(){sr=!1,ir!==null&&Ge(ir)&&(ir=null),or!==null&&Ge(or)&&(or=null),Nt!==null&&Ge(Nt)&&(Nt=null),gi.forEach(yu),jr.forEach(yu)}function ps(s,o){s.blockedOn===o&&(s.blockedOn=null,sr||(sr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qh)))}function ms(s){function o(m){return ps(m,s)}if(0<ao.length){ps(ao[0],s);for(var l=1;l<ao.length;l++){var h=ao[l];h.blockedOn===s&&(h.blockedOn=null)}}for(ir!==null&&ps(ir,s),or!==null&&ps(or,s),Nt!==null&&ps(Nt,s),gi.forEach(o),jr.forEach(o),l=0;l<dn.length;l++)h=dn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)lo(l),l.blockedOn===null&&dn.shift()}var Lr=se.ReactCurrentBatchConfig,Dr=!0;function ar(s,o,l,h){var m=Ue,y=Lr.transition;Lr.transition=null;try{Ue=1,Da(s,o,l,h)}finally{Ue=m,Lr.transition=y}}function vu(s,o,l,h){var m=Ue,y=Lr.transition;Lr.transition=null;try{Ue=4,Da(s,o,l,h)}finally{Ue=m,Lr.transition=y}}function Da(s,o,l,h){if(Dr){var m=uo(s,o,l,h);if(m===null)od(s,o,h,lr,l),fs(s,h);else if(gu(m,s,o,l,h))h.stopPropagation();else if(fs(s,h),o&4&&-1<mu.indexOf(s)){for(;m!==null;){var y=Ga(m);if(y!==null&&Na(y),y=uo(s,o,l,h),y===null&&od(s,o,h,lr,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else od(s,o,h,null,l)}}var lr=null;function uo(s,o,l,h){if(lr=null,s=to(h),s=wi(s),s!==null)if(o=Mn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ta(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return lr=s,null}function co(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kh()){case so:return 1;case Sa:return 4;case ci:case ba:return 16;case io:return 536870912;default:return 16}default:return 16}}var fn=null,ho=null,Or=null;function _u(){if(Or)return Or;var s,o=ho,l=o.length,h,m="value"in fn?fn.value:fn.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var E=l-s;for(h=1;h<=E&&o[l-h]===m[y-h];h++);return Or=m.slice(s,1<h?1-h:void 0)}function yi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ur(){return!0}function Oa(){return!1}function Ft(s){function o(l,h,m,y,E){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(l=s[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ur:Oa,this.isPropagationStopped=Oa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ft(cr),gs=ae({},cr,{view:0,detail:0}),fo=Ft(gs),po,mo,pn,_i=ae({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:je,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pn&&(pn&&s.type==="mousemove"?(po=s.screenX-pn.screenX,mo=s.screenY-pn.screenY):mo=po=0,pn=s),po)},movementY:function(s){return"movementY"in s?s.movementY:mo}}),Va=Ft(_i),wu=ae({},_i,{dataTransfer:0}),xu=Ft(wu),go=ae({},gs,{relatedTarget:0}),Pt=Ft(go),Eu=ae({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Ft(Eu),ys=ae({},cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Ft(ys),v=ae({},cr,{data:0}),w=Ft(v),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=W[s])?!!o[s]:!1}function je(){return oe}var dt=ae({},gs,{key:function(s){if(s.key){var o=I[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=yi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?z[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:je,charCode:function(s){return s.type==="keypress"?yi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?yi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ke=Ft(dt),gt=ae({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Ft(gt),Vr=ae({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:je}),hr=Ft(Vr),dr=ae({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=Ft(dr),Ma=ae({},_i,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),iE=Ft(Ma),oE=[9,13,27,32],Xh=d&&"CompositionEvent"in window,Fa=null;d&&"documentMode"in document&&(Fa=document.documentMode);var aE=d&&"TextEvent"in window&&!Fa,Bm=d&&(!Xh||Fa&&8<Fa&&11>=Fa),zm=" ",qm=!1;function Hm(s,o){switch(s){case"keyup":return oE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function lE(s,o){switch(s){case"compositionend":return Wm(o);case"keypress":return o.which!==32?null:(qm=!0,zm);case"textInput":return s=o.data,s===zm&&qm?null:s;default:return null}}function uE(s,o){if(vo)return s==="compositionend"||!Xh&&Hm(s,o)?(s=_u(),Or=ho=fn=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bm&&o.locale!=="ko"?null:o.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!cE[s.type]:o==="textarea"}function Gm(s,o,l,h){ls(h),o=Au(o,"onChange"),0<o.length&&(l=new vi("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var Ua=null,$a=null;function hE(s){dg(s,0)}function Iu(s){var o=To(s);if(ts(o))return s}function dE(s,o){if(s==="change")return o}var Qm=!1;if(d){var Yh;if(d){var Jh="oninput"in document;if(!Jh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Jh=typeof Xm.oninput=="function"}Yh=Jh}else Yh=!1;Qm=Yh&&(!document.documentMode||9<document.documentMode)}function Ym(){Ua&&(Ua.detachEvent("onpropertychange",Jm),$a=Ua=null)}function Jm(s){if(s.propertyName==="value"&&Iu($a)){var o=[];Gm(o,$a,s,to(s)),au(hE,o)}}function fE(s,o,l){s==="focusin"?(Ym(),Ua=o,$a=l,Ua.attachEvent("onpropertychange",Jm)):s==="focusout"&&Ym()}function pE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Iu($a)}function mE(s,o){if(s==="click")return Iu(o)}function gE(s,o){if(s==="input"||s==="change")return Iu(o)}function yE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Un=typeof Object.is=="function"?Object.is:yE;function Ba(s,o){if(Un(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!p.call(o,m)||!Un(s[m],o[m]))return!1}return!0}function Zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function eg(s,o){var l=Zm(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zm(l)}}function tg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?tg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ng(){for(var s=window,o=ns();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=ns(s.document)}return o}function Zh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function vE(s){var o=ng(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(h!==null&&Zh(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=eg(l,y);var E=eg(l,h);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _E=d&&"documentMode"in document&&11>=document.documentMode,_o=null,ed=null,za=null,td=!1;function rg(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;td||_o==null||_o!==ns(h)||(h=_o,"selectionStart"in h&&Zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),za&&Ba(za,h)||(za=h,h=Au(ed,"onSelect"),0<h.length&&(o=new vi("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=_o)))}function Su(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var wo={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},nd={},sg={};d&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function bu(s){if(nd[s])return nd[s];if(!wo[s])return s;var o=wo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in sg)return nd[s]=o[l];return s}var ig=bu("animationend"),og=bu("animationiteration"),ag=bu("animationstart"),lg=bu("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,o){ug.set(s,o),a(o,[s])}for(var rd=0;rd<cg.length;rd++){var sd=cg[rd],wE=sd.toLowerCase(),xE=sd[0].toUpperCase()+sd.slice(1);vs(wE,"on"+xE)}vs(ig,"onAnimationEnd"),vs(og,"onAnimationIteration"),vs(ag,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function hg(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,Ea(h,o,void 0,s),s.currentTarget=null}function dg(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var E=h.length-1;0<=E;E--){var R=h[E],O=R.instance,H=R.currentTarget;if(R=R.listener,O!==y&&m.isPropagationStopped())break e;hg(m,R,H),y=O}else for(E=0;E<h.length;E++){if(R=h[E],O=R.instance,H=R.currentTarget,R=R.listener,O!==y&&m.isPropagationStopped())break e;hg(m,R,H),y=O}}}if(no)throw s=Tn,no=!1,Tn=null,s}function Ze(s,o){var l=o[dd];l===void 0&&(l=o[dd]=new Set);var h=s+"__bubble";l.has(h)||(fg(o,s,2,!1),l.add(h))}function id(s,o,l){var h=0;o&&(h|=4),fg(l,s,h,o)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ha(s){if(!s[Cu]){s[Cu]=!0,r.forEach(function(l){l!=="selectionchange"&&(EE.has(l)||id(l,!1,s),id(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Cu]||(o[Cu]=!0,id("selectionchange",!1,o))}}function fg(s,o,l,h){switch(co(o)){case 1:var m=ar;break;case 4:m=vu;break;default:m=Da}l=m.bind(null,o,l,s),m=void 0,!cs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function od(s,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;E=E.return}for(;R!==null;){if(E=wi(R),E===null)return;if(O=E.tag,O===5||O===6){h=y=E;continue e}R=R.parentNode}}h=h.return}au(function(){var H=y,ne=to(l),re=[];e:{var ee=ug.get(s);if(ee!==void 0){var he=vi,ge=s;switch(s){case"keypress":if(yi(l)===0)break e;case"keydown":case"keyup":he=Ke;break;case"focusin":ge="focus",he=Pt;break;case"focusout":ge="blur",he=Pt;break;case"beforeblur":case"afterblur":he=Pt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=hr;break;case ig:case og:case ag:he=Tu;break;case lg:he=yo;break;case"scroll":he=fo;break;case"wheel":he=iE;break;case"copy":case"cut":case"paste":he=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=mn}var ve=(o&4)!==0,ft=!ve&&s==="scroll",B=ve?ee!==null?ee+"Capture":null:ee;ve=[];for(var M=H,q;M!==null;){q=M;var ie=q.stateNode;if(q.tag===5&&ie!==null&&(q=ie,B!==null&&(ie=ai(M,B),ie!=null&&ve.push(Wa(M,ie,q)))),ft)break;M=M.return}0<ve.length&&(ee=new he(ee,ge,null,l,ne),re.push({event:ee,listeners:ve}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ee&&l!==as&&(ge=l.relatedTarget||l.fromElement)&&(wi(ge)||ge[Mr]))break e;if((he||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,he?(ge=l.relatedTarget||l.toElement,he=H,ge=ge?wi(ge):null,ge!==null&&(ft=Mn(ge),ge!==ft||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(he=null,ge=H),he!==ge)){if(ve=Va,ie="onMouseLeave",B="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(ve=mn,ie="onPointerLeave",B="onPointerEnter",M="pointer"),ft=he==null?ee:To(he),q=ge==null?ee:To(ge),ee=new ve(ie,M+"leave",he,l,ne),ee.target=ft,ee.relatedTarget=q,ie=null,wi(ne)===H&&(ve=new ve(B,M+"enter",ge,l,ne),ve.target=q,ve.relatedTarget=ft,ie=ve),ft=ie,he&&ge)t:{for(ve=he,B=ge,M=0,q=ve;q;q=xo(q))M++;for(q=0,ie=B;ie;ie=xo(ie))q++;for(;0<M-q;)ve=xo(ve),M--;for(;0<q-M;)B=xo(B),q--;for(;M--;){if(ve===B||B!==null&&ve===B.alternate)break t;ve=xo(ve),B=xo(B)}ve=null}else ve=null;he!==null&&pg(re,ee,he,ve,!1),ge!==null&&ft!==null&&pg(re,ft,ge,ve,!0)}}e:{if(ee=H?To(H):window,he=ee.nodeName&&ee.nodeName.toLowerCase(),he==="select"||he==="input"&&ee.type==="file")var _e=dE;else if(Km(ee))if(Qm)_e=gE;else{_e=pE;var Te=fE}else(he=ee.nodeName)&&he.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=mE);if(_e&&(_e=_e(s,H))){Gm(re,_e,l,ne);break e}Te&&Te(s,ee,H),s==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&mt(ee,"number",ee.value)}switch(Te=H?To(H):window,s){case"focusin":(Km(Te)||Te.contentEditable==="true")&&(_o=Te,ed=H,za=null);break;case"focusout":za=ed=_o=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,rg(re,l,ne);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":rg(re,l,ne)}var Ie;if(Xh)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else vo?Hm(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Bm&&l.locale!=="ko"&&(vo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&vo&&(Ie=_u()):(fn=ne,ho="value"in fn?fn.value:fn.textContent,vo=!0)),Te=Au(H,Re),0<Te.length&&(Re=new w(Re,s,null,l,ne),re.push({event:Re,listeners:Te}),Ie?Re.data=Ie:(Ie=Wm(l),Ie!==null&&(Re.data=Ie)))),(Ie=aE?lE(s,l):uE(s,l))&&(H=Au(H,"onBeforeInput"),0<H.length&&(ne=new w("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:H}),ne.data=Ie))}dg(re,o)})}function Wa(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Au(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ai(s,l),y!=null&&h.unshift(Wa(s,y,m)),y=ai(s,o),y!=null&&h.push(Wa(s,y,m))),s=s.return}return h}function xo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pg(s,o,l,h,m){for(var y=o._reactName,E=[];l!==null&&l!==h;){var R=l,O=R.alternate,H=R.stateNode;if(O!==null&&O===h)break;R.tag===5&&H!==null&&(R=H,m?(O=ai(l,y),O!=null&&E.unshift(Wa(l,O,R))):m||(O=ai(l,y),O!=null&&E.push(Wa(l,O,R)))),l=l.return}E.length!==0&&s.push({event:o,listeners:E})}var TE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function mg(s){return(typeof s=="string"?s:""+s).replace(TE,`
`).replace(IE,"")}function ku(s,o,l){if(o=mg(o),mg(s)!==o&&l)throw Error(t(425))}function Ru(){}var ad=null,ld=null;function ud(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(s){return gg.resolve(null).then(s).catch(CE)}:cd;function CE(s){setTimeout(function(){throw s})}function hd(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),ms(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);ms(o)}function _s(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function yg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),fr="__reactFiber$"+Eo,Ka="__reactProps$"+Eo,Mr="__reactContainer$"+Eo,dd="__reactEvents$"+Eo,AE="__reactListeners$"+Eo,kE="__reactHandles$"+Eo;function wi(s){var o=s[fr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Mr]||l[fr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=yg(s);s!==null;){if(l=s[fr])return l;s=yg(s)}return o}s=l,l=s.parentNode}return null}function Ga(s){return s=s[fr]||s[Mr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function To(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Nu(s){return s[Ka]||null}var fd=[],Io=-1;function ws(s){return{current:s}}function et(s){0>Io||(s.current=fd[Io],fd[Io]=null,Io--)}function Qe(s,o){Io++,fd[Io]=s.current,s.current=o}var xs={},Ut=ws(xs),en=ws(!1),xi=xs;function So(s,o){var l=s.type.contextTypes;if(!l)return xs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function tn(s){return s=s.childContextTypes,s!=null}function Pu(){et(en),et(Ut)}function vg(s,o,l){if(Ut.current!==xs)throw Error(t(168));Qe(Ut,o),Qe(en,l)}function _g(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ce(s)||"Unknown",m));return ae({},l,h)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||xs,xi=Ut.current,Qe(Ut,s),Qe(en,en.current),!0}function wg(s,o,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=_g(s,o,xi),h.__reactInternalMemoizedMergedChildContext=s,et(en),et(Ut),Qe(Ut,s)):et(en),Qe(en,l)}var Fr=null,Lu=!1,pd=!1;function xg(s){Fr===null?Fr=[s]:Fr.push(s)}function RE(s){Lu=!0,xg(s)}function Es(){if(!pd&&Fr!==null){pd=!0;var s=0,o=Ue;try{var l=Fr;for(Ue=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Fr=null,Lu=!1}catch(m){throw Fr!==null&&(Fr=Fr.slice(s+1)),Ia(so,Es),m}finally{Ue=o,pd=!1}}return null}var bo=[],Co=0,Du=null,Ou=0,Sn=[],bn=0,Ei=null,Ur=1,$r="";function Ti(s,o){bo[Co++]=Ou,bo[Co++]=Du,Du=s,Ou=o}function Eg(s,o,l){Sn[bn++]=Ur,Sn[bn++]=$r,Sn[bn++]=Ei,Ei=s;var h=Ur;s=$r;var m=32-hn(h)-1;h&=~(1<<m),l+=1;var y=32-hn(o)+m;if(30<y){var E=m-m%5;y=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Ur=1<<32-hn(o)+m|l<<m|h,$r=y+s}else Ur=1<<y|l<<m|h,$r=s}function md(s){s.return!==null&&(Ti(s,1),Eg(s,1,0))}function gd(s){for(;s===Du;)Du=bo[--Co],bo[Co]=null,Ou=bo[--Co],bo[Co]=null;for(;s===Ei;)Ei=Sn[--bn],Sn[bn]=null,$r=Sn[--bn],Sn[bn]=null,Ur=Sn[--bn],Sn[bn]=null}var gn=null,yn=null,nt=!1,$n=null;function Tg(s,o){var l=Rn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Ig(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,gn=s,yn=_s(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,gn=s,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ei!==null?{id:Ur,overflow:$r}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Rn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,gn=s,yn=null,!0):!1;default:return!1}}function yd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vd(s){if(nt){var o=yn;if(o){var l=o;if(!Ig(s,o)){if(yd(s))throw Error(t(418));o=_s(l.nextSibling);var h=gn;o&&Ig(s,o)?Tg(h,l):(s.flags=s.flags&-4097|2,nt=!1,gn=s)}}else{if(yd(s))throw Error(t(418));s.flags=s.flags&-4097|2,nt=!1,gn=s}}}function Sg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gn=s}function Vu(s){if(s!==gn)return!1;if(!nt)return Sg(s),nt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ud(s.type,s.memoizedProps)),o&&(o=yn)){if(yd(s))throw bg(),Error(t(418));for(;o;)Tg(s,o),o=_s(o.nextSibling)}if(Sg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){yn=_s(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}yn=null}}else yn=gn?_s(s.stateNode.nextSibling):null;return!0}function bg(){for(var s=yn;s;)s=_s(s.nextSibling)}function Ao(){yn=gn=null,nt=!1}function _d(s){$n===null?$n=[s]:$n.push(s)}var NE=se.ReactCurrentBatchConfig;function Qa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var R=m.refs;E===null?delete R[y]:R[y]=E},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Mu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Cg(s){var o=s._init;return o(s._payload)}function Ag(s){function o(B,M){if(s){var q=B.deletions;q===null?(B.deletions=[M],B.flags|=16):q.push(M)}}function l(B,M){if(!s)return null;for(;M!==null;)o(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function m(B,M){return B=Rs(B,M),B.index=0,B.sibling=null,B}function y(B,M,q){return B.index=q,s?(q=B.alternate,q!==null?(q=q.index,q<M?(B.flags|=2,M):q):(B.flags|=2,M)):(B.flags|=1048576,M)}function E(B){return s&&B.alternate===null&&(B.flags|=2),B}function R(B,M,q,ie){return M===null||M.tag!==6?(M=hf(q,B.mode,ie),M.return=B,M):(M=m(M,q),M.return=B,M)}function O(B,M,q,ie){var _e=q.type;return _e===N?ne(B,M,q.props.children,ie,q.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&Cg(_e)===M.type)?(ie=m(M,q.props),ie.ref=Qa(B,M,q),ie.return=B,ie):(ie=lc(q.type,q.key,q.props,null,B.mode,ie),ie.ref=Qa(B,M,q),ie.return=B,ie)}function H(B,M,q,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=df(q,B.mode,ie),M.return=B,M):(M=m(M,q.children||[]),M.return=B,M)}function ne(B,M,q,ie,_e){return M===null||M.tag!==7?(M=Ni(q,B.mode,ie,_e),M.return=B,M):(M=m(M,q),M.return=B,M)}function re(B,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=hf(""+M,B.mode,q),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ye:return q=lc(M.type,M.key,M.props,null,B.mode,q),q.ref=Qa(B,null,M),q.return=B,q;case me:return M=df(M,B.mode,q),M.return=B,M;case Y:var ie=M._init;return re(B,ie(M._payload),q)}if(ht(M)||fe(M))return M=Ni(M,B.mode,q,null),M.return=B,M;Mu(B,M)}return null}function ee(B,M,q,ie){var _e=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return _e!==null?null:R(B,M,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ye:return q.key===_e?O(B,M,q,ie):null;case me:return q.key===_e?H(B,M,q,ie):null;case Y:return _e=q._init,ee(B,M,_e(q._payload),ie)}if(ht(q)||fe(q))return _e!==null?null:ne(B,M,q,ie,null);Mu(B,q)}return null}function he(B,M,q,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(q)||null,R(M,B,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ye:return B=B.get(ie.key===null?q:ie.key)||null,O(M,B,ie,_e);case me:return B=B.get(ie.key===null?q:ie.key)||null,H(M,B,ie,_e);case Y:var Te=ie._init;return he(B,M,q,Te(ie._payload),_e)}if(ht(ie)||fe(ie))return B=B.get(q)||null,ne(M,B,ie,_e,null);Mu(M,ie)}return null}function ge(B,M,q,ie){for(var _e=null,Te=null,Ie=M,Re=M=0,At=null;Ie!==null&&Re<q.length;Re++){Ie.index>Re?(At=Ie,Ie=null):At=Ie.sibling;var qe=ee(B,Ie,q[Re],ie);if(qe===null){Ie===null&&(Ie=At);break}s&&Ie&&qe.alternate===null&&o(B,Ie),M=y(qe,M,Re),Te===null?_e=qe:Te.sibling=qe,Te=qe,Ie=At}if(Re===q.length)return l(B,Ie),nt&&Ti(B,Re),_e;if(Ie===null){for(;Re<q.length;Re++)Ie=re(B,q[Re],ie),Ie!==null&&(M=y(Ie,M,Re),Te===null?_e=Ie:Te.sibling=Ie,Te=Ie);return nt&&Ti(B,Re),_e}for(Ie=h(B,Ie);Re<q.length;Re++)At=he(Ie,B,Re,q[Re],ie),At!==null&&(s&&At.alternate!==null&&Ie.delete(At.key===null?Re:At.key),M=y(At,M,Re),Te===null?_e=At:Te.sibling=At,Te=At);return s&&Ie.forEach(function(Ns){return o(B,Ns)}),nt&&Ti(B,Re),_e}function ve(B,M,q,ie){var _e=fe(q);if(typeof _e!="function")throw Error(t(150));if(q=_e.call(q),q==null)throw Error(t(151));for(var Te=_e=null,Ie=M,Re=M=0,At=null,qe=q.next();Ie!==null&&!qe.done;Re++,qe=q.next()){Ie.index>Re?(At=Ie,Ie=null):At=Ie.sibling;var Ns=ee(B,Ie,qe.value,ie);if(Ns===null){Ie===null&&(Ie=At);break}s&&Ie&&Ns.alternate===null&&o(B,Ie),M=y(Ns,M,Re),Te===null?_e=Ns:Te.sibling=Ns,Te=Ns,Ie=At}if(qe.done)return l(B,Ie),nt&&Ti(B,Re),_e;if(Ie===null){for(;!qe.done;Re++,qe=q.next())qe=re(B,qe.value,ie),qe!==null&&(M=y(qe,M,Re),Te===null?_e=qe:Te.sibling=qe,Te=qe);return nt&&Ti(B,Re),_e}for(Ie=h(B,Ie);!qe.done;Re++,qe=q.next())qe=he(Ie,B,Re,qe.value,ie),qe!==null&&(s&&qe.alternate!==null&&Ie.delete(qe.key===null?Re:qe.key),M=y(qe,M,Re),Te===null?_e=qe:Te.sibling=qe,Te=qe);return s&&Ie.forEach(function(cT){return o(B,cT)}),nt&&Ti(B,Re),_e}function ft(B,M,q,ie){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ye:e:{for(var _e=q.key,Te=M;Te!==null;){if(Te.key===_e){if(_e=q.type,_e===N){if(Te.tag===7){l(B,Te.sibling),M=m(Te,q.props.children),M.return=B,B=M;break e}}else if(Te.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&Cg(_e)===Te.type){l(B,Te.sibling),M=m(Te,q.props),M.ref=Qa(B,Te,q),M.return=B,B=M;break e}l(B,Te);break}else o(B,Te);Te=Te.sibling}q.type===N?(M=Ni(q.props.children,B.mode,ie,q.key),M.return=B,B=M):(ie=lc(q.type,q.key,q.props,null,B.mode,ie),ie.ref=Qa(B,M,q),ie.return=B,B=ie)}return E(B);case me:e:{for(Te=q.key;M!==null;){if(M.key===Te)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){l(B,M.sibling),M=m(M,q.children||[]),M.return=B,B=M;break e}else{l(B,M);break}else o(B,M);M=M.sibling}M=df(q,B.mode,ie),M.return=B,B=M}return E(B);case Y:return Te=q._init,ft(B,M,Te(q._payload),ie)}if(ht(q))return ge(B,M,q,ie);if(fe(q))return ve(B,M,q,ie);Mu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(l(B,M.sibling),M=m(M,q),M.return=B,B=M):(l(B,M),M=hf(q,B.mode,ie),M.return=B,B=M),E(B)):l(B,M)}return ft}var ko=Ag(!0),kg=Ag(!1),Fu=ws(null),Uu=null,Ro=null,wd=null;function xd(){wd=Ro=Uu=null}function Ed(s){var o=Fu.current;et(Fu),s._currentValue=o}function Td(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function No(s,o){Uu=s,wd=Ro=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(nn=!0),s.firstContext=null)}function Cn(s){var o=s._currentValue;if(wd!==s)if(s={context:s,memoizedValue:o,next:null},Ro===null){if(Uu===null)throw Error(t(308));Ro=s,Uu.dependencies={lanes:0,firstContext:s}}else Ro=Ro.next=s;return o}var Ii=null;function Id(s){Ii===null?Ii=[s]:Ii.push(s)}function Rg(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Id(o)):(l.next=m.next,m.next=l),o.interleaved=l,Br(s,h)}function Br(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ts=!1;function Sd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function zr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Is(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ze&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Br(s,l)}return m=h.interleaved,m===null?(o.next=o,Id(h)):(o.next=m.next,m.next=o),h.interleaved=o,Br(s,l)}function $u(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ra(s,l)}}function Pg(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Bu(s,o,l,h){var m=s.updateQueue;Ts=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,H=O.next;O.next=null,E===null?y=H:E.next=H,E=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==E&&(R===null?ne.firstBaseUpdate=H:R.next=H,ne.lastBaseUpdate=O))}if(y!==null){var re=m.baseState;E=0,ne=H=O=null,R=y;do{var ee=R.lane,he=R.eventTime;if((h&ee)===ee){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=s,ve=R;switch(ee=o,he=l,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){re=ge.call(he,re,ee);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,ee=typeof ge=="function"?ge.call(he,re,ee):ge,ee==null)break e;re=ae({},re,ee);break e;case 2:Ts=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[R]:ee.push(R))}else he={eventTime:he,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(H=ne=he,O=re):ne=ne.next=he,E|=ee;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(O=re),m.baseState=O,m.firstBaseUpdate=H,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Ci|=E,s.lanes=E,s.memoizedState=re}}function jg(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Xa={},pr=ws(Xa),Ya=ws(Xa),Ja=ws(Xa);function Si(s){if(s===Xa)throw Error(t(174));return s}function bd(s,o){switch(Qe(Ja,o),Qe(Ya,s),Qe(pr,Xa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ji(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ji(o,s)}et(pr),Qe(pr,o)}function Po(){et(pr),et(Ya),et(Ja)}function Lg(s){Si(Ja.current);var o=Si(pr.current),l=Ji(o,s.type);o!==l&&(Qe(Ya,s),Qe(pr,l))}function Cd(s){Ya.current===s&&(et(pr),et(Ya))}var rt=ws(0);function zu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ad=[];function kd(){for(var s=0;s<Ad.length;s++)Ad[s]._workInProgressVersionPrimary=null;Ad.length=0}var qu=se.ReactCurrentDispatcher,Rd=se.ReactCurrentBatchConfig,bi=0,st=null,xt=null,bt=null,Hu=!1,Za=!1,el=0,PE=0;function $t(){throw Error(t(321))}function Nd(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Un(s[l],o[l]))return!1;return!0}function Pd(s,o,l,h,m,y){if(bi=y,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qu.current=s===null||s.memoizedState===null?OE:VE,s=l(h,m),Za){y=0;do{if(Za=!1,el=0,25<=y)throw Error(t(301));y+=1,bt=xt=null,o.updateQueue=null,qu.current=ME,s=l(h,m)}while(Za)}if(qu.current=Gu,o=xt!==null&&xt.next!==null,bi=0,bt=xt=st=null,Hu=!1,o)throw Error(t(300));return s}function jd(){var s=el!==0;return el=0,s}function mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?st.memoizedState=bt=s:bt=bt.next=s,bt}function An(){if(xt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var o=bt===null?st.memoizedState:bt.next;if(o!==null)bt=o,xt=s;else{if(s===null)throw Error(t(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?st.memoizedState=bt=s:bt=bt.next=s}return bt}function tl(s,o){return typeof o=="function"?o(s):o}function Ld(s){var o=An(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=xt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var R=E=null,O=null,H=y;do{var ne=H.lane;if((bi&ne)===ne)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:s(h,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(R=O=re,E=h):O=O.next=re,st.lanes|=ne,Ci|=ne}H=H.next}while(H!==null&&H!==y);O===null?E=h:O.next=R,Un(h,o.memoizedState)||(nn=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=O,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do y=m.lane,st.lanes|=y,Ci|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Dd(s){var o=An(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=s(y,E.action),E=E.next;while(E!==m);Un(y,o.memoizedState)||(nn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Dg(){}function Og(s,o){var l=st,h=An(),m=o(),y=!Un(h.memoizedState,m);if(y&&(h.memoizedState=m,nn=!0),h=h.queue,Od(Fg.bind(null,l,h,s),[s]),h.getSnapshot!==o||y||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,nl(9,Mg.bind(null,l,h,m,o),void 0,null),Ct===null)throw Error(t(349));(bi&30)!==0||Vg(l,o,m)}return m}function Vg(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Mg(s,o,l,h){o.value=l,o.getSnapshot=h,Ug(o)&&$g(s)}function Fg(s,o,l){return l(function(){Ug(o)&&$g(s)})}function Ug(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Un(s,l)}catch{return!0}}function $g(s){var o=Br(s,1);o!==null&&Hn(o,s,1,-1)}function Bg(s){var o=mr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:s},o.queue=s,s=s.dispatch=DE.bind(null,st,s),[o.memoizedState,s]}function nl(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function zg(){return An().memoizedState}function Wu(s,o,l,h){var m=mr();st.flags|=s,m.memoizedState=nl(1|o,l,void 0,h===void 0?null:h)}function Ku(s,o,l,h){var m=An();h=h===void 0?null:h;var y=void 0;if(xt!==null){var E=xt.memoizedState;if(y=E.destroy,h!==null&&Nd(h,E.deps)){m.memoizedState=nl(o,l,y,h);return}}st.flags|=s,m.memoizedState=nl(1|o,l,y,h)}function qg(s,o){return Wu(8390656,8,s,o)}function Od(s,o){return Ku(2048,8,s,o)}function Hg(s,o){return Ku(4,2,s,o)}function Wg(s,o){return Ku(4,4,s,o)}function Kg(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Gg(s,o,l){return l=l!=null?l.concat([s]):null,Ku(4,4,Kg.bind(null,o,s),l)}function Vd(){}function Qg(s,o){var l=An();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Nd(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function Xg(s,o){var l=An();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Nd(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function Yg(s,o,l){return(bi&21)===0?(s.baseState&&(s.baseState=!1,nn=!0),s.memoizedState=l):(Un(l,o)||(l=Aa(),st.lanes|=l,Ci|=l,s.baseState=!0),o)}function jE(s,o){var l=Ue;Ue=l!==0&&4>l?l:4,s(!0);var h=Rd.transition;Rd.transition={};try{s(!1),o()}finally{Ue=l,Rd.transition=h}}function Jg(){return An().memoizedState}function LE(s,o,l){var h=As(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Zg(s))ey(o,l);else if(l=Rg(s,o,l,h),l!==null){var m=Xt();Hn(l,s,h,m),ty(l,o,h)}}function DE(s,o,l){var h=As(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zg(s))ey(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,R=y(E,l);if(m.hasEagerState=!0,m.eagerState=R,Un(R,E)){var O=o.interleaved;O===null?(m.next=m,Id(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}l=Rg(s,o,m,h),l!==null&&(m=Xt(),Hn(l,s,h,m),ty(l,o,h))}}function Zg(s){var o=s.alternate;return s===st||o!==null&&o===st}function ey(s,o){Za=Hu=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function ty(s,o,l){if((l&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ra(s,l)}}var Gu={readContext:Cn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},OE={readContext:Cn,useCallback:function(s,o){return mr().memoizedState=[s,o===void 0?null:o],s},useContext:Cn,useEffect:qg,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Wu(4194308,4,Kg.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Wu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Wu(4,2,s,o)},useMemo:function(s,o){var l=mr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=mr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=LE.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var o=mr();return s={current:s},o.memoizedState=s},useState:Bg,useDebugValue:Vd,useDeferredValue:function(s){return mr().memoizedState=s},useTransition:function(){var s=Bg(!1),o=s[0];return s=jE.bind(null,s[1]),mr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=st,m=mr();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ct===null)throw Error(t(349));(bi&30)!==0||Vg(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,qg(Fg.bind(null,h,y,s),[s]),h.flags|=2048,nl(9,Mg.bind(null,h,y,l,o),void 0,null),l},useId:function(){var s=mr(),o=Ct.identifierPrefix;if(nt){var l=$r,h=Ur;l=(h&~(1<<32-hn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=el++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=PE++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},VE={readContext:Cn,useCallback:Qg,useContext:Cn,useEffect:Od,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Xg,useReducer:Ld,useRef:zg,useState:function(){return Ld(tl)},useDebugValue:Vd,useDeferredValue:function(s){var o=An();return Yg(o,xt.memoizedState,s)},useTransition:function(){var s=Ld(tl)[0],o=An().memoizedState;return[s,o]},useMutableSource:Dg,useSyncExternalStore:Og,useId:Jg,unstable_isNewReconciler:!1},ME={readContext:Cn,useCallback:Qg,useContext:Cn,useEffect:Od,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Xg,useReducer:Dd,useRef:zg,useState:function(){return Dd(tl)},useDebugValue:Vd,useDeferredValue:function(s){var o=An();return xt===null?o.memoizedState=s:Yg(o,xt.memoizedState,s)},useTransition:function(){var s=Dd(tl)[0],o=An().memoizedState;return[s,o]},useMutableSource:Dg,useSyncExternalStore:Og,useId:Jg,unstable_isNewReconciler:!1};function Bn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Md(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qu={isMounted:function(s){return(s=s._reactInternals)?Mn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=Xt(),m=As(s),y=zr(h,m);y.payload=o,l!=null&&(y.callback=l),o=Is(s,y,m),o!==null&&(Hn(o,s,m,h),$u(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=Xt(),m=As(s),y=zr(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Is(s,y,m),o!==null&&(Hn(o,s,m,h),$u(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Xt(),h=As(s),m=zr(l,h);m.tag=2,o!=null&&(m.callback=o),o=Is(s,m,h),o!==null&&(Hn(o,s,h,l),$u(o,s,h))}};function ny(s,o,l,h,m,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):o.prototype&&o.prototype.isPureReactComponent?!Ba(l,h)||!Ba(m,y):!0}function ry(s,o,l){var h=!1,m=xs,y=o.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(m=tn(o)?xi:Ut.current,h=o.contextTypes,y=(h=h!=null)?So(s,m):xs),o=new o(l,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function sy(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Qu.enqueueReplaceState(o,o.state,null)}function Fd(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Sd(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Cn(y):(y=tn(o)?xi:Ut.current,m.context=So(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Md(s,o,y,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Qu.enqueueReplaceState(m,m.state,null),Bu(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function jo(s,o){try{var l="",h=o;do l+=le(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Ud(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function $d(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var FE=typeof WeakMap=="function"?WeakMap:Map;function iy(s,o,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){nc||(nc=!0,nf=h),$d(s,o)},l}function oy(s,o,l){l=zr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){$d(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){$d(s,o),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function ay(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new FE;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=ZE.bind(null,s,o,l),o.then(s,s))}function ly(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function uy(s,o,l,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=zr(-1,1),o.tag=2,Is(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var UE=se.ReactCurrentOwner,nn=!1;function Qt(s,o,l,h){o.child=s===null?kg(o,null,l,h):ko(o,s.child,l,h)}function cy(s,o,l,h,m){l=l.render;var y=o.ref;return No(o,m),h=Pd(s,o,l,h,y,m),l=jd(),s!==null&&!nn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,qr(s,o,m)):(nt&&l&&md(o),o.flags|=1,Qt(s,o,h,m),o.child)}function hy(s,o,l,h,m){if(s===null){var y=l.type;return typeof y=="function"&&!cf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,dy(s,o,y,h,m)):(s=lc(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(E,h)&&s.ref===o.ref)return qr(s,o,m)}return o.flags|=1,s=Rs(y,h),s.ref=o.ref,s.return=o,o.child=s}function dy(s,o,l,h,m){if(s!==null){var y=s.memoizedProps;if(Ba(y,h)&&s.ref===o.ref)if(nn=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(nn=!0);else return o.lanes=s.lanes,qr(s,o,m)}return Bd(s,o,l,h,m)}function fy(s,o,l){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Do,vn),vn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(Do,vn),vn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Qe(Do,vn),vn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Qe(Do,vn),vn|=h;return Qt(s,o,m,l),o.child}function py(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Bd(s,o,l,h,m){var y=tn(l)?xi:Ut.current;return y=So(o,y),No(o,m),l=Pd(s,o,l,h,y,m),h=jd(),s!==null&&!nn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,qr(s,o,m)):(nt&&h&&md(o),o.flags|=1,Qt(s,o,l,m),o.child)}function my(s,o,l,h,m){if(tn(l)){var y=!0;ju(o)}else y=!1;if(No(o,m),o.stateNode===null)Yu(s,o),ry(o,l,h),Fd(o,l,h,m),h=!0;else if(s===null){var E=o.stateNode,R=o.memoizedProps;E.props=R;var O=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=Cn(H):(H=tn(l)?xi:Ut.current,H=So(o,H));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==h||O!==H)&&sy(o,E,h,H),Ts=!1;var ee=o.memoizedState;E.state=ee,Bu(o,h,E,m),O=o.memoizedState,R!==h||ee!==O||en.current||Ts?(typeof ne=="function"&&(Md(o,l,ne,h),O=o.memoizedState),(R=Ts||ny(o,l,R,h,ee,O,H))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),E.props=h,E.state=O,E.context=H,h=R):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Ng(s,o),R=o.memoizedProps,H=o.type===o.elementType?R:Bn(o.type,R),E.props=H,re=o.pendingProps,ee=E.context,O=l.contextType,typeof O=="object"&&O!==null?O=Cn(O):(O=tn(l)?xi:Ut.current,O=So(o,O));var he=l.getDerivedStateFromProps;(ne=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==re||ee!==O)&&sy(o,E,h,O),Ts=!1,ee=o.memoizedState,E.state=ee,Bu(o,h,E,m);var ge=o.memoizedState;R!==re||ee!==ge||en.current||Ts?(typeof he=="function"&&(Md(o,l,he,h),ge=o.memoizedState),(H=Ts||ny(o,l,H,h,ee,ge,O)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ge,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ge,O)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ge),E.props=h,E.state=ge,E.context=O,h=H):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return zd(s,o,l,h,y,m)}function zd(s,o,l,h,m,y){py(s,o);var E=(o.flags&128)!==0;if(!h&&!E)return m&&wg(o,l,!1),qr(s,o,y);h=o.stateNode,UE.current=o;var R=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&E?(o.child=ko(o,s.child,null,y),o.child=ko(o,null,R,y)):Qt(s,o,R,y),o.memoizedState=h.state,m&&wg(o,l,!0),o.child}function gy(s){var o=s.stateNode;o.pendingContext?vg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&vg(s,o.context,!1),bd(s,o.containerInfo)}function yy(s,o,l,h,m){return Ao(),_d(m),o.flags|=256,Qt(s,o,l,h),o.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Hd(s){return{baseLanes:s,cachePool:null,transitions:null}}function vy(s,o,l){var h=o.pendingProps,m=rt.current,y=!1,E=(o.flags&128)!==0,R;if((R=E)||(R=s!==null&&s.memoizedState===null?!1:(m&2)!==0),R?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(rt,m&1),s===null)return vd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,s=h.fallback,y?(h=o.mode,y=o.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=uc(E,h,0,null),s=Ni(s,h,l,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Hd(l),o.memoizedState=qd,s):Wd(o,E));if(m=s.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return $E(s,o,E,h,R,m,l);if(y){y=h.fallback,E=o.mode,m=s.child,R=m.sibling;var O={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Rs(m,O),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=Rs(R,y):(y=Ni(y,E,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,E=s.child.memoizedState,E=E===null?Hd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,o.memoizedState=qd,h}return y=s.child,s=y.sibling,h=Rs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Wd(s,o){return o=uc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Xu(s,o,l,h){return h!==null&&_d(h),ko(o,s.child,null,l),s=Wd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function $E(s,o,l,h,m,y,E){if(l)return o.flags&256?(o.flags&=-257,h=Ud(Error(t(422))),Xu(s,o,E,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=uc({mode:"visible",children:h.children},m,0,null),y=Ni(y,m,E,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ko(o,s.child,null,E),o.child.memoizedState=Hd(E),o.memoizedState=qd,y);if((o.mode&1)===0)return Xu(s,o,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=Ud(y,h,void 0),Xu(s,o,E,h)}if(R=(E&s.childLanes)!==0,nn||R){if(h=Ct,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Br(s,m),Hn(h,s,m,-1))}return uf(),h=Ud(Error(t(421))),Xu(s,o,E,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=eT.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,yn=_s(m.nextSibling),gn=o,nt=!0,$n=null,s!==null&&(Sn[bn++]=Ur,Sn[bn++]=$r,Sn[bn++]=Ei,Ur=s.id,$r=s.overflow,Ei=o),o=Wd(o,h.children),o.flags|=4096,o)}function _y(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Td(s.return,o,l)}function Kd(s,o,l,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function wy(s,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Qt(s,o,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_y(s,l,o);else if(s.tag===19)_y(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Qe(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&zu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Kd(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&zu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Kd(o,!0,l,null,y);break;case"together":Kd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function qr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ci|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=Rs(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Rs(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function BE(s,o,l){switch(o.tag){case 3:gy(o),Ao();break;case 5:Lg(o);break;case 1:tn(o.type)&&ju(o);break;case 4:bd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Qe(Fu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?vy(s,o,l):(Qe(rt,rt.current&1),s=qr(s,o,l),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(s.flags&128)!==0){if(h)return wy(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,fy(s,o,l)}return qr(s,o,l)}var xy,Gd,Ey,Ty;xy=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Gd=function(){},Ey=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Si(pr.current);var y=null;switch(l){case"input":m=Xi(s,m),h=Xi(s,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=ya(s,m),h=ya(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Ru)}Vn(l,h);var E;l=null;for(H in m)if(!h.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var R=m[H];for(E in R)R.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var O=h[H];if(R=m!=null?m[H]:void 0,h.hasOwnProperty(H)&&O!==R&&(O!=null||R!=null))if(H==="style")if(R){for(E in R)!R.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in O)O.hasOwnProperty(E)&&R[E]!==O[E]&&(l||(l={}),l[E]=O[E])}else l||(y||(y=[]),y.push(H,l)),l=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(y=y||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&Ze("scroll",s),y||R===O||(y=[])):(y=y||[]).push(H,O))}l&&(y=y||[]).push("style",l);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},Ty=function(s,o,l,h){l!==h&&(o.flags|=4)};function rl(s,o){if(!nt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Bt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function zE(s,o,l){var h=o.pendingProps;switch(gd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return tn(o.type)&&Pu(),Bt(o),null;case 3:return h=o.stateNode,Po(),et(en),et(Ut),kd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Vu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$n!==null&&(of($n),$n=null))),Gd(s,o),Bt(o),null;case 5:Cd(o);var m=Si(Ja.current);if(l=o.type,s!==null&&o.stateNode!=null)Ey(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Bt(o),null}if(s=Si(pr.current),Vu(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[fr]=o,h[Ka]=y,s=(o.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(m=0;m<qa.length;m++)Ze(qa[m],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":tu(h,y),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",h);break;case"textarea":va(h,y),Ze("invalid",h)}Vn(l,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var R=y[E];E==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,R,s),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,R,s),m=["children",""+R]):i.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&Ze("scroll",h)}switch(l){case"input":Zt(h),ga(h,y,!0);break;case"textarea":Zt(h),rs(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ru)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_a(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[fr]=o,s[Ka]=h,xy(s,o,!1,!1),o.stateNode=s;e:{switch(E=eo(l,h),l){case"dialog":Ze("cancel",s),Ze("close",s),m=h;break;case"iframe":case"object":case"embed":Ze("load",s),m=h;break;case"video":case"audio":for(m=0;m<qa.length;m++)Ze(qa[m],s);m=h;break;case"source":Ze("error",s),m=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),m=h;break;case"details":Ze("toggle",s),m=h;break;case"input":tu(s,h),m=Xi(s,h),Ze("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":va(s,h),m=ya(s,h),Ze("invalid",s);break;default:m=h}Vn(l,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var O=R[y];y==="style"?Zi(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ru(s,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&oi(s,O):typeof O=="number"&&oi(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Ze("scroll",s):O!=null&&K(s,y,O,E))}switch(l){case"input":Zt(s),ga(s,h,!1);break;case"textarea":Zt(s),rs(s);break;case"option":h.value!=null&&s.setAttribute("value",""+we(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?On(s,!!h.multiple,y,!1):h.defaultValue!=null&&On(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ru)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bt(o),null;case 6:if(s&&o.stateNode!=null)Ty(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Si(Ja.current),Si(pr.current),Vu(o)){if(h=o.stateNode,l=o.memoizedProps,h[fr]=o,(y=h.nodeValue!==l)&&(s=gn,s!==null))switch(s.tag){case 3:ku(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,l,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[fr]=o,o.stateNode=h}return Bt(o),null;case 13:if(et(rt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(nt&&yn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)bg(),Ao(),o.flags|=98560,y=!1;else if(y=Vu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[fr]=o}else Ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),y=!1}else $n!==null&&(of($n),$n=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?Et===0&&(Et=3):uf())),o.updateQueue!==null&&(o.flags|=4),Bt(o),null);case 4:return Po(),Gd(s,o),s===null&&Ha(o.stateNode.containerInfo),Bt(o),null;case 10:return Ed(o.type._context),Bt(o),null;case 17:return tn(o.type)&&Pu(),Bt(o),null;case 19:if(et(rt),y=o.memoizedState,y===null)return Bt(o),null;if(h=(o.flags&128)!==0,E=y.rendering,E===null)if(h)rl(y,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=zu(s),E!==null){for(o.flags|=128,rl(y,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,s=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}y.tail!==null&&Je()>Oo&&(o.flags|=128,h=!0,rl(y,!1),o.lanes=4194304)}else{if(!h)if(s=zu(E),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!nt)return Bt(o),null}else 2*Je()-y.renderingStartTime>Oo&&l!==1073741824&&(o.flags|=128,h=!0,rl(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(l=y.last,l!==null?l.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Je(),o.sibling=null,l=rt.current,Qe(rt,h?l&1|2:l&1),o):(Bt(o),null);case 22:case 23:return lf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(vn&1073741824)!==0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function qE(s,o){switch(gd(o),o.tag){case 1:return tn(o.type)&&Pu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Po(),et(en),et(Ut),kd(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Cd(o),null;case 13:if(et(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ao()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(rt),null;case 4:return Po(),null;case 10:return Ed(o.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var Ju=!1,zt=!1,HE=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Lo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(s,o,h)}else l.current=null}function Qd(s,o,l){try{l()}catch(h){lt(s,o,h)}}var Iy=!1;function WE(s,o){if(ad=Dr,s=ng(),Zh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,R=-1,O=-1,H=0,ne=0,re=s,ee=null;t:for(;;){for(var he;re!==l||m!==0&&re.nodeType!==3||(R=E+m),re!==y||h!==0&&re.nodeType!==3||(O=E+h),re.nodeType===3&&(E+=re.nodeValue.length),(he=re.firstChild)!==null;)ee=re,re=he;for(;;){if(re===s)break t;if(ee===l&&++H===m&&(R=E),ee===y&&++ne===h&&(O=E),(he=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=he}l=R===-1||O===-1?null:{start:R,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ld={focusedElem:s,selectionRange:l},Dr=!1,pe=o;pe!==null;)if(o=pe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,pe=s;else for(;pe!==null;){o=pe;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,ft=ge.memoizedState,B=o.stateNode,M=B.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Bn(o.type,ve),ft);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,pe=s;break}pe=o.return}return ge=Iy,Iy=!1,ge}function sl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Qd(o,l,y)}m=m.next}while(m!==h)}}function Zu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Xd(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Sy(s){var o=s.alternate;o!==null&&(s.alternate=null,Sy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[fr],delete o[Ka],delete o[dd],delete o[AE],delete o[kE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function by(s){return s.tag===5||s.tag===3||s.tag===4}function Cy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||by(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yd(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ru));else if(h!==4&&(s=s.child,s!==null))for(Yd(s,o,l),s=s.sibling;s!==null;)Yd(s,o,l),s=s.sibling}function Jd(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Jd(s,o,l),s=s.sibling;s!==null;)Jd(s,o,l),s=s.sibling}var jt=null,zn=!1;function Ss(s,o,l){for(l=l.child;l!==null;)Ay(s,o,l),l=l.sibling}function Ay(s,o,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 5:zt||Lo(l,o);case 6:var h=jt,m=zn;jt=null,Ss(s,o,l),jt=h,zn=m,jt!==null&&(zn?(s=jt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(zn?(s=jt,l=l.stateNode,s.nodeType===8?hd(s.parentNode,l):s.nodeType===1&&hd(s,l),ms(s)):hd(jt,l.stateNode));break;case 4:h=jt,m=zn,jt=l.stateNode.containerInfo,zn=!0,Ss(s,o,l),jt=h,zn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Qd(l,o,E),m=m.next}while(m!==h)}Ss(s,o,l);break;case 1:if(!zt&&(Lo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){lt(l,o,R)}Ss(s,o,l);break;case 21:Ss(s,o,l);break;case 22:l.mode&1?(zt=(h=zt)||l.memoizedState!==null,Ss(s,o,l),zt=h):Ss(s,o,l);break;default:Ss(s,o,l)}}function ky(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new HE),o.forEach(function(h){var m=tT.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function qn(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=s,E=o,R=E;e:for(;R!==null;){switch(R.tag){case 5:jt=R.stateNode,zn=!1;break e;case 3:jt=R.stateNode.containerInfo,zn=!0;break e;case 4:jt=R.stateNode.containerInfo,zn=!0;break e}R=R.return}if(jt===null)throw Error(t(160));Ay(y,E,m),jt=null,zn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(H){lt(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ry(o,s),o=o.sibling}function Ry(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(qn(o,s),gr(s),h&4){try{sl(3,s,s.return),Zu(3,s)}catch(ve){lt(s,s.return,ve)}try{sl(5,s,s.return)}catch(ve){lt(s,s.return,ve)}}break;case 1:qn(o,s),gr(s),h&512&&l!==null&&Lo(l,l.return);break;case 5:if(qn(o,s),gr(s),h&512&&l!==null&&Lo(l,l.return),s.flags&32){var m=s.stateNode;try{oi(m,"")}catch(ve){lt(s,s.return,ve)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,R=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&Yi(m,y),eo(R,E);var H=eo(R,y);for(E=0;E<O.length;E+=2){var ne=O[E],re=O[E+1];ne==="style"?Zi(m,re):ne==="dangerouslySetInnerHTML"?ru(m,re):ne==="children"?oi(m,re):K(m,ne,re,H)}switch(R){case"input":ii(m,y);break;case"textarea":nu(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?On(m,!!y.multiple,he,!1):ee!==!!y.multiple&&(y.defaultValue!=null?On(m,!!y.multiple,y.defaultValue,!0):On(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ka]=y}catch(ve){lt(s,s.return,ve)}}break;case 6:if(qn(o,s),gr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ve){lt(s,s.return,ve)}}break;case 3:if(qn(o,s),gr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{ms(o.containerInfo)}catch(ve){lt(s,s.return,ve)}break;case 4:qn(o,s),gr(s);break;case 13:qn(o,s),gr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(tf=Je())),h&4&&ky(s);break;case 22:if(ne=l!==null&&l.memoizedState!==null,s.mode&1?(zt=(H=zt)||ne,qn(o,s),zt=H):qn(o,s),gr(s),h&8192){if(H=s.memoizedState!==null,(s.stateNode.isHidden=H)&&!ne&&(s.mode&1)!==0)for(pe=s,ne=s.child;ne!==null;){for(re=pe=ne;pe!==null;){switch(ee=pe,he=ee.child,ee.tag){case 0:case 11:case 14:case 15:sl(4,ee,ee.return);break;case 1:Lo(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(ve){lt(h,l,ve)}}break;case 5:Lo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){jy(re);continue}}he!==null?(he.return=ee,pe=he):jy(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,H?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=re.stateNode,O=re.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=os("display",E))}catch(ve){lt(s,s.return,ve)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(ve){lt(s,s.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:qn(o,s),gr(s),h&4&&ky(s);break;case 21:break;default:qn(o,s),gr(s)}}function gr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(by(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(oi(m,""),h.flags&=-33);var y=Cy(s);Jd(s,y,m);break;case 3:case 4:var E=h.stateNode.containerInfo,R=Cy(s);Yd(s,R,E);break;default:throw Error(t(161))}}catch(O){lt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function KE(s,o,l){pe=s,Ny(s)}function Ny(s,o,l){for(var h=(s.mode&1)!==0;pe!==null;){var m=pe,y=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||Ju;if(!E){var R=m.alternate,O=R!==null&&R.memoizedState!==null||zt;R=Ju;var H=zt;if(Ju=E,(zt=O)&&!H)for(pe=m;pe!==null;)E=pe,O=E.child,E.tag===22&&E.memoizedState!==null?Ly(m):O!==null?(O.return=E,pe=O):Ly(m);for(;y!==null;)pe=y,Ny(y),y=y.sibling;pe=m,Ju=R,zt=H}Py(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,pe=y):Py(s)}}function Py(s){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zt||Zu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!zt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Bn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&jg(o,y,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}jg(o,E,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ms(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||o.flags&512&&Xd(o)}catch(ee){lt(o,o.return,ee)}}if(o===s){pe=null;break}if(l=o.sibling,l!==null){l.return=o.return,pe=l;break}pe=o.return}}function jy(s){for(;pe!==null;){var o=pe;if(o===s){pe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,pe=l;break}pe=o.return}}function Ly(s){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Zu(4,o)}catch(O){lt(o,l,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){lt(o,m,O)}}var y=o.return;try{Xd(o)}catch(O){lt(o,y,O)}break;case 5:var E=o.return;try{Xd(o)}catch(O){lt(o,E,O)}}}catch(O){lt(o,o.return,O)}if(o===s){pe=null;break}var R=o.sibling;if(R!==null){R.return=o.return,pe=R;break}pe=o.return}}var GE=Math.ceil,ec=se.ReactCurrentDispatcher,Zd=se.ReactCurrentOwner,kn=se.ReactCurrentBatchConfig,ze=0,Ct=null,yt=null,Lt=0,vn=0,Do=ws(0),Et=0,il=null,Ci=0,tc=0,ef=0,ol=null,rn=null,tf=0,Oo=1/0,Hr=null,nc=!1,nf=null,bs=null,rc=!1,Cs=null,sc=0,al=0,rf=null,ic=-1,oc=0;function Xt(){return(ze&6)!==0?Je():ic!==-1?ic:ic=Je()}function As(s){return(s.mode&1)===0?1:(ze&2)!==0&&Lt!==0?Lt&-Lt:NE.transition!==null?(oc===0&&(oc=Aa()),oc):(s=Ue,s!==0||(s=window.event,s=s===void 0?16:co(s.type)),s)}function Hn(s,o,l,h){if(50<al)throw al=0,rf=null,Error(t(185));mi(s,l,h),((ze&2)===0||s!==Ct)&&(s===Ct&&((ze&2)===0&&(tc|=l),Et===4&&ks(s,Lt)),sn(s,h),l===1&&ze===0&&(o.mode&1)===0&&(Oo=Je()+500,Lu&&Es()))}function sn(s,o){var l=s.callbackNode;pi(s,o);var h=Pr(s,s===Ct?Lt:0);if(h===0)l!==null&&ro(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&ro(l),o===1)s.tag===0?RE(Oy.bind(null,s)):xg(Oy.bind(null,s)),bE(function(){(ze&6)===0&&Es()}),l=null;else{switch(rr(h)){case 1:l=so;break;case 4:l=Sa;break;case 16:l=ci;break;case 536870912:l=io;break;default:l=ci}l=qy(l,Dy.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Dy(s,o){if(ic=-1,oc=0,(ze&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Vo()&&s.callbackNode!==l)return null;var h=Pr(s,s===Ct?Lt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=ac(s,h);else{o=h;var m=ze;ze|=2;var y=My();(Ct!==s||Lt!==o)&&(Hr=null,Oo=Je()+500,ki(s,o));do try{YE();break}catch(R){Vy(s,R)}while(!0);xd(),ec.current=y,ze=m,yt!==null?o=0:(Ct=null,Lt=0,o=Et)}if(o!==0){if(o===2&&(m=Ca(s),m!==0&&(h=m,o=sf(s,m))),o===1)throw l=il,ki(s,0),ks(s,h),sn(s,Je()),l;if(o===6)ks(s,h);else{if(m=s.current.alternate,(h&30)===0&&!QE(m)&&(o=ac(s,h),o===2&&(y=Ca(s),y!==0&&(h=y,o=sf(s,y))),o===1))throw l=il,ki(s,0),ks(s,h),sn(s,Je()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ri(s,rn,Hr);break;case 3:if(ks(s,h),(h&130023424)===h&&(o=tf+500-Je(),10<o)){if(Pr(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Xt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=cd(Ri.bind(null,s,rn,Hr),o);break}Ri(s,rn,Hr);break;case 4:if(ks(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var E=31-hn(h);y=1<<E,E=o[E],E>m&&(m=E),h&=~y}if(h=m,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*GE(h/1960))-h,10<h){s.timeoutHandle=cd(Ri.bind(null,s,rn,Hr),h);break}Ri(s,rn,Hr);break;case 5:Ri(s,rn,Hr);break;default:throw Error(t(329))}}}return sn(s,Je()),s.callbackNode===l?Dy.bind(null,s):null}function sf(s,o){var l=ol;return s.current.memoizedState.isDehydrated&&(ki(s,o).flags|=256),s=ac(s,o),s!==2&&(o=rn,rn=l,o!==null&&of(o)),s}function of(s){rn===null?rn=s:rn.push.apply(rn,s)}function QE(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Un(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ks(s,o){for(o&=~ef,o&=~tc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-hn(o),h=1<<l;s[l]=-1,o&=~h}}function Oy(s){if((ze&6)!==0)throw Error(t(327));Vo();var o=Pr(s,0);if((o&1)===0)return sn(s,Je()),null;var l=ac(s,o);if(s.tag!==0&&l===2){var h=Ca(s);h!==0&&(o=h,l=sf(s,h))}if(l===1)throw l=il,ki(s,0),ks(s,o),sn(s,Je()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ri(s,rn,Hr),sn(s,Je()),null}function af(s,o){var l=ze;ze|=1;try{return s(o)}finally{ze=l,ze===0&&(Oo=Je()+500,Lu&&Es())}}function Ai(s){Cs!==null&&Cs.tag===0&&(ze&6)===0&&Vo();var o=ze;ze|=1;var l=kn.transition,h=Ue;try{if(kn.transition=null,Ue=1,s)return s()}finally{Ue=h,kn.transition=l,ze=o,(ze&6)===0&&Es()}}function lf(){vn=Do.current,et(Do)}function ki(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,SE(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch(gd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pu();break;case 3:Po(),et(en),et(Ut),kd();break;case 5:Cd(h);break;case 4:Po();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Ed(h.type._context);break;case 22:case 23:lf()}l=l.return}if(Ct=s,yt=s=Rs(s.current,null),Lt=vn=o,Et=0,il=null,ef=tc=Ci=0,rn=ol=null,Ii!==null){for(o=0;o<Ii.length;o++)if(l=Ii[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=m,h.next=E}l.pending=h}Ii=null}return s}function Vy(s,o){do{var l=yt;try{if(xd(),qu.current=Gu,Hu){for(var h=st.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Hu=!1}if(bi=0,bt=xt=st=null,Za=!1,el=0,Zd.current=null,l===null||l.return===null){Et=1,il=o,yt=null;break}e:{var y=s,E=l.return,R=l,O=o;if(o=Lt,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,ne=R,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=ly(E);if(he!==null){he.flags&=-257,uy(he,E,R,y,o),he.mode&1&&ay(y,H,o),o=he,O=H;var ge=o.updateQueue;if(ge===null){var ve=new Set;ve.add(O),o.updateQueue=ve}else ge.add(O);break e}else{if((o&1)===0){ay(y,H,o),uf();break e}O=Error(t(426))}}else if(nt&&R.mode&1){var ft=ly(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),uy(ft,E,R,y,o),_d(jo(O,R));break e}}y=O=jo(O,R),Et!==4&&(Et=2),ol===null?ol=[y]:ol.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var B=iy(y,O,o);Pg(y,B);break e;case 1:R=O;var M=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(bs===null||!bs.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=oy(y,R,o);Pg(y,ie);break e}}y=y.return}while(y!==null)}Uy(l)}catch(_e){o=_e,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function My(){var s=ec.current;return ec.current=Gu,s===null?Gu:s}function uf(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(Ci&268435455)===0&&(tc&268435455)===0||ks(Ct,Lt)}function ac(s,o){var l=ze;ze|=2;var h=My();(Ct!==s||Lt!==o)&&(Hr=null,ki(s,o));do try{XE();break}catch(m){Vy(s,m)}while(!0);if(xd(),ze=l,ec.current=h,yt!==null)throw Error(t(261));return Ct=null,Lt=0,Et}function XE(){for(;yt!==null;)Fy(yt)}function YE(){for(;yt!==null&&!ui();)Fy(yt)}function Fy(s){var o=zy(s.alternate,s,vn);s.memoizedProps=s.pendingProps,o===null?Uy(s):yt=o,Zd.current=null}function Uy(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=zE(l,o,vn),l!==null){yt=l;return}}else{if(l=qE(l,o),l!==null){l.flags&=32767,yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,yt=null;return}}if(o=o.sibling,o!==null){yt=o;return}yt=o=s}while(o!==null);Et===0&&(Et=5)}function Ri(s,o,l){var h=Ue,m=kn.transition;try{kn.transition=null,Ue=1,JE(s,o,l,h)}finally{kn.transition=m,Ue=h}return null}function JE(s,o,l,h){do Vo();while(Cs!==null);if((ze&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Gh(s,y),s===Ct&&(yt=Ct=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,qy(ci,function(){return Vo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=kn.transition,kn.transition=null;var E=Ue;Ue=1;var R=ze;ze|=4,Zd.current=null,WE(s,l),Ry(l,s),vE(ld),Dr=!!ad,ld=ad=null,s.current=l,KE(l),Nr(),ze=R,Ue=E,kn.transition=y}else s.current=l;if(rc&&(rc=!1,Cs=s,sc=m),y=s.pendingLanes,y===0&&(bs=null),pu(l.stateNode),sn(s,Je()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(nc)throw nc=!1,s=nf,nf=null,s;return(sc&1)!==0&&s.tag!==0&&Vo(),y=s.pendingLanes,(y&1)!==0?s===rf?al++:(al=0,rf=s):al=0,Es(),null}function Vo(){if(Cs!==null){var s=rr(sc),o=kn.transition,l=Ue;try{if(kn.transition=null,Ue=16>s?16:s,Cs===null)var h=!1;else{if(s=Cs,Cs=null,sc=0,(ze&6)!==0)throw Error(t(331));var m=ze;for(ze|=4,pe=s.current;pe!==null;){var y=pe,E=y.child;if((pe.flags&16)!==0){var R=y.deletions;if(R!==null){for(var O=0;O<R.length;O++){var H=R[O];for(pe=H;pe!==null;){var ne=pe;switch(ne.tag){case 0:case 11:case 15:sl(8,ne,y)}var re=ne.child;if(re!==null)re.return=ne,pe=re;else for(;pe!==null;){ne=pe;var ee=ne.sibling,he=ne.return;if(Sy(ne),ne===H){pe=null;break}if(ee!==null){ee.return=he,pe=ee;break}pe=he}}}var ge=y.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var ft=ve.sibling;ve.sibling=null,ve=ft}while(ve!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,pe=E;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:sl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,pe=B;break e}pe=y.return}}var M=s.current;for(pe=M;pe!==null;){E=pe;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,pe=q;else e:for(E=M;pe!==null;){if(R=pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Zu(9,R)}}catch(_e){lt(R,R.return,_e)}if(R===E){pe=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,pe=ie;break e}pe=R.return}}if(ze=m,Es(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(hi,s)}catch{}h=!0}return h}finally{Ue=l,kn.transition=o}}return!1}function $y(s,o,l){o=jo(l,o),o=iy(s,o,1),s=Is(s,o,1),o=Xt(),s!==null&&(mi(s,1,o),sn(s,o))}function lt(s,o,l){if(s.tag===3)$y(s,s,l);else for(;o!==null;){if(o.tag===3){$y(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bs===null||!bs.has(h))){s=jo(l,s),s=oy(o,s,1),o=Is(o,s,1),s=Xt(),o!==null&&(mi(o,1,s),sn(o,s));break}}o=o.return}}function ZE(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=Xt(),s.pingedLanes|=s.suspendedLanes&l,Ct===s&&(Lt&l)===l&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>Je()-tf?ki(s,0):ef|=l),sn(s,o)}function By(s,o){o===0&&((s.mode&1)===0?o=1:(o=ds,ds<<=1,(ds&130023424)===0&&(ds=4194304)));var l=Xt();s=Br(s,o),s!==null&&(mi(s,o,l),sn(s,l))}function eT(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),By(s,l)}function tT(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),By(s,l)}var zy;zy=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||en.current)nn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return nn=!1,BE(s,o,l);nn=(s.flags&131072)!==0}else nn=!1,nt&&(o.flags&1048576)!==0&&Eg(o,Ou,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Yu(s,o),s=o.pendingProps;var m=So(o,Ut.current);No(o,l),m=Pd(null,o,h,s,m,l);var y=jd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tn(h)?(y=!0,ju(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sd(o),m.updater=Qu,o.stateNode=m,m._reactInternals=o,Fd(o,h,s,l),o=zd(null,o,h,!0,y,l)):(o.tag=0,nt&&y&&md(o),Qt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Yu(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=rT(h),s=Bn(h,s),m){case 0:o=Bd(null,o,h,s,l);break e;case 1:o=my(null,o,h,s,l);break e;case 11:o=cy(null,o,h,s,l);break e;case 14:o=hy(null,o,h,Bn(h.type,s),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Bn(h,m),Bd(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Bn(h,m),my(s,o,h,m,l);case 3:e:{if(gy(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Ng(s,o),Bu(o,h,null,l);var E=o.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=jo(Error(t(423)),o),o=yy(s,o,h,l,m);break e}else if(h!==m){m=jo(Error(t(424)),o),o=yy(s,o,h,l,m);break e}else for(yn=_s(o.stateNode.containerInfo.firstChild),gn=o,nt=!0,$n=null,l=kg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ao(),h===m){o=qr(s,o,l);break e}Qt(s,o,h,l)}o=o.child}return o;case 5:return Lg(o),s===null&&vd(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,E=m.children,ud(h,m)?E=null:y!==null&&ud(h,y)&&(o.flags|=32),py(s,o),Qt(s,o,E,l),o.child;case 6:return s===null&&vd(o),null;case 13:return vy(s,o,l);case 4:return bd(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=ko(o,null,h,l):Qt(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Bn(h,m),cy(s,o,h,m,l);case 7:return Qt(s,o,o.pendingProps,l),o.child;case 8:return Qt(s,o,o.pendingProps.children,l),o.child;case 12:return Qt(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,E=m.value,Qe(Fu,h._currentValue),h._currentValue=E,y!==null)if(Un(y.value,E)){if(y.children===m.children&&!en.current){o=qr(s,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var R=y.dependencies;if(R!==null){E=y.child;for(var O=R.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=zr(-1,l&-l),O.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),H.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Td(y.return,l,o),R.lanes|=l;break}O=O.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,R=E.alternate,R!==null&&(R.lanes|=l),Td(E,l,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Qt(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,No(o,l),m=Cn(m),h=h(m),o.flags|=1,Qt(s,o,h,l),o.child;case 14:return h=o.type,m=Bn(h,o.pendingProps),m=Bn(h.type,m),hy(s,o,h,m,l);case 15:return dy(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Bn(h,m),Yu(s,o),o.tag=1,tn(h)?(s=!0,ju(o)):s=!1,No(o,l),ry(o,h,m),Fd(o,h,m,l),zd(null,o,h,!0,s,l);case 19:return wy(s,o,l);case 22:return fy(s,o,l)}throw Error(t(156,o.tag))};function qy(s,o){return Ia(s,o)}function nT(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(s,o,l,h){return new nT(s,o,l,h)}function cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rT(s){if(typeof s=="function")return cf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===$e)return 14}return 2}function Rs(s,o){var l=s.alternate;return l===null?(l=Rn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function lc(s,o,l,h,m,y){var E=2;if(h=s,typeof s=="function")cf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case N:return Ni(l.children,m,y,o);case S:E=8,m|=8;break;case C:return s=Rn(12,l,o,m|2),s.elementType=C,s.lanes=y,s;case k:return s=Rn(13,l,o,m),s.elementType=k,s.lanes=y,s;case Se:return s=Rn(19,l,o,m),s.elementType=Se,s.lanes=y,s;case ue:return uc(l,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:E=10;break e;case D:E=9;break e;case $:E=11;break e;case $e:E=14;break e;case Y:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Rn(E,l,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function Ni(s,o,l,h){return s=Rn(7,s,h,o),s.lanes=l,s}function uc(s,o,l,h){return s=Rn(22,s,h,o),s.elementType=ue,s.lanes=l,s.stateNode={isHidden:!1},s}function hf(s,o,l){return s=Rn(6,s,null,o),s.lanes=l,s}function df(s,o,l){return o=Rn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function sT(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ka(0),this.expirationTimes=ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ff(s,o,l,h,m,y,E,R,O){return s=new sT(s,o,l,R,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Rn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(y),s}function iT(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function Hy(s){if(!s)return xs;s=s._reactInternals;e:{if(Mn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(tn(l))return _g(s,l,o)}return o}function Wy(s,o,l,h,m,y,E,R,O){return s=ff(l,h,!0,s,m,y,E,R,O),s.context=Hy(null),l=s.current,h=Xt(),m=As(l),y=zr(h,m),y.callback=o??null,Is(l,y,m),s.current.lanes=m,mi(s,m,h),sn(s,h),s}function cc(s,o,l,h){var m=o.current,y=Xt(),E=As(m);return l=Hy(l),o.context===null?o.context=l:o.pendingContext=l,o=zr(y,E),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Is(m,o,E),s!==null&&(Hn(s,m,E,y),$u(s,m,E)),E}function hc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ky(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function pf(s,o){Ky(s,o),(s=s.alternate)&&Ky(s,o)}function oT(){return null}var Gy=typeof reportError=="function"?reportError:function(s){console.error(s)};function mf(s){this._internalRoot=s}dc.prototype.render=mf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));cc(s,o,null,null)},dc.prototype.unmount=mf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ai(function(){cc(null,s,null,null)}),o[Mr]=null}};function dc(s){this._internalRoot=s}dc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ja();s={blockedOn:null,target:s,priority:o};for(var l=0;l<dn.length&&o!==0&&o<dn[l].priority;l++);dn.splice(l,0,s),l===0&&lo(s)}};function gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function aT(s,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var H=hc(E);y.call(H)}}var E=Wy(o,h,s,0,null,!1,!1,"",Qy);return s._reactRootContainer=E,s[Mr]=E.current,Ha(s.nodeType===8?s.parentNode:s),Ai(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var H=hc(O);R.call(H)}}var O=ff(s,0,!1,null,null,!1,!1,"",Qy);return s._reactRootContainer=O,s[Mr]=O.current,Ha(s.nodeType===8?s.parentNode:s),Ai(function(){cc(o,O,l,h)}),O}function pc(s,o,l,h,m){var y=l._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var R=m;m=function(){var O=hc(E);R.call(O)}}cc(o,E,s,m)}else E=aT(l,o,s,m,h);return hc(E)}Na=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=He(o.pendingLanes);l!==0&&(Ra(o,l|1),sn(o,Je()),(ze&6)===0&&(Oo=Je()+500,Es()))}break;case 13:Ai(function(){var h=Br(s,1);if(h!==null){var m=Xt();Hn(h,s,1,m)}}),pf(s,1)}},oo=function(s){if(s.tag===13){var o=Br(s,134217728);if(o!==null){var l=Xt();Hn(o,s,134217728,l)}pf(s,134217728)}},Pa=function(s){if(s.tag===13){var o=As(s),l=Br(s,o);if(l!==null){var h=Xt();Hn(l,s,o,h)}pf(s,o)}},ja=function(){return Ue},La=function(s,o){var l=Ue;try{return Ue=s,o()}finally{Ue=l}},Ar=function(s,o,l){switch(o){case"input":if(ii(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Nu(h);if(!m)throw Error(t(90));ts(h),ii(h,m)}}}break;case"textarea":nu(s,l);break;case"select":o=l.value,o!=null&&On(s,!!l.multiple,o,!1)}},iu=af,ou=Ai;var lT={usingClientEntryPoint:!1,Events:[Ga,To,Nu,ls,us,af]},ll={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=fu(s),s===null?null:s.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||oT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{hi=mc.inject(uT),cn=mc}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT,on.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(o))throw Error(t(200));return iT(s,o,null,l)},on.createRoot=function(s,o){if(!gf(s))throw Error(t(299));var l=!1,h="",m=Gy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ff(s,1,!1,null,null,l,!1,h,m),s[Mr]=o.current,Ha(s.nodeType===8?s.parentNode:s),new mf(o)},on.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=fu(o),s=s===null?null:s.stateNode,s},on.flushSync=function(s){return Ai(s)},on.hydrate=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!0,l)},on.hydrateRoot=function(s,o,l){if(!gf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",E=Gy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Wy(o,null,s,1,l??null,m,!1,y,E),s[Mr]=o.current,Ha(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new dc(o)},on.render=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!1,l)},on.unmountComponentAtNode=function(s){if(!fc(s))throw Error(t(40));return s._reactRootContainer?(Ai(function(){pc(null,null,s,!1,function(){s._reactRootContainer=null,s[Mr]=null})}),!0):!1},on.unstable_batchedUpdates=af,on.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!fc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pc(s,o,l,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var r0;function vT(){if(r0)return _f.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_f.exports=yT(),_f.exports}var s0;function _T(){if(s0)return gc;s0=1;var n=vT();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var wT=_T();const xT=E_(wT);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function ET(n={}){function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return qf("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Cl(i)}return IT(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TT(){return Math.random().toString(36).substring(2,10)}function o0(n,e){return{usr:n.state,key:n.key,idx:e}}function qf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:t,key:e&&e.key||r||TT()}}function Cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function aa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function IT(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d="POP",p=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function x(){d="POP";let L=_(),G=L==null?null:L-g;g=L,p&&p({action:d,location:U.location,delta:G})}function T(L,G){d="PUSH";let Q=qf(U.location,L,G);g=_()+1;let K=o0(Q,g),se=U.createHref(Q);try{u.pushState(K,"",se)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;i.location.assign(se)}a&&p&&p({action:d,location:U.location,delta:1})}function A(L,G){d="REPLACE";let Q=qf(U.location,L,G);g=_();let K=o0(Q,g),se=U.createHref(Q);u.replaceState(K,"",se),a&&p&&p({action:d,location:U.location,delta:0})}function b(L){return ST(L)}let U={get action(){return d},get location(){return n(i,u)},listen(L){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(i0,x),p=L,()=>{i.removeEventListener(i0,x),p=null}},createHref(L){return e(i,L)},createURL:b,encodeLocation(L){let G=b(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:A,go(L){return u.go(L)}};return U}function ST(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Cl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function T_(n,e,t="/"){return bT(n,e,t,!1)}function bT(n,e,t,r){let i=typeof e=="string"?aa(e):e,a=Qr(i.pathname||"/",t);if(a==null)return null;let u=I_(n);CT(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let g=MT(a);d=OT(u[p],g,r)}return d}function I_(n,e=[],t=[],r="",i=!1){let a=(u,d,p=i,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;it(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let x=Gr([r,_.relativePath]),T=t.concat(_);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),I_(u.children,e,T,x,p)),!(u.path==null&&!u.index)&&e.push({path:x,score:LT(x,u.index),routesMeta:T})};return n.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,d);else for(let g of S_(u.path))a(u,d,!0,g)}),e}function S_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=S_(r.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),i&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function CT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AT=/^:[\w-]+$/,kT=3,RT=2,NT=1,PT=10,jT=-2,a0=n=>n==="*";function LT(n,e){let t=n.split("/"),r=t.length;return t.some(a0)&&(r+=jT),e&&(r+=RT),t.filter(i=>!a0(i)).reduce((i,a)=>i+(AT.test(a)?kT:a===""?NT:PT),r)}function DT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function OT(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",u=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",x=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!x&&g&&t&&!r[r.length-1].route.index&&(x=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Gr([a,x.pathname]),pathnameBase:BT(Gr([a,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(a=Gr([a,x.pathnameBase]))}return u}function zc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:x},T)=>{if(_==="*"){let b=d[T]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const A=d[T];return x&&!A?g[_]=void 0:g[_]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function VT(n,e=!1,t=!0){Qn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function FT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?aa(n):n;return{pathname:t?t.startsWith("/")?t:UT(t,e):e,search:zT(r),hash:qT(i)}}function UT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $T(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function b_(n){let e=$T(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function C_(n,e,t,r=!1){let i;typeof n=="string"?i=aa(n):(i={...n},it(!i.pathname||!i.pathname.includes("?"),Ef("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Ef("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Ef("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;i.pathname=T.join("/")}d=x>=0?e[x]:"/"}let p=FT(i,d),g=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Gr=n=>n.join("/").replace(/\/\/+/g,"/"),BT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var WT=["GET",...A_];new Set(WT);var la=V.createContext(null);la.displayName="DataRouter";var gh=V.createContext(null);gh.displayName="DataRouterState";V.createContext(!1);var k_=V.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var KT=V.createContext(new Map);KT.displayName="Fetchers";var GT=V.createContext(null);GT.displayName="Await";var Cr=V.createContext(null);Cr.displayName="Navigation";var $l=V.createContext(null);$l.displayName="Location";var es=V.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var kp=V.createContext(null);kp.displayName="RouteError";function QT(n,{relative:e}={}){it(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=V.useContext(Cr),{hash:i,pathname:a,search:u}=zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Gr([t,a])),r.createHref({pathname:d,search:u,hash:i})}function Bl(){return V.useContext($l)!=null}function Zs(){return it(Bl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext($l).location}var R_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N_(n){V.useContext(Cr).static||V.useLayoutEffect(n)}function P_(){let{isDataRoute:n}=V.useContext(es);return n?lI():XT()}function XT(){it(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(la),{basename:e,navigator:t}=V.useContext(Cr),{matches:r}=V.useContext(es),{pathname:i}=Zs(),a=JSON.stringify(b_(r)),u=V.useRef(!1);return N_(()=>{u.current=!0}),V.useCallback((p,g={})=>{if(Qn(u.current,R_),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=C_(p,JSON.parse(a),i,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,i,n])}V.createContext(null);function zl(n,{relative:e}={}){let{matches:t}=V.useContext(es),{pathname:r}=Zs(),i=JSON.stringify(b_(t));return V.useMemo(()=>C_(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function YT(n,e){return j_(n,e)}function j_(n,e,t,r,i){var Q;it(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(Cr),{matches:u}=V.useContext(es),d=u[u.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",x=d&&d.route;{let K=x&&x.path||"";L_(g,!x||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Zs(),A;if(e){let K=typeof e=="string"?aa(e):e;it(_==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),A=K}else A=T;let b=A.pathname||"/",U=b;if(_!=="/"){let K=_.replace(/^\//,"").split("/");U="/"+b.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=T_(n,{pathname:U});Qn(x||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=nI(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Gr([_,a.encodeLocation?a.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:Gr([_,a.encodeLocation?a.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),u,t,r,i);return e&&G?V.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function JT(){let n=aI(),e=HT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:i},t):null,u)}var ZT=V.createElement(JT,null),eI=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?V.createElement(es.Provider,{value:this.props.routeContext},V.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tI({routeContext:n,match:e,children:t}){let r=V.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(es.Provider,{value:n},t)}function nI(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:x,errors:T}=t,A=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||A){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,_,x)=>{let T,A=!1,b=null,U=null;t&&(T=u&&_.route.id?u[_.route.id]:void 0,b=_.route.errorElement||ZT,d&&(p<0&&x===0?(L_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):p===x&&(A=!0,U=_.route.hydrateFallbackElement||null)));let L=e.concat(a.slice(0,x+1)),G=()=>{let Q;return T?Q=b:A?Q=U:_.route.Component?Q=V.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,V.createElement(tI,{match:_,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:Q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?V.createElement(eI,{location:t.location,revalidation:t.revalidation,component:b,error:T,children:G(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):G()},null)}function Rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(n){let e=V.useContext(la);return it(e,Rp(n)),e}function sI(n){let e=V.useContext(gh);return it(e,Rp(n)),e}function iI(n){let e=V.useContext(es);return it(e,Rp(n)),e}function Np(n){let e=iI(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oI(){return Np("useRouteId")}function aI(){var r;let n=V.useContext(kp),e=sI("useRouteError"),t=Np("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function lI(){let{router:n}=rI("useNavigate"),e=Np("useNavigate"),t=V.useRef(!1);return N_(()=>{t.current=!0}),V.useCallback(async(i,a={})=>{Qn(t.current,R_),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var l0={};function L_(n,e,t){!e&&!l0[n]&&(l0[n]=!0,Qn(!1,t))}V.memo(uI);function uI({routes:n,future:e,state:t,unstable_onError:r}){return j_(n,void 0,t,r,e)}function Ac(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){it(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=aa(t));let{pathname:p="/",search:g="",hash:_="",state:x=null,key:T="default"}=t,A=V.useMemo(()=>{let b=Qr(p,u);return b==null?null:{location:{pathname:b,search:g,hash:_,state:x,key:T},navigationType:r}},[u,p,g,_,x,T,r]);return Qn(A!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:V.createElement(Cr.Provider,{value:d},V.createElement($l.Provider,{children:e,value:A}))}function hI({children:n,location:e}){return YT(Hf(n),e)}function Hf(n,e=[]){let t=[];return V.Children.forEach(n,(r,i)=>{if(!V.isValidElement(r))return;let a=[...e,i];if(r.type===V.Fragment){t.push.apply(t,Hf(r.props.children,a));return}it(r.type===Ac,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Hf(r.props.children,a)),t.push(u)}),t}var kc="get",Rc="application/x-www-form-urlencoded";function yh(n){return n!=null&&typeof n.tagName=="string"}function dI(n){return yh(n)&&n.tagName.toLowerCase()==="button"}function fI(n){return yh(n)&&n.tagName.toLowerCase()==="form"}function pI(n){return yh(n)&&n.tagName.toLowerCase()==="input"}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}function Wf(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function yI(n,e){let t=Wf(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}var yc=null;function vI(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!_I.has(n)?(Qn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):n}function wI(n,e){let t,r,i,a,u;if(fI(n)){let d=n.getAttribute("action");r=d?Qr(d,e):null,t=n.getAttribute("method")||kc,i=Tf(n.getAttribute("enctype"))||Rc,a=new FormData(n)}else if(dI(n)||pI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?Qr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kc,i=Tf(n.getAttribute("formenctype"))||Tf(d.getAttribute("enctype"))||Rc,a=new FormData(d,n),!vI()){let{name:g,type:_,value:x}=n;if(_==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,x)}}else{if(yh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kc,r=null,i=Rc,u=n}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xI(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function EI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function II(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await EI(a,t);return u.links?u.links():[]}return[]}));return AI(r.flat(1).filter(TI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function u0(n,e,t,r,i,a){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,g)=>u(p,g)||d(p,g)):a==="data"?e.filter((p,g)=>{var x;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SI(n,e,{includeHydrateFallback:t}={}){return bI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function bI(n){return[...new Set(n)]}function CI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function AI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(CI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function D_(){let n=V.useContext(la);return Pp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kI(){let n=V.useContext(gh);return Pp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jp=V.createContext(void 0);jp.displayName="FrameworkContext";function O_(){let n=V.useContext(jp);return Pp(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,e){let t=V.useContext(jp),[r,i]=V.useState(!1),[a,u]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:x}=e,T=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let U=G=>{G.forEach(Q=>{u(Q.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[n]),V.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let A=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:cl(d,A),onBlur:cl(p,b),onMouseEnter:cl(g,A),onMouseLeave:cl(_,b),onTouchStart:cl(x,A)}]:[!1,T,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NI({page:n,...e}){let{router:t}=D_(),r=V.useMemo(()=>T_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?V.createElement(jI,{page:n,matches:r,...e}):null}function PI(n){let{manifest:e,routeModules:t}=O_(),[r,i]=V.useState([]);return V.useEffect(()=>{let a=!1;return II(n,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[n,e,t]),r}function jI({page:n,matches:e,...t}){let r=Zs(),{manifest:i,routeModules:a}=O_(),{basename:u}=D_(),{loaderData:d,matches:p}=kI(),g=V.useMemo(()=>u0(n,e,p,i,r,"data"),[n,e,p,i,r]),_=V.useMemo(()=>u0(n,e,p,i,r,"assets"),[n,e,p,i,r]),x=V.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,U=!1;if(e.forEach(G=>{var K;let Q=i.routes[G.route.id];!Q||!Q.hasLoader||(!g.some(se=>se.route.id===G.route.id)&&G.route.id in d&&((K=a[G.route.id])!=null&&K.shouldRevalidate)||Q.hasClientLoader?U=!0:b.add(G.route.id))}),b.size===0)return[];let L=xI(n,u,"data");return U&&b.size>0&&L.searchParams.set("_routes",e.filter(G=>b.has(G.route.id)).map(G=>G.route.id).join(",")),[L.pathname+L.search]},[u,d,r,i,g,e,n,a]),T=V.useMemo(()=>SI(_,i),[_,i]),A=PI(_);return V.createElement(V.Fragment,null,x.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),T.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),A.map(({key:b,link:U})=>V.createElement("link",{key:b,nonce:t.nonce,...U})))}function LI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V_&&(window.__reactRouterVersion="7.9.4")}catch{}function DI({basename:n,children:e,window:t}){let r=V.useRef();r.current==null&&(r.current=ET({window:t,v5Compat:!0}));let i=r.current,[a,u]=V.useState({action:i.action,location:i.location}),d=V.useCallback(p=>{V.startTransition(()=>u(p))},[u]);return V.useLayoutEffect(()=>i.listen(d),[i,d]),V.createElement(cI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=V.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:d,target:p,to:g,preventScrollReset:_,viewTransition:x,...T},A){let{basename:b}=V.useContext(Cr),U=typeof g=="string"&&M_.test(g),L,G=!1;if(typeof g=="string"&&U&&(L=g,V_))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=Qr(P.pathname,b);P.origin===C.origin&&D!=null?g=D+P.search+P.hash:G=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=QT(g,{relative:i}),[K,se,ye]=RI(r,T),me=FI(g,{replace:u,state:d,target:p,preventScrollReset:_,relative:i,viewTransition:x});function N(C){e&&e(C),C.defaultPrevented||me(C)}let S=V.createElement("a",{...T,...ye,href:L||Q,onClick:G||a?e:N,ref:LI(A,se),target:p,"data-discover":!U&&t==="render"?"true":void 0});return K&&!U?V.createElement(V.Fragment,null,S,V.createElement(NI,{page:Q})):S});F_.displayName="Link";var OI=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:d,children:p,...g},_){let x=zl(u,{relative:g.relative}),T=Zs(),A=V.useContext(gh),{navigator:b,basename:U}=V.useContext(Cr),L=A!=null&&HI(x)&&d===!0,G=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,Q=T.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&U&&(K=Qr(K,U)||K);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ye=Q===G||!i&&Q.startsWith(G)&&Q.charAt(se)==="/",me=K!=null&&(K===G||!i&&K.startsWith(G)&&K.charAt(G.length)==="/"),N={isActive:ye,isPending:me,isTransitioning:L},S=ye?e:void 0,C;typeof r=="function"?C=r(N):C=[r,ye?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(N):a;return V.createElement(F_,{...g,"aria-current":S,className:C,ref:_,style:P,to:u,viewTransition:d},typeof p=="function"?p(N):p)});OI.displayName="NavLink";var VI=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:u=kc,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:x,...T},A)=>{let b=zI(),U=qI(d,{relative:g}),L=u.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&M_.test(d),Q=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let se=K.nativeEvent.submitter,ye=(se==null?void 0:se.getAttribute("formmethod"))||u;b(se||K.currentTarget,{fetcherKey:e,method:ye,navigate:t,replace:i,state:a,relative:g,preventScrollReset:_,viewTransition:x})};return V.createElement("form",{ref:A,method:L,action:U,onSubmit:r?p:Q,...T,"data-discover":!G&&n==="render"?"true":void 0})});VI.displayName="Form";function MI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U_(n){let e=V.useContext(la);return it(e,MI(n)),e}function FI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let d=P_(),p=Zs(),g=zl(n,{relative:a});return V.useCallback(_=>{if(gI(_,e)){_.preventDefault();let x=t!==void 0?t:Cl(p)===Cl(g);d(n,{replace:x,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[p,d,g,t,r,e,n,i,a,u])}function UI(n){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Wf(n)),t=V.useRef(!1),r=Zs(),i=V.useMemo(()=>yI(r.search,t.current?null:e.current),[r.search]),a=P_(),u=V.useCallback((d,p)=>{const g=Wf(typeof d=="function"?d(new URLSearchParams(i)):d);t.current=!0,a("?"+g,p)},[a,i]);return[i,u]}var $I=0,BI=()=>`__${String(++$I)}__`;function zI(){let{router:n}=U_("useSubmit"),{basename:e}=V.useContext(Cr),t=oI();return V.useCallback(async(r,i={})=>{let{action:a,method:u,encType:d,formData:p,body:g}=wI(r,e);if(i.navigate===!1){let _=i.fetcherKey||BI();await n.fetch(_,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function qI(n,{relative:e}={}){let{basename:t}=V.useContext(Cr),r=V.useContext(es);it(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zl(n||".",{relative:e})},u=Zs();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(x=>x).forEach(x=>d.append("index",x));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Gr([t,a.pathname])),Cl(a)}function HI(n,{relative:e}={}){let t=V.useContext(k_);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U_("useViewTransitionState"),i=zl(n,{relative:e});if(!t.isTransitioning)return!1;let a=Qr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zc(i.pathname,u)!=null||zc(i.pathname,a)!=null}const Ne=n=>typeof n=="string",hl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},c0=n=>n==null?"":""+n,WI=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},KI=/###/g,h0=n=>n&&n.indexOf("###")>-1?n.replace(KI,"."):n,d0=n=>!n||Ne(n),vl=(n,e,t)=>{const r=Ne(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(d0(n))return{};const a=h0(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return d0(n)?{}:{obj:n,k:h0(r[i])}},f0=(n,e,t)=>{const{obj:r,k:i}=vl(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=vl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=vl(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},GI=(n,e,t,r)=>{const{obj:i,k:a}=vl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},qc=(n,e)=>{const{obj:t,k:r}=vl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},QI=(n,e,t)=>{const r=qc(n,t);return r!==void 0?r:qc(e,t)},$_=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ne(n[r])||n[r]instanceof String||Ne(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):$_(n[r],e[r],t):n[r]=e[r]);return n},Mo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var XI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const YI=n=>Ne(n)?n.replace(/[&<>"'\/]/g,e=>XI[e]):n;class JI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const ZI=[" ",",","?","!",";"],e2=new JI(20),t2=(n,e,t)=>{e=e||"",t=t||"";const r=ZI.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const i=e2.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!i.test(n);if(!a){const u=n.indexOf(t);u>0&&!i.test(n.substring(0,u))&&(a=!0)}return a},Kf=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let u,d="";for(let p=a;p<r.length;++p)if(p!==a&&(d+=t),d+=r[p],u=i[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&p<r.length-1)continue;a+=p-a+1;break}i=u}return i},Al=n=>n==null?void 0:n.replace("_","-"),n2={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let r2=class Gf{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||n2,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Ne(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Gf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gf(this.logger,e)}};var vr=new r2;class vh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let u=0;u<a;u++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let u=0;u<a;u++)i.apply(i,[e,...t])})}}class p0 extends vh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var g,_;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Ne(r)&&a?d.push(...r.split(a)):d.push(r)));const p=qc(this.data,d);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),p||!u||!Ne(r)?p:Kf((_=(g=this.data)==null?void 0:g[e])==null?void 0:_[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),i=t,t=d[1]),this.addNamespaces(t),f0(this.data,d,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Ne(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=t,t=d[1]),this.addNamespaces(t);let p=qc(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?$_(p,r,a):p={...p,...r},f0(this.data,d,p),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var B_={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var u;e=((u=this.processors[a])==null?void 0:u.process(e,t,r,i))??e}),e}};const z_=Symbol("i18next/PATH_KEY");function s2(){const n=[],e=Object.create(null);let t;return e.get=(r,i)=>{var a;return(a=t==null?void 0:t.revoke)==null||a.call(t),i===z_?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Qf(n,e){const{[z_]:t}=n(s2());return t.join((e==null?void 0:e.keySeparator)??".")}const m0={},If=n=>!Ne(n)&&typeof n!="boolean"&&typeof n!="number";class Hc extends vh{constructor(e,t={}){super(),WI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=If(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!t2(e,r,i);if(u&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Ne(a)?[a]:a};const g=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(g[0])>-1)&&(a=g.shift()),e=g.join(i)}return{key:e,namespaces:Ne(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Qf(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,u=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],i),g=p[p.length-1];let _=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const x=i.lng||this.language,T=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((x==null?void 0:x.toLowerCase())==="cimode")return T?a?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:x,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:`${g}${_}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:x,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:d;const A=this.resolve(e,i);let b=A==null?void 0:A.res;const U=(A==null?void 0:A.usedKey)||d,L=(A==null?void 0:A.exactUsedKey)||d,G=["[object Number]","[object Function]","[object RegExp]"],Q=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,K=!this.i18nFormat||this.i18nFormat.handleAsObject,se=i.count!==void 0&&!Ne(i.count),ye=Hc.hasDefaultValue(i),me=se?this.pluralResolver.getSuffix(x,i.count,i):"",N=i.ordinal&&se?this.pluralResolver.getSuffix(x,i.count,{ordinal:!1}):"",S=se&&!i.ordinal&&i.count===0,C=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${me}`]||i[`defaultValue${N}`]||i.defaultValue;let P=b;K&&!b&&ye&&(P=C);const D=If(P),$=Object.prototype.toString.apply(P);if(K&&P&&D&&G.indexOf($)<0&&!(Ne(Q)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(U,P,{...i,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(A.res=k,A.usedParams=this.getUsedParamsDetails(i),A):k}if(u){const k=Array.isArray(P),Se=k?[]:{},$e=k?L:U;for(const Y in P)if(Object.prototype.hasOwnProperty.call(P,Y)){const ue=`${$e}${u}${Y}`;ye&&!b?Se[Y]=this.translate(ue,{...i,defaultValue:If(C)?C[Y]:void 0,joinArrays:!1,ns:p}):Se[Y]=this.translate(ue,{...i,joinArrays:!1,ns:p}),Se[Y]===ue&&(Se[Y]=P[Y])}b=Se}}else if(K&&Ne(Q)&&Array.isArray(b))b=b.join(Q),b&&(b=this.extendTranslation(b,e,i,r));else{let k=!1,Se=!1;!this.isValidLookup(b)&&ye&&(k=!0,b=C),this.isValidLookup(b)||(Se=!0,b=d);const Y=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Se?void 0:b,ue=ye&&C!==b&&this.options.updateMissing;if(Se||k||ue){if(this.logger.log(ue?"updateKey":"missingKey",x,g,d,ue?C:b),u){const F=this.resolve(d,{...i,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let F=0;F<fe.length;F++)te.push(fe[F]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const ae=(F,j,be)=>{var le;const Z=ye&&be!==b?be:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(F,g,j,Z,ue,i):(le=this.backendConnector)!=null&&le.saveMissing&&this.backendConnector.saveMissing(F,g,j,Z,ue,i),this.emit("missingKey",F,g,j,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?te.forEach(F=>{const j=this.pluralResolver.getSuffixes(F,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&j.indexOf(`${this.options.pluralSeparator}zero`)<0&&j.push(`${this.options.pluralSeparator}zero`),j.forEach(be=>{ae([F],d+be,i[`defaultValue${be}`]||C)})}):ae(te,d,C))}b=this.extendTranslation(b,e,i,A,r),Se&&b===d&&this.options.appendNamespaceToMissingKey&&(b=`${g}${_}${d}`),(Se||k)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,k?b:void 0,i))}return a?(A.res=b,A.usedParams=this.getUsedParamsDetails(i),A):b}extendTranslation(e,t,r,i,a){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const _=Ne(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(_){const A=e.match(this.interpolator.nestingRegexp);x=A&&A.length}let T=r.replace&&!Ne(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(T={...this.options.interpolation.defaultVariables,...T}),e=this.interpolator.interpolate(e,T,r.lng||this.language||i.usedLng,r),_){const A=e.match(this.interpolator.nestingRegexp),b=A&&A.length;x<b&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...A)=>(a==null?void 0:a[0])===A[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${A[0]} in key: ${t[0]}`),null):this.translate(...A,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=Ne(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=B_.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,u,d;return Ne(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),_=g.key;i=_;let x=g.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const T=t.count!==void 0&&!Ne(t.count),A=T&&!t.ordinal&&t.count===0,b=t.context!==void 0&&(Ne(t.context)||typeof t.context=="number")&&t.context!=="",U=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);x.forEach(L=>{var G,Q;this.isValidLookup(r)||(d=L,!m0[`${U[0]}-${L}`]&&((G=this.utils)!=null&&G.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(d))&&(m0[`${U[0]}-${L}`]=!0,this.logger.warn(`key "${i}" for languages "${U.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(K=>{var me;if(this.isValidLookup(r))return;u=K;const se=[_];if((me=this.i18nFormat)!=null&&me.addLookupKeys)this.i18nFormat.addLookupKeys(se,_,K,L,t);else{let N;T&&(N=this.pluralResolver.getSuffix(K,t.count,t));const S=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(t.ordinal&&N.indexOf(C)===0&&se.push(_+N.replace(C,this.options.pluralSeparator)),se.push(_+N),A&&se.push(_+S)),b){const P=`${_}${this.options.contextSeparator||"_"}${t.context}`;se.push(P),T&&(t.ordinal&&N.indexOf(C)===0&&se.push(P+N.replace(C,this.options.pluralSeparator)),se.push(P+N),A&&se.push(P+S))}}let ye;for(;ye=se.pop();)this.isValidLookup(r)||(a=ye,r=this.getResource(K,L,ye,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ne(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class g0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}getScriptPartFromCode(e){if(e=Al(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Al(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ne(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(u=>{if(u===a)return u;if(!(u.indexOf("-")<0&&a.indexOf("-")<0)&&(u.indexOf("-")>0&&a.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===a||u.indexOf(a)===0&&a.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ne(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=u=>{u&&(this.isSupportedCode(u)?i.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ne(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Ne(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{i.indexOf(u)<0&&a(this.formatLanguageCode(u))}),i}}const y0={zero:0,one:1,two:2,few:3,many:4,other:5},v0={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class i2{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=vr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Al(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),v0;if(!e.match(/-|_/))return v0;const p=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(p,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>y0[i]-y0[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const _0=(n,e,t,r=".",i=!0)=>{let a=QI(n,e,t);return!a&&i&&Ne(t)&&(a=Kf(n,t,r),a===void 0&&(a=Kf(e,t,r))),a},Sf=n=>n.replace(/\$/g,"$$$$");class o2{constructor(e={}){var t;this.logger=vr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:x,nestingPrefix:T,nestingPrefixEscaped:A,nestingSuffix:b,nestingSuffixEscaped:U,nestingOptionsSeparator:L,maxReplaces:G,alwaysFormat:Q}=e.interpolation;this.escape=t!==void 0?t:YI,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Mo(a):u||"{{",this.suffix=d?Mo(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=T?Mo(T):A||Mo("$t("),this.nestingSuffix=b?Mo(b):U||Mo(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=G||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var A;let a,u,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=b=>{if(b.indexOf(this.formatSeparator)<0){const Q=_0(t,p,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,r,{...i,...t,interpolationkey:b}):Q}const U=b.split(this.formatSeparator),L=U.shift().trim(),G=U.join(this.formatSeparator).trim();return this.format(_0(t,p,L,this.options.keySeparator,this.options.ignoreJSONStructure),G,r,{...i,...t,interpolationkey:L})};this.resetRegExp();const _=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,x=((A=i==null?void 0:i.interpolation)==null?void 0:A.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Sf(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Sf(this.escape(b)):Sf(b)}].forEach(b=>{for(d=0;a=b.regex.exec(e);){const U=a[1].trim();if(u=g(U),u===void 0)if(typeof _=="function"){const G=_(e,a,i);u=Ne(G)?G:""}else if(i&&Object.prototype.hasOwnProperty.call(i,U))u="";else if(x){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${U} for interpolating ${e}`),u="";else!Ne(u)&&!this.useRawValueToEscape&&(u=c0(u));const L=b.safeValue(u);if(e=e.replace(a[0],L),x?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,u;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const x=p.split(new RegExp(`${_}[ ]*{`));let T=`{${x[1]}`;p=x[0],T=this.interpolate(T,u);const A=T.match(/'/g),b=T.match(/"/g);(((A==null?void 0:A.length)??0)%2===0&&!b||b.length%2!==0)&&(T=T.replace(/'/g,'"'));try{u=JSON.parse(T),g&&(u={...g,...u})}catch(U){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,U),`${p}${_}${T}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,p};for(;i=this.nestingRegexp.exec(e);){let p=[];u={...r},u=u.replace&&!Ne(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(g!==-1&&(p=i[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),i[1]=i[1].slice(0,g)),a=t(d.call(this,i[1].trim(),u),u),a&&i[0]===e&&!Ne(a))return a;Ne(a)||(a=c0(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),p.length&&(a=p.reduce((_,x)=>this.format(_,x,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const a2=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(u=>{if(u){const[d,...p]=u.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},w0=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(Al(r),i),e[u]=d),d(t)}},l2=n=>(e,t,r)=>n(Al(t),r)(e);class u2{constructor(e={}){this.logger=vr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?w0:l2;this.formats={number:r((i,a)=>{const u=new Intl.NumberFormat(i,{...a});return d=>u.format(d)}),currency:r((i,a)=>{const u=new Intl.NumberFormat(i,{...a,style:"currency"});return d=>u.format(d)}),datetime:r((i,a)=>{const u=new Intl.DateTimeFormat(i,{...a});return d=>u.format(d)}),relativetime:r((i,a)=>{const u=new Intl.RelativeTimeFormat(i,{...a});return d=>u.format(d,a.range||"day")}),list:r((i,a)=>{const u=new Intl.ListFormat(i,{...a});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=w0(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(p=>p.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,p)=>{var x;const{formatName:g,formatOptions:_}=a2(p);if(this.formats[g]){let T=d;try{const A=((x=i==null?void 0:i.formatParams)==null?void 0:x[i.interpolationkey])||{},b=A.locale||A.lng||i.locale||i.lng||r;T=this.formats[g](d,b,{..._,...i,...A})}catch(A){this.logger.warn(A)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const c2=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class h2 extends vh{constructor(e,t,r,i={}){var a,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(u=(a=this.backend)==null?void 0:a.init)==null||u.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},u={},d={},p={};return e.forEach(g=>{let _=!0;t.forEach(x=>{const T=`${g}|${x}`;!r.reload&&this.store.hasResourceBundle(g,x)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?u[T]===void 0&&(u[T]=!0):(this.state[T]=1,_=!1,u[T]===void 0&&(u[T]=!0),a[T]===void 0&&(a[T]=!0),p[x]===void 0&&(p[x]=!0)))}),_||(d[g]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const i=e.split("|"),a=i[0],u=i[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(p=>{GI(p.loaded,[a],u),c2(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(x=>{d[g][x]===void 0&&(d[g][x]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,i=0,a=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:u});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(g&&_&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,u)},a);return}u(g,_)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ne(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ne(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,i,a,u={},d=()=>{}){var p,g,_,x,T;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((x=(_=this.services)==null?void 0:_.utils)!=null&&x.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((T=this.backend)!=null&&T.create){const A={...u,isUpdate:a},b=this.backend.create.bind(this.backend);if(b.length<6)try{let U;b.length===5?U=b(e,t,r,i,A):U=b(e,t,r,i),U&&typeof U.then=="function"?U.then(L=>d(null,L)).catch(d):d(null,U)}catch(U){d(U)}else b(e,t,r,i,d,A)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const x0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ne(n[1])&&(e.defaultValue=n[1]),Ne(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),E0=n=>{var e,t;return Ne(n.ns)&&(n.ns=[n.ns]),Ne(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ne(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},vc=()=>{},d2=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class kl extends vh{constructor(e={},t){if(super(),this.options=E0(e),this.services={},this.logger=vr,this.modules={external:[]},d2(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ne(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=x0();this.options={...r,...this.options,...E0(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?vr.init(i(this.modules.logger),this.options):vr.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=u2;const _=new g0(this.options);this.store=new p0(this.options.resources,this.options);const x=this.services;x.logger=vr,x.resourceStore=this.store,x.languageUtils=_,x.pluralResolver=new i2(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(x.formatter=i(g),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new o2(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new h2(i(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(A,...b)=>{this.emit(A,...b)}),this.modules.languageDetector&&(x.languageDetector=i(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=i(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new Hc(this.services,this.options),this.translator.on("*",(A,...b)=>{this.emit(A,...b)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,t||(t=vc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=hl(),p=()=>{const g=(_,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(x),t(_,x)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=vc){var a,u;let r=t;const i=Ne(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(x=>{x!=="cimode"&&d.indexOf(x)<0&&d.push(x)})};i?p(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>p(_)),(u=(a=this.options.preload)==null?void 0:a.forEach)==null||u.call(a,g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const i=hl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=vc),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&B_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=hl();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,p)=>{p?this.isLanguageChangingTo===e&&(i(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},u=d=>{var _,x;!e&&!d&&this.services.languageDetector&&(d=[]);const p=Ne(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Ne(d)?[d]:d);g&&(this.language||i(g),this.translator.language||this.translator.changeLanguage(g),(x=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||x.call(_,g)),this.loadResources(g,T=>{a(T,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const i=(a,u,...d)=>{let p;typeof u!="object"?p=this.options.overloadTranslationOptionHandler([a,u].concat(d)):p={...u},p.lng=p.lng||i.lng,p.lngs=p.lngs||i.lngs,p.ns=p.ns||i.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||i.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(a)?_=a.map(x=>(typeof x=="function"&&(x=Qf(x,{...this.options,...u})),`${p.keyPrefix}${g}${x}`)):(typeof a=="function"&&(a=Qf(a,{...this.options,...u})),_=p.keyPrefix?`${p.keyPrefix}${g}${a}`:a),this.t(_,p)};return Ne(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!i||u(a,e)))}loadNamespaces(e,t){const r=hl();return this.options.ns?(Ne(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=hl();Ne(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(u=>i.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=i.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new g0(x0());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new kl(e,t)}cloneInstance(e={},t=vc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new kl(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,x)=>(_[x]={...p[g][x]},_),p[g]),p),{});a.store=new p0(d,i),a.services.resourceStore=a.store}return a.translator=new Hc(a.services,i),a.translator.on("*",(d,...p)=>{a.emit(d,...p)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gt=kl.createInstance();Gt.createInstance=kl.createInstance;Gt.createInstance;Gt.dir;Gt.init;Gt.loadResources;Gt.reloadResources;Gt.use;Gt.changeLanguage;Gt.getFixedT;Gt.t;Gt.exists;Gt.setDefaultNamespace;Gt.hasLoadedNamespace;Gt.loadNamespaces;Gt.loadLanguages;const f2=(n,e,t,r)=>{var a,u,d,p;const i=[t,{code:e,...r||{}}];if((u=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&u.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Di(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(p=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&p.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},T0={},Xf=(n,e,t,r)=>{Di(t)&&T0[t]||(Di(t)&&(T0[t]=new Date),f2(n,e,t,r))},q_=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Yf=(n,e,t)=>{n.loadNamespaces(e,q_(n,t))},I0=(n,e,t,r)=>{if(Di(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Yf(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,q_(n,r))},p2=(n,e,t={})=>!e.languages||!e.languages.length?(Xf(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Di=n=>typeof n=="string",m2=n=>typeof n=="object"&&n!==null,g2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},v2=n=>y2[n],_2=n=>n.replace(g2,v2);let Jf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_2};const w2=(n={})=>{Jf={...Jf,...n}},x2=()=>Jf;let H_;const E2=n=>{H_=n},T2=()=>H_,I2={type:"3rdParty",init(n){w2(n.options.react),E2(n)}},S2=V.createContext();class b2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const C2=(n,e)=>{const t=V.useRef();return V.useEffect(()=>{t.current=n},[n,e]),t.current},W_=(n,e,t,r)=>n.getFixedT(e,t,r),A2=(n,e,t,r)=>V.useCallback(W_(n,e,t,r),[n,e,t,r]),_h=(n,e={})=>{var se,ye,me,N;const{i18n:t}=e,{i18n:r,defaultNS:i}=V.useContext(S2)||{},a=t||r||T2();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new b2),!a){Xf(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(P,D)=>Di(D)?D:m2(D)&&Di(D.defaultValue)?D.defaultValue:Array.isArray(P)?P[P.length-1]:P,C=[S,{},!1];return C.t=S,C.i18n={},C.ready=!1,C}(se=a.options.react)!=null&&se.wait&&Xf(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...x2(),...a.options.react,...e},{useSuspense:d,keyPrefix:p}=u;let g=i||((ye=a.options)==null?void 0:ye.defaultNS);g=Di(g)?[g]:g||["translation"],(N=(me=a.reportNamespaces).addUsedNamespaces)==null||N.call(me,g);const _=(a.isInitialized||a.initializedStoreOnce)&&g.every(S=>p2(S,a,u)),x=A2(a,e.lng||null,u.nsMode==="fallback"?g:g[0],p),T=()=>x,A=()=>W_(a,e.lng||null,u.nsMode==="fallback"?g:g[0],p),[b,U]=V.useState(T);let L=g.join();e.lng&&(L=`${e.lng}${L}`);const G=C2(L),Q=V.useRef(!0);V.useEffect(()=>{const{bindI18n:S,bindI18nStore:C}=u;Q.current=!0,!_&&!d&&(e.lng?I0(a,e.lng,g,()=>{Q.current&&U(A)}):Yf(a,g,()=>{Q.current&&U(A)})),_&&G&&G!==L&&Q.current&&U(A);const P=()=>{Q.current&&U(A)};return S&&(a==null||a.on(S,P)),C&&(a==null||a.store.on(C,P)),()=>{Q.current=!1,a&&S&&(S==null||S.split(" ").forEach(D=>a.off(D,P))),C&&a&&C.split(" ").forEach(D=>a.store.off(D,P))}},[a,L]),V.useEffect(()=>{Q.current&&_&&U(T)},[a,p,_]);const K=[b,a,_];if(K.t=b,K.i18n=a,K.ready=_,_||!_&&!d)return K;throw new Promise(S=>{e.lng?I0(a,e.lng,g,()=>S()):Yf(a,g,()=>S())})},{slice:k2,forEach:R2}=[];function N2(n){return R2.call(k2.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function P2(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const S0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,j2=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!S0.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!S0.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},b0={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=j2(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var L2={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return b0.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&b0.create(t,n,r,i,a)}},D2={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const u=i.substring(1).split("&");for(let d=0;d<u.length;d++){const p=u[d].indexOf("=");p>0&&u[d].substring(0,p)===e&&(t=u[d].substring(p+1))}}return t}},O2={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const u=a.substring(1);if(e){const d=u.split("&");for(let p=0;p<d.length;p++){const g=d[p].indexOf("=");g>0&&d[p].substring(0,g)===e&&(r=d[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const d=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(i=d[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Fo=null;const C0=()=>{if(Fo!==null)return Fo;try{if(Fo=typeof window<"u"&&window.localStorage!==null,!Fo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Fo=!1}return Fo};var V2={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&C0())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&C0()&&window.localStorage.setItem(t,n)}};let Uo=null;const A0=()=>{if(Uo!==null)return Uo;try{if(Uo=typeof window<"u"&&window.sessionStorage!==null,!Uo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Uo=!1}return Uo};var M2={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&A0())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&A0()&&window.sessionStorage.setItem(t,n)}},F2={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},U2={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},$2={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},B2={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let K_=!1;try{document.cookie,K_=!0}catch{}const G_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];K_||G_.splice(1,1);const z2=()=>({order:G_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Q_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=N2(t,this.options||{},z2()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(L2),this.addDetector(D2),this.addDetector(V2),this.addDetector(M2),this.addDetector(F2),this.addDetector(U2),this.addDetector($2),this.addDetector(B2),this.addDetector(O2)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!P2(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Q_.type="languageDetector";const q2={translation:{hero_subtitle:"Colloque Scientifique sur les Technologies de l'Information et de la Communication",date_value:"20-21-22 Mai 2026",theme_value:"Technologies de l'Information et de la Communication pour le Dveloppement Durable en Afrique",place_value:"ESATIC, Abidjan, Cte d'Ivoire",organizer_value:"Organis par LASTIC",hero_submit:"Soumettre un article",hero_register:"S'inscrire",hero_partner:"Devenir partenaire",section_about_title:" Propos",about_paragraph:"Le Colloque Scientifique sur les Technologies de l'Information et de la Communication (CoSTIC) est un vnement majeur qui rassemble chercheurs, professionnels et tudiants autour des enjeux du numrique en Afrique.",timeline_title:"Calendrier",tl_1_date:"1 Novembre 2025",tl_1_desc:"Lancement de l'appel  communications",tl_2_date:"28 Fvrier 2026",tl_2_desc:"Soumission des articles (date limite)",tl_3_date:"30 Mars 2026",tl_3_desc:"Notification aux auteurs",tl_4_date:"15 Avril 2026",tl_4_desc:"Soumission des versions finales",tl_5_date:"20-21-22 Mai 2026",tl_5_desc:"Colloque CoSTIC 2026 (ESATIC  Abidjan)",place_title:"Lieu et Date",date_label:"Date",place_label:"Lieu",goals_title:"Objectifs",general_objective_title:"Objectif Gnral",general_objective_text:"Crer un espace d'change et de partage des connaissances en matire de technologies de l'information et de la communication pour le dveloppement durable de l'Afrique.",specific_objectives_title:"Objectifs Spcifiques",so_1:"Promouvoir la recherche en TIC en Afrique",so_2:"Favoriser les changes entre chercheurs et professionnels",so_3:"Encourager l'innovation technologique",so_4:"Renforcer les capacits en TIC",cfp_title:"Appel  Communications",theme_general_title:"Thme Gnral",theme_general_text:"Technologies de l'Information et de la Communication pour le Dveloppement Durable en Afrique",submission_modalities_title:"Modalits de Soumission",modality_format_title:"Format",modality_format_desc:"Articles de 6-8 pages en franais ou anglais",modality_lang_title:"Langues",modality_lang_desc:"Franais et Anglais",modality_pub_title:"Publication",modality_pub_desc:"Actes du colloque et revue scientifique",models_title:"Modles de Soumission",models_desc:"Tlchargez les modles de soumission",model_word:"Modle Word",model_latex:"Modle LaTeX",submission_form_title:"Formulaire de Soumission",label_author_name:"Nom de l'auteur",label_author_email:"Email de l'auteur",label_affiliation:"Affiliation",label_article_title:"Titre de l'article",label_theme_select:"Track/Thmatique",theme_placeholder:"Slectionnez un track...",track_other:"Autre",track_download:"Autre - Liste complte des tracks",label_file_upload:"Fichier PDF",submit_article_btn:"Soumettre l'article",submitting_text:"Soumission en cours...",registration_title:"Inscription",registration_intro:"Inscrivez-vous au colloque CoSTIC 2026 et participez  cet vnement exceptionnel.",label_name:"Nom complet",label_email:"Email",label_participant_type:"Type de participant",option_researcher:"Chercheur",option_student:"tudiant",summary_title:"Rsum",summary_category:"Catgorie",summary_total:"Total",pay_btn:"Payer maintenant",registering_text:"Inscription en cours...",payment_note:"Paiement scuris via Paystack",participants_title:"Participants",committee_title:"Comit Scientifique",committee_paragraph:"Notre comit scientifique est compos d'experts reconnus dans le domaine des TIC.",committee_thematic_title:"Rpartition Thmatique du Comit",thematic_math:"Mathmatiques & Recherche Oprationnelle",thematic_math_responsibles:"Dr(MC) Moustapha Diaby",thematic_ai:"Intelligence Artificielle & Data Science",thematic_ai_responsibles:"Dr(MC) Mamadou Diarra, Prof. Leila Nasraoui",thematic_networks:"Rseaux & Tlcommunications",thematic_networks_responsibles:"Prof. Yvon Kermarec, Prof. Babacar",thematic_cyber:"Cyberscurit & Systmes d'Information",thematic_cyber_responsibles:"Dr(MC) Kamagat Beman, Dr(MC) Soro tienne",thematic_governance:"Gouvernance & Politiques Numriques",thematic_governance_responsibles:"Prof. Oumtanaga Souleymane, Prof. Asseu Olivier",thematic_coordination:"Coordination Scientifique & valuation",thematic_coordination_responsibles:"Dr(MC) Moustapha Diaby, Prof. Coulibaly Adama",partnerships_title:"Partenariats",partnerships_paragraph:"Nous remercions nos partenaires pour leur soutien.",partner_card_1_title:"Partenaires Institutionnels",partner_card_1_desc:"Ministres et institutions publiques",partner_card_2_title:"Partenaires Technologiques",partner_card_2_desc:"Entreprises du secteur TIC",partner_card_3_title:"Partenaires Acadmiques",partner_card_3_desc:"Universits et centres de recherche",publications_title:"Publications",proceedings_title:"Actes du Colloque",proceedings_text:"Les actes du colloque seront publis et indexs dans les bases de donnes scientifiques.",proceedings_soon:"Bientt disponible",journal_title:"Revue Scientifique",journal_text:"Les meilleurs articles seront publis dans une revue scientifique spcialise.",outcomes_title:"Rsultats Attendus",context_title:"Contexte et Justification",context_heading:"Pourquoi CoSTIC 2026 ?",context_paragraph:"L'Afrique fait face  des dfis majeurs en matire de dveloppement numrique. CoSTIC 2026 vise  crer un espace de rflexion et d'change pour relever ces dfis.",context_quote:"Le numrique est un levier de dveloppement pour l'Afrique. Il faut investir dans la recherche et l'innovation pour en tirer le meilleur parti.",Acceuil:"Accueil",Soumission:"Soumission","Comit Scientifique":"Comit Scientifique","A propos":" Propos","Espace administrateur":"Espace administrateur",admin_space:"Admin",ESATIC:"cole Suprieure Africaine des Technologies de l'Information et de la Communication",footer_contact:"Contact",footer_secretariat:"Secrtariat du Colloque",footer_stay_informed:"Restez inform",footer_newsletter_desc:"Inscrivez-vous  notre newsletter pour recevoir les dernires actualits du colloque.",footer_email_placeholder:"Votre adresse e-mail",footer_newsletter_error:"Erreur lors de l'inscription  la newsletter",Newsletter:"Inscription russie  la newsletter !",partner_section_title:"Devenir Partenaire",partner_intro:"Rejoignez-nous en tant que partenaire et contribuez au succs de CoSTIC 2026",partner_org_name:"Nom de l'Organisation",partner_country:"Pays",partner_contact_email:"Email de Contact",partner_phone:"Numro de Tlphone",partner_website:"Site Web",partner_website_placeholder:"https://www.exemple.com",partner_type:"Type de Partenaire",partner_type_institution:"Institutionnel",partner_type_company:"Entreprise",partner_type_org:"Organisation",partner_type_gov:"Gouvernemental",partner_type_media:"Mdia",partner_type_other:"Autre",partner_org_desc:"Description de l'Organisation",partner_org_desc_placeholder:"Dcrivez votre organisation, ses activits et son intrt pour le partenariat...",partner_logo_label:"Logo de l'Organisation",partner_logo_hint:"Tlchargez le logo de votre organisation (PNG, JPG, max 2MB)",partner_submit:"Soumettre la Demande de Partenariat",partner_submitting:"Soumission en cours...",partner_success:"Demande de partenariat soumise avec succs !",partner_error:"Erreur lors de la soumission. Veuillez ressayer."}},H2={translation:{hero_subtitle:"Scientific Conference on Information and Communication Technologies",date_value:"May 20-21-22, 2026",theme_value:"Information and Communication Technologies for Sustainable Development in Africa",place_value:"ESATIC, Abidjan, Cte d'Ivoire",organizer_value:"Organized by LASTIC",hero_submit:"Submit paper",hero_register:"Register",hero_partner:"Become partner",section_about_title:"About",about_paragraph:"The Scientific Conference on Information and Communication Technologies (CoSTIC) is a major event that brings together researchers, professionals and students around digital issues in Africa.",timeline_title:"Timeline",tl_1_date:"November 1, 2025",tl_1_desc:"Call for papers launch",tl_2_date:"February 28, 2026",tl_2_desc:"Paper submission deadline",tl_3_date:"March 30, 2026",tl_3_desc:"Author notification",tl_4_date:"April 15, 2026",tl_4_desc:"Final version submission",tl_5_date:"May 20-21-22, 2026",tl_5_desc:"CoSTIC 2026 Conference (ESATIC  Abidjan)",place_title:"Venue and Date",date_label:"Date",place_label:"Venue",goals_title:"Objectives",general_objective_title:"General Objective",general_objective_text:"Create a space for exchange and sharing of knowledge in information and communication technologies for sustainable development in Africa.",specific_objectives_title:"Specific Objectives",so_1:"Promote ICT research in Africa",so_2:"Foster exchanges between researchers and professionals",so_3:"Encourage technological innovation",so_4:"Strengthen ICT capacities",cfp_title:"Call for Papers",theme_general_title:"General Theme",theme_general_text:"Information and Communication Technologies for Sustainable Development in Africa",submission_modalities_title:"Submission Modalities",modality_format_title:"Format",modality_format_desc:"6-8 page articles in French or English",modality_lang_title:"Languages",modality_lang_desc:"French and English",modality_pub_title:"Publication",modality_pub_desc:"Conference proceedings and scientific journal",models_title:"Submission Templates",models_desc:"Download submission templates",model_word:"Word Template",model_latex:"LaTeX Template",submission_form_title:"Submission Form",label_author_name:"Author name",label_author_email:"Author email",label_affiliation:"Affiliation",label_article_title:"Article title",label_theme_select:"Track/Theme",theme_placeholder:"Select a track...",track_other:"Other",track_download:"Other - Complete track list",label_file_upload:"PDF File",submit_article_btn:"Submit article",submitting_text:"Submitting...",registration_title:"Registration",registration_intro:"Register for CoSTIC 2026 conference and participate in this exceptional event.",label_name:"Full name",label_email:"Email",label_participant_type:"Participant type",option_researcher:"Researcher",option_student:"Student",summary_title:"Summary",summary_category:"Category",summary_total:"Total",pay_btn:"Pay now",registering_text:"Registering...",payment_note:"Secure payment via Paystack",participants_title:"Participants",committee_title:"Scientific Committee",committee_paragraph:"Our scientific committee is composed of recognized experts in the ICT field.",committee_thematic_title:"Thematic Distribution of the Committee",thematic_math:"Mathematics & Operations Research",thematic_ai:"Artificial Intelligence & Data Science",thematic_ai_responsibles:"Dr(MC) Mamadou Diarra, Prof. Leila Nasraoui",thematic_networks:"Networks & Telecommunications",thematic_networks_responsibles:"Prof. Yvon Kermarec, Prof. Babacar",thematic_cyber:"Cybersecurity & Information Systems",thematic_cyber_responsibles:"Dr(MC) Kamagat Beman, Dr(MC) Soro tienne",thematic_governance:"Digital Governance & Policies",thematic_governance_responsibles:"Prof. Oumtanaga Souleymane, Prof. Asseu Olivier",thematic_coordination:"Scientific Coordination & Evaluation",thematic_coordination_responsibles:"Dr(MC) Moustapha Diaby, Prof. Coulibaly Adama",partnerships_title:"Partnerships",partnerships_paragraph:"We thank our partners for their support.",partner_card_1_title:"Institutional Partners",partner_card_1_desc:"Ministries and public institutions",partner_card_2_title:"Technology Partners",partner_card_2_desc:"ICT sector companies",partner_card_3_title:"Academic Partners",partner_card_3_desc:"Universities and research centers",publications_title:"Publications",proceedings_title:"Conference Proceedings",proceedings_text:"Conference proceedings will be published and indexed in scientific databases.",proceedings_soon:"Coming soon",journal_title:"Scientific Journal",journal_text:"Best articles will be published in a specialized scientific journal.",outcomes_title:"Expected Outcomes",context_title:"Context and Justification",context_heading:"Why CoSTIC 2026?",context_paragraph:"Africa faces major challenges in digital development. CoSTIC 2026 aims to create a space for reflection and exchange to address these challenges.",context_quote:"Digital is a lever for development in Africa. We must invest in research and innovation to make the most of it.",Acceuil:"Home",Soumission:"Submission","Comit Scientifique":"Scientific Committee","A propos":"About","Espace administrateur":"Administrator space",admin_space:"Admin",ESATIC:"African Higher School of Information and Communication Technologies",footer_contact:"Contact",footer_secretariat:"Conference Secretariat",footer_stay_informed:"Stay informed",footer_newsletter_desc:"Subscribe to our newsletter to receive the latest conference news.",footer_email_placeholder:"Your email address",footer_newsletter_error:"Error subscribing to newsletter",Newsletter:"Successfully subscribed to newsletter!",partner_section_title:"Become a Partner",partner_intro:"Join us as a partner and contribute to the success of CoSTIC 2026",partner_org_name:"Organization Name",partner_country:"Country",partner_contact_email:"Contact Email",partner_phone:"Phone Number",partner_website:"Website",partner_website_placeholder:"https://www.example.com",partner_type:"Partner Type",partner_type_institution:"Institutional",partner_type_company:"Company",partner_type_org:"Organization",partner_type_gov:"Government",partner_type_media:"Media",partner_type_other:"Other",partner_org_desc:"Organization Description",partner_org_desc_placeholder:"Describe your organization, its activities and interest in the partnership...",partner_logo_label:"Organization Logo",partner_logo_hint:"Upload your organization's logo (PNG, JPG, max 2MB)",partner_submit:"Submit Partnership Request",partner_submitting:"Submitting...",partner_success:"Partnership request submitted successfully!",partner_error:"Error submitting request. Please try again."}};Gt.use(Q_).use(I2).init({resources:{fr:q2,en:H2},fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1}});const W2=()=>{const[n,e]=V.useState(!1),{t,i18n:r}=_h(),i=[{name:t("Acceuil"),href:"#accueil",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:t("Soumission"),href:"#soumission",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[f.jsx("path",{d:"M9 3a1 1 0 011 1v1.382a7.001 7.001 0 015 6.618 1 1 0 11-2 0 5 5 0 00-5-5H10a1 1 0 110-2H9z"}),f.jsx("path",{d:"M3 8a1 1 0 011-1h2a7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5H4a1 1 0 01-1-1z"})]})},{name:t("Comit Scientifique"),href:"#comite-scientifique",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:t("A propos"),href:"#a-propos",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return f.jsxs("header",{className:"bg-primary/80 backdrop-blur-lg shadow-md sticky top-0 z-50 font-sans",children:[f.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center gap-6",children:[f.jsx("div",{className:"flex-none",children:f.jsx("a",{href:"#accueil","aria-label":"Page d'accueil de CoSTIC 2026",className:"flex-shrink-0 ml-0",children:f.jsx("img",{src:"/img/costic_logo.png",alt:"Logo CoSTIC 2026",className:"h-12 md:h-14 w-auto object-contain select-none transition-all duration-200 hover:opacity-90 drop-shadow-md rounded-full",decoding:"async",loading:"eager",fetchPriority:"high"})})}),f.jsx("nav",{className:"hidden md:flex flex-1 items-center justify-center gap-8 min-w-0",children:i.map(a=>f.jsxs("a",{href:a.href,className:"relative text-neutral-100 font-semibold hover:text-white transition-colors duration-300 group py-2 flex items-center",children:[a.icon,f.jsx("span",{className:"truncate max-w-[12ch] md:max-w-[18ch] lg:max-w-none",children:a.name}),f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 ease-out"})]},a.name))}),f.jsxs("div",{className:"ml-auto hidden md:flex flex-none items-center gap-3",children:[f.jsx("a",{href:"/admin",className:"text-neutral-300 hover:text-white text-sm transition-colors duration-300 whitespace-nowrap",children:t("Espace administrateur")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>r.changeLanguage("fr"),"aria-pressed":r.resolvedLanguage==="fr",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="fr"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"FR"}),f.jsx("button",{onClick:()=>r.changeLanguage("en"),"aria-pressed":r.resolvedLanguage==="en",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="en"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"EN"})]})]}),f.jsxs("div",{className:"md:hidden flex items-center ml-auto",children:[f.jsx("a",{href:"/admin",className:"text-neutral-300 hover:text-white text-sm mr-4 whitespace-nowrap",children:t("admin_space")}),f.jsx("button",{onClick:()=>e(!n),className:"text-white focus:outline-none","aria-label":"Ouvrir le menu",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16m-7 6h7"})})})]})]}),n&&f.jsx("div",{className:"md:hidden bg-primary/95",children:f.jsxs("div",{className:"px-6 pt-4 pb-4 flex flex-col items-center space-y-4",children:[f.jsx("nav",{className:"w-full space-y-2 text-center",children:i.map(a=>f.jsxs("a",{href:a.href,onClick:()=>e(!1),className:"flex items-center justify-center text-neutral-100 font-semibold rounded-md py-3 hover:bg-secondary/20 transition-colors duration-300",children:[a.icon,f.jsx("span",{children:a.name})]},a.name))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>r.changeLanguage("fr"),"aria-pressed":r.resolvedLanguage==="fr",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="fr"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"FR"}),f.jsx("button",{onClick:()=>r.changeLanguage("en"),"aria-pressed":r.resolvedLanguage==="en",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="en"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"EN"})]})]})})]})},K2=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},G2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],d=n[t++],p=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,d=u?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,_=a>>2,x=(a&3)<<4|d>>4;let T=(d&15)<<2|g>>6,A=g&63;p||(A=64,u||(T=64)),r.push(t[_],t[x],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||d==null||g==null||x==null)throw new Q2;const T=a<<2|d>>4;if(r.push(T),g!==64){const A=d<<4&240|g>>2;if(r.push(A),x!==64){const b=g<<6&192|x;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X2=function(n){const e=X_(n);return Y_.encodeByteArray(e,!0)},Wc=function(n){return X2(n).replace(/\./g,"")},J_=function(n){try{return Y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=()=>Y2().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof k0>"u")return;const n=k0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J_(n[1]);return e&&JSON.parse(e)},wh=()=>{try{return K2()||J2()||Z2()||eS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z_=n=>{var e,t;return(t=(e=wh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},ew=n=>{const e=Z_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tw=()=>{var n;return(n=wh())==null?void 0:n.config},nw=n=>{var e;return(e=wh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wc(JSON.stringify(t)),Wc(JSON.stringify(u)),""].join(".")}const _l={};function nS(){const n={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?n.emulator.push(e):n.prod.push(e);return n}function rS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let R0=!1;function Dp(n,e){if(typeof window>"u"||typeof document>"u"||!ei(window.location.host)||_l[n]===e||_l[n]||R0)return;_l[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=nS().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{R0=!0,u()},T}function _(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=rS(r),A=t("text"),b=document.getElementById(A)||document.createElement("span"),U=t("learnmore"),L=document.getElementById(U)||document.createElement("a"),G=t("preprendIcon"),Q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const K=T.element;d(K),_(L,U);const se=g();p(Q,G),K.append(Q,b,L,se),document.body.appendChild(K)}a?(b.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function iS(){var e;const n=(e=wh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}function cS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class Dn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hS,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qi.prototype.create)}}class qi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?dS(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new Dn(i,d,r)}}function dS(n,e){return n.replace(fS,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fS=/\{\$([^}]+)}/g;function pS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ws(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(N0(a)&&N0(u)){if(!Ws(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function N0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mS(n,e){const t=new gS(n,e);return t.subscribe.bind(t)}class gS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bf),i.error===void 0&&(i.error=bf),i.complete===void 0&&(i.complete=bf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1e3,_S=2,wS=14400*1e3,xS=.5;function P0(n,e=vS,t=_S){const r=e*Math.pow(t,n),i=Math.round(xS*r*(Math.random()-.5)*2);return Math.min(wS,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n){return n&&n._delegate?n._delegate:n}class Ln{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(n){return n===Pi?void 0:n}function IS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ES(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const bS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},CS=Ve.INFO,AS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},kS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=AS[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const RS=(n,e)=>e.some(t=>n instanceof t);let j0,L0;function NS(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,Zf=new WeakMap,lw=new WeakMap,Cf=new WeakMap,Op=new WeakMap;function jS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Us(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aw.set(t,n)}).catch(()=>{}),Op.set(e,n),e}function LS(n){if(Zf.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Zf.set(n,e)}let ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DS(n){ep=n(ep)}function OS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return lw.set(r,e.sort?e.sort():[e]),Us(r)}:PS().includes(n)?function(...e){return n.apply(Af(this),e),Us(aw.get(this))}:function(...e){return Us(n.apply(Af(this),e))}}function VS(n){return typeof n=="function"?OS(n):(n instanceof IDBTransaction&&LS(n),RS(n,NS())?new Proxy(n,ep):n)}function Us(n){if(n instanceof IDBRequest)return jS(n);if(Cf.has(n))return Cf.get(n);const e=VS(n);return e!==n&&(Cf.set(n,e),Op.set(e,n)),e}const Af=n=>Op.get(n);function uw(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),d=Us(u);return r&&u.addEventListener("upgradeneeded",p=>{r(Us(u.result),p.oldVersion,p.newVersion,Us(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const MS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],kf=new Map;function D0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MS.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,i?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),i&&p.done]))[0]};return kf.set(e,a),a}DS(n=>({...n,get:(e,t,r)=>D0(e,t)||n.get(e,t,r),has:(e,t)=>!!D0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($S(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $S(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",O0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new xh("@firebase/app"),BS="@firebase/app-compat",zS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",WS="@firebase/app-check",KS="@firebase/auth",GS="@firebase/auth-compat",QS="@firebase/database",XS="@firebase/data-connect",YS="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",eb="@firebase/installations",tb="@firebase/installations-compat",nb="@firebase/messaging",rb="@firebase/messaging-compat",sb="@firebase/performance",ib="@firebase/performance-compat",ob="@firebase/remote-config",ab="@firebase/remote-config-compat",lb="@firebase/storage",ub="@firebase/storage-compat",cb="@firebase/firestore",hb="@firebase/ai",db="@firebase/firestore-compat",fb="firebase",pb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",mb={[tp]:"fire-core",[BS]:"fire-core-compat",[qS]:"fire-analytics",[zS]:"fire-analytics-compat",[WS]:"fire-app-check",[HS]:"fire-app-check-compat",[KS]:"fire-auth",[GS]:"fire-auth-compat",[QS]:"fire-rtdb",[XS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[eb]:"fire-iid",[tb]:"fire-iid-compat",[nb]:"fire-fcm",[rb]:"fire-fcm-compat",[sb]:"fire-perf",[ib]:"fire-perf-compat",[ob]:"fire-rc",[ab]:"fire-rc-compat",[lb]:"fire-gcs",[ub]:"fire-gcs-compat",[cb]:"fire-fst",[db]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,gb=new Map,rp=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xn(n){const e=n.name;if(rp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,n);for(const t of Kc.values())V0(t,n);for(const t of gb.values())V0(t,n);return!0}function ti(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new qi("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=pb;function cw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:np,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $s.create("bad-app-name",{appName:String(i)});if(t||(t=tw()),!t)throw $s.create("no-options");const a=Kc.get(i);if(a){if(Ws(t,a.options)&&Ws(r,a.config))return a;throw $s.create("duplicate-app",{appName:i})}const u=new SS(i);for(const p of rp.values())u.addComponent(p);const d=new vb(t,r,u);return Kc.set(i,d),d}function Eh(n=np){const e=Kc.get(n);if(!e&&n===np&&tw())return cw();if(!e)throw $s.create("no-app",{appName:n});return e}function un(n,e,t){let r=mb[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(u.join(" "));return}Xn(new Ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebase-heartbeat-database",wb=1,Rl="firebase-heartbeat-store";let Rf=null;function hw(){return Rf||(Rf=uw(_b,wb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),Rf}async function xb(n){try{const t=(await hw()).transaction(Rl),r=await t.objectStore(Rl).get(dw(n));return await t.done,r}catch(e){if(e instanceof Dn)Xr.warn(e.message);else{const t=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(t.message)}}}async function M0(n,e){try{const r=(await hw()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,dw(n)),await r.done}catch(t){if(t instanceof Dn)Xr.warn(t.message);else{const r=$s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(r.message)}}}function dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=30;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Tb){const u=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F0(),{heartbeatsToSend:r,unsentEntries:i}=Sb(this._heartbeatsCache.heartbeats),a=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function F0(){return new Date().toISOString().substring(0,10)}function Sb(n,e=Eb){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),U0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),U0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U0(n){return Wc(JSON.stringify({version:2,heartbeats:n})).length}function Cb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){Xn(new Ln("platform-logger",e=>new US(e),"PRIVATE")),Xn(new Ln("heartbeat",e=>new Ib(e),"PRIVATE")),un(tp,O0,n),un(tp,O0,"esm2020"),un("fire-js","")}Ab("");var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,fw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(P,D,$){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return S.prototype[D].apply(P,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,S,C){C||(C=0);const P=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)P[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)P[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],D=N.g[2];let $=N.g[3],k;k=S+($^C&(D^$))+P[0]+3614090360&4294967295,S=C+(k<<7&4294967295|k>>>25),k=$+(D^S&(C^D))+P[1]+3905402710&4294967295,$=S+(k<<12&4294967295|k>>>20),k=D+(C^$&(S^C))+P[2]+606105819&4294967295,D=$+(k<<17&4294967295|k>>>15),k=C+(S^D&($^S))+P[3]+3250441966&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+($^C&(D^$))+P[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=$+(D^S&(C^D))+P[5]+1200080426&4294967295,$=S+(k<<12&4294967295|k>>>20),k=D+(C^$&(S^C))+P[6]+2821735955&4294967295,D=$+(k<<17&4294967295|k>>>15),k=C+(S^D&($^S))+P[7]+4249261313&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+($^C&(D^$))+P[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=$+(D^S&(C^D))+P[9]+2336552879&4294967295,$=S+(k<<12&4294967295|k>>>20),k=D+(C^$&(S^C))+P[10]+4294925233&4294967295,D=$+(k<<17&4294967295|k>>>15),k=C+(S^D&($^S))+P[11]+2304563134&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+($^C&(D^$))+P[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=$+(D^S&(C^D))+P[13]+4254626195&4294967295,$=S+(k<<12&4294967295|k>>>20),k=D+(C^$&(S^C))+P[14]+2792965006&4294967295,D=$+(k<<17&4294967295|k>>>15),k=C+(S^D&($^S))+P[15]+1236535329&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+(D^$&(C^D))+P[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=$+(C^D&(S^C))+P[6]+3225465664&4294967295,$=S+(k<<9&4294967295|k>>>23),k=D+(S^C&($^S))+P[11]+643717713&4294967295,D=$+(k<<14&4294967295|k>>>18),k=C+($^S&(D^$))+P[0]+3921069994&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^$&(C^D))+P[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=$+(C^D&(S^C))+P[10]+38016083&4294967295,$=S+(k<<9&4294967295|k>>>23),k=D+(S^C&($^S))+P[15]+3634488961&4294967295,D=$+(k<<14&4294967295|k>>>18),k=C+($^S&(D^$))+P[4]+3889429448&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^$&(C^D))+P[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=$+(C^D&(S^C))+P[14]+3275163606&4294967295,$=S+(k<<9&4294967295|k>>>23),k=D+(S^C&($^S))+P[3]+4107603335&4294967295,D=$+(k<<14&4294967295|k>>>18),k=C+($^S&(D^$))+P[8]+1163531501&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^$&(C^D))+P[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=$+(C^D&(S^C))+P[2]+4243563512&4294967295,$=S+(k<<9&4294967295|k>>>23),k=D+(S^C&($^S))+P[7]+1735328473&4294967295,D=$+(k<<14&4294967295|k>>>18),k=C+($^S&(D^$))+P[12]+2368359562&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(C^D^$)+P[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=$+(S^C^D)+P[8]+2272392833&4294967295,$=S+(k<<11&4294967295|k>>>21),k=D+($^S^C)+P[11]+1839030562&4294967295,D=$+(k<<16&4294967295|k>>>16),k=C+(D^$^S)+P[14]+4259657740&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^$)+P[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=$+(S^C^D)+P[4]+1272893353&4294967295,$=S+(k<<11&4294967295|k>>>21),k=D+($^S^C)+P[7]+4139469664&4294967295,D=$+(k<<16&4294967295|k>>>16),k=C+(D^$^S)+P[10]+3200236656&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^$)+P[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=$+(S^C^D)+P[0]+3936430074&4294967295,$=S+(k<<11&4294967295|k>>>21),k=D+($^S^C)+P[3]+3572445317&4294967295,D=$+(k<<16&4294967295|k>>>16),k=C+(D^$^S)+P[6]+76029189&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^$)+P[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=$+(S^C^D)+P[12]+3873151461&4294967295,$=S+(k<<11&4294967295|k>>>21),k=D+($^S^C)+P[15]+530742520&4294967295,D=$+(k<<16&4294967295|k>>>16),k=C+(D^$^S)+P[2]+3299628645&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(D^(C|~$))+P[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=$+(C^(S|~D))+P[7]+1126891415&4294967295,$=S+(k<<10&4294967295|k>>>22),k=D+(S^($|~C))+P[14]+2878612391&4294967295,D=$+(k<<15&4294967295|k>>>17),k=C+($^(D|~S))+P[5]+4237533241&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~$))+P[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=$+(C^(S|~D))+P[3]+2399980690&4294967295,$=S+(k<<10&4294967295|k>>>22),k=D+(S^($|~C))+P[10]+4293915773&4294967295,D=$+(k<<15&4294967295|k>>>17),k=C+($^(D|~S))+P[1]+2240044497&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~$))+P[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=$+(C^(S|~D))+P[15]+4264355552&4294967295,$=S+(k<<10&4294967295|k>>>22),k=D+(S^($|~C))+P[6]+2734768916&4294967295,D=$+(k<<15&4294967295|k>>>17),k=C+($^(D|~S))+P[13]+1309151649&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~$))+P[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=$+(C^(S|~D))+P[11]+3174756917&4294967295,$=S+(k<<10&4294967295|k>>>22),k=D+(S^($|~C))+P[2]+718787259&4294967295,D=$+(k<<15&4294967295|k>>>17),k=C+($^(D|~S))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,P=this.C;let D=this.h,$=0;for(;$<S;){if(D==0)for(;$<=C;)i(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<S;)if(P[D++]=N.charCodeAt($++),D==this.blockSize){i(this,P),D=0;break}}else for(;$<S;)if(P[D++]=N[$++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)N[S++]=this.g[C]>>>P&255;return N};function a(N,S){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function u(N,S){this.h=S;const C=[];let P=!0;for(let D=N.length-1;D>=0;D--){const $=N[D]|0;P&&$==S||(C[D]=$,P=!1)}this.g=C}var d={};function p(N){return-128<=N&&N<128?a(N,function(S){return new u([S|0],S<0?-1:0)}):new u([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return L(g(-N));const S=[];let C=1;for(let P=0;N>=C;P++)S[P]=N/C|0,C*=4294967296;return new u(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return L(_(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let P=x;for(let $=0;$<N.length;$+=8){var D=Math.min(8,N.length-$);const k=parseInt(N.substring($,$+D),S);D<8?(D=g(Math.pow(S,D)),P=P.j(D).add(g(k))):(P=P.j(C),P=P.add(g(k)))}return P}var x=p(0),T=p(1),A=p(16777216);n=u.prototype,n.m=function(){if(U(this))return-L(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);N+=(P>=0?P:4294967296+P)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(U(this))return"-"+L(this).toString(N);const S=g(Math.pow(N,6));var C=this;let P="";for(;;){const D=se(C,S).g;C=G(C,D.j(S));let $=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,b(C))return $+P;for(;$.length<6;)$="0"+$;P=$+P}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function U(N){return N.h==-1}n.l=function(N){return N=G(this,N),U(N)?-1:b(N)?0:1};function L(N){const S=N.g.length,C=[];for(let P=0;P<S;P++)C[P]=~N.g[P];return new u(C,~N.h).add(T)}n.abs=function(){return U(this)?L(this):this},n.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let P=0;for(let D=0;D<=S;D++){let $=P+(this.i(D)&65535)+(N.i(D)&65535),k=($>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);P=k>>>16,$&=65535,k&=65535,C[D]=k<<16|$}return new u(C,C[C.length-1]&-2147483648?-1:0)};function G(N,S){return N.add(L(S))}n.j=function(N){if(b(this)||b(N))return x;if(U(this))return U(N)?L(this).j(L(N)):L(L(this).j(N));if(U(N))return L(this.j(L(N)));if(this.l(A)<0&&N.l(A)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<N.g.length;D++){const $=this.i(P)>>>16,k=this.i(P)&65535,Se=N.i(D)>>>16,$e=N.i(D)&65535;C[2*P+2*D]+=k*$e,Q(C,2*P+2*D),C[2*P+2*D+1]+=$*$e,Q(C,2*P+2*D+1),C[2*P+2*D+1]+=k*Se,Q(C,2*P+2*D+1),C[2*P+2*D+2]+=$*Se,Q(C,2*P+2*D+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new u(C,0)};function Q(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function K(N,S){this.g=N,this.h=S}function se(N,S){if(b(S))throw Error("division by zero");if(b(N))return new K(x,x);if(U(N))return S=se(L(N),S),new K(L(S.g),L(S.h));if(U(S))return S=se(N,L(S)),new K(L(S.g),S.h);if(N.g.length>30){if(U(N)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var C=T,P=S;P.l(N)<=0;)C=ye(C),P=ye(P);var D=me(C,1),$=me(P,1);for(P=me(P,2),C=me(C,2);!b(P);){var k=$.add(P);k.l(N)<=0&&(D=D.add(C),$=k),P=me(P,1),C=me(C,1)}return S=G(N,D.j(S)),new K(D,S)}for(D=x;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),$=g(C),k=$.j(S);U(k)||k.l(N)>0;)C-=P,$=g(C),k=$.j(S);b($)&&($=T),D=D.add($),N=G(N,k)}return new K(D,N)}n.B=function(N){return se(this,N).h},n.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)&N.i(P);return new u(C,this.h&N.h)},n.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)|N.i(P);return new u(C,this.h|N.h)},n.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)^N.i(P);return new u(C,this.h^N.h)};function ye(N){const S=N.g.length+1,C=[];for(let P=0;P<S;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new u(C,N.h)}function me(N,S){const C=S>>5;S%=32;const P=N.g.length-C,D=[];for(let $=0;$<P;$++)D[$]=S>0?N.i($+C)>>>S|N.i($+C+1)<<32-S:N.i($+C);return new u(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Bs=u}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,ml,mw,Nc,sp,gw,yw,vw;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(c,v){if(v)e:{var w=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in w))break e;w=w[z]}c=c[c.length-1],I=w[c],v=v(I),v!=I&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function p(c,v,w){return c.call.apply(c.bind,arguments)}function g(c,v,w){return g=p,g.apply(null,arguments)}function _(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function x(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,z,W){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return v.prototype[z].apply(I,oe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const v=c.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=c[I];return w}return[]}function b(c,v){for(let I=1;I<arguments.length;I++){const z=arguments[I];var w=typeof z;if(w=w!="object"?w:z?Array.isArray(z)?"array":w:"null",w=="array"||w=="object"&&typeof z.length=="number"){w=c.length||0;const W=z.length||0;c.length=w+W;for(let oe=0;oe<W;oe++)c[w+oe]=z[oe]}else c.push(z)}}class U{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(c){u.setTimeout(()=>{throw c},0)}function G(){var c=N;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,w){const I=K.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new U(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,me=!1,N=new Q,S=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(C)}};function C(){for(var c;c=G();){try{c.h.call(c.g)}catch(w){L(w)}var v=K;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}me=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function Se(c,v){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(Se,D),Se.prototype.init=function(c,v){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ue(c,v,w,I,z){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=z,this.key=++Y,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c,v,w){for(const I in c)v.call(w,c[I],I,c)}function ae(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function F(c){const v={};for(const w in c)v[w]=c[w];return v}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(c,v){let w,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(w in I)c[w]=I[w];for(let W=0;W<j.length;W++)w=j[W],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Z(c){this.src=c,this.g={},this.h=0}Z.prototype.add=function(c,v,w,I,z){const W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);const oe=xe(c,v,I,z);return oe>-1?(v=c[oe],w||(v.fa=!1)):(v=new ue(v,this.src,W,!!I,z),v.fa=w,c.push(v)),v};function le(c,v){const w=v.type;if(w in c.g){var I=c.g[w],z=Array.prototype.indexOf.call(I,v,void 0),W;(W=z>=0)&&Array.prototype.splice.call(I,z,1),W&&(te(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function xe(c,v,w,I){for(let z=0;z<c.length;++z){const W=c[z];if(!W.da&&W.listener==v&&W.capture==!!w&&W.ha==I)return z}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),we={};function De(c,v,w,I,z){if(Array.isArray(v)){for(let W=0;W<v.length;W++)De(c,v[W],w,I,z);return null}return w=ga(w),c&&c[$e]?c.J(v,w,d(I)?!!I.capture:!1,z):St(c,v,w,!1,I,z)}function St(c,v,w,I,z,W){if(!v)throw Error("Invalid event type");const oe=d(z)?!!z.capture:!!z;let je=Yi(c);if(je||(c[Ce]=je=new Z(c)),w=je.add(v,w,I,oe,W),w.proxy)return w;if(I=Zt(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)$||(z=oe),z===void 0&&(z=!1),c.addEventListener(v.toString(),I,z);else if(c.attachEvent)c.attachEvent(Xi(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Zt(){function c(w){return v.call(c.src,c.listener,w)}const v=tu;return c}function ts(c,v,w,I,z){if(Array.isArray(v))for(var W=0;W<v.length;W++)ts(c,v[W],w,I,z);else I=d(I)?!!I.capture:!!I,w=ga(w),c&&c[$e]?(c=c.i,W=String(v).toString(),W in c.g&&(v=c.g[W],w=xe(v,w,I,z),w>-1&&(te(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[W],c.h--)))):c&&(c=Yi(c))&&(v=c.g[v.toString()],c=-1,v&&(c=xe(v,w,I,z)),(w=c>-1?v[c]:null)&&ns(w))}function ns(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[$e])le(v.i,c);else{var w=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(w,I,c.capture):v.detachEvent?v.detachEvent(Xi(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Yi(v))?(le(w,c),w.h==0&&(w.src=null,v[Ce]=null)):te(c)}}}function Xi(c){return c in we?we[c]:we[c]="on"+c}function tu(c,v){if(c.da)c=!0;else{v=new Se(v,this);const w=c.listener,I=c.ha||c.src;c.fa&&ns(c),c=w.call(I,v)}return c}function Yi(c){return c=c[Ce],c instanceof Z?c:null}var ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function ga(c){return typeof c=="function"?c:(c[ii]||(c[ii]=function(v){return c.handleEvent(v)}),c[ii])}function mt(){P.call(this),this.i=new Z(this),this.M=this,this.G=null}x(mt,P),mt.prototype[$e]=!0,mt.prototype.removeEventListener=function(c,v,w,I){ts(this,c,v,w,I)};function ht(c,v){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new D(v,c);else if(v instanceof D)v.target=v.target||c;else{var z=v;v=new D(I,c),be(v,z)}z=!0;let W,oe;if(w)for(oe=w.length-1;oe>=0;oe--)W=v.g=w[oe],z=On(W,I,!0,v)&&z;if(W=v.g=c,z=On(W,I,!0,v)&&z,z=On(W,I,!1,v)&&z,w)for(oe=0;oe<w.length;oe++)W=v.g=w[oe],z=On(W,I,!1,v)&&z}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let I=0;I<w.length;I++)te(w[I]);delete c.g[v],c.h--}}this.G=null},mt.prototype.J=function(c,v,w,I){return this.i.add(String(c),v,!1,w,I)},mt.prototype.K=function(c,v,w,I){return this.i.add(String(c),v,!0,w,I)};function On(c,v,w,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let W=0;W<v.length;++W){const oe=v[W];if(oe&&!oe.da&&oe.capture==w){const je=oe.listener,dt=oe.ha||oe.src;oe.fa&&le(c.i,oe),z=je.call(dt,I)!==!1&&z}}return z&&!I.defaultPrevented}function ya(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function va(c){c.g=ya(()=>{c.g=null,c.i&&(c.i=!1,va(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class nu extends P{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){P.call(this),this.h=c,this.g={}}x(rs,P);var _a=[];function Ji(c){fe(c.g,function(v,w){this.g.hasOwnProperty(w)&&ns(v)},c),c.g={}}rs.prototype.N=function(){rs.Z.N.call(this),Ji(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=u.JSON.stringify,ru=u.JSON.parse,oi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function is(){}function su(){}var os={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){D.call(this,"d")}x(Zi,D);function wa(){D.call(this,"c")}x(wa,D);var Vn={},eo=null;function as(){return eo=eo||new mt}Vn.Ia="serverreachability";function to(c){D.call(this,Vn.Ia,c)}x(to,D);function Ar(c){const v=as();ht(v,new to(v))}Vn.STAT_EVENT="statevent";function kr(c,v){D.call(this,Vn.STAT_EVENT,c),this.stat=v}x(kr,D);function at(c){const v=as();ht(v,new kr(v,c))}Vn.Ja="timingevent";function xa(c,v){D.call(this,Vn.Ja,c),this.size=v}x(xa,D);function ls(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function us(){this.g=!0}us.prototype.ua=function(){this.g=!1};function iu(c,v,w,I,z,W){c.info(function(){if(c.g)if(W){var oe="",je=W.split("&");for(let Ke=0;Ke<je.length;Ke++){var dt=je[Ke].split("=");if(dt.length>1){const gt=dt[0];dt=dt[1];const mn=gt.split("_");oe=mn.length>=2&&mn[1]=="type"?oe+(gt+"="+dt+"&"):oe+(gt+"=redacted&")}}}else oe=null;else oe=W;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+v+`
`+w+`
`+oe})}function ou(c,v,w,I,z,W,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+v+`
`+w+`
`+W+" "+oe})}function Zn(c,v,w,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ai(c,w)+(I?" "+I:"")})}function au(c,v){c.info(function(){return"TIMEOUT: "+v})}us.prototype.info=function(){};function ai(c,v){if(!c.g)return v;if(!v)return null;try{const W=JSON.parse(v);if(W){for(c=0;c<W.length;c++)if(Array.isArray(W[c])){var w=W[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var z=I[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<I.length;oe++)I[oe]=""}}}}return ss(W)}catch{return v}}var cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lu;function Rr(){}x(Rr,is),Rr.prototype.g=function(){return new XMLHttpRequest},lu=new Rr;function er(c){return encodeURIComponent(String(c))}function no(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function Tn(c,v,w,I){this.j=c,this.i=v,this.l=w,this.S=I||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var cu={},Ea={};function Mn(c,v,w){c.M=1,c.A=Pr(In(v)),c.u=w,c.R=!0,Ta(c,null)}function Ta(c,v){c.F=Date.now(),li(c),c.B=In(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ja(w.i,"t",I),c.C=0,w=c.j.L,c.h=new uu,c.g=wu(c.j,w?v:null,!c.u),c.P>0&&(c.O=new nu(g(c.Y,c,c.g),c.P)),v=c.V,w=c.g,I=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(_a[0]=z.toString()),z=_a);for(let W=0;W<z.length;W++){const oe=De(w,z[W],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Ar(),iu(c.i,c.v,c.B,c.l,c.S,c.u)}Tn.prototype.ba=function(c){c=c.target;const v=this.O;v&&ar(c)==3?v.j():this.Y(c)},Tn.prototype.Y=function(c){try{if(c==this.g)e:{const je=ar(this.g),dt=this.g.ya(),Ke=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||vu(this.g)))){this.K||je!=4||dt==7||(dt==8||Ke<=0?Ar(3):Ar(2)),ro(this);var v=this.g.ca();this.X=v;var w=hu(this);if(this.o=v==200,ou(this.i,this.v,this.B,this.l,this.S,je,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,z=this.g;if((I=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var W=I;break t}}W=null}if(c=W)Zn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,c);else{this.o=!1,this.m=3,at(12),Nr(this),ui(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=fu(this,w),gt==Ea){je==4&&(this.m=4,at(14),c=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==cu){this.m=4,at(15),Zn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Zn(this.i,this.l,gt,null),Je(this,gt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)Zn(this.i,this.l,w,"[Invalid Chunked Response]"),Nr(this),ui(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),vi(oe),oe.P=!0,at(11))}}else Zn(this.i,this.l,w,null),Je(this,w);je==4&&Nr(this),this.o&&!this.K&&(je==4?po(this.j,this):(this.o=!1,li(this)))}else Da(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Nr(this),ui(this)}}}catch{}finally{}};function hu(c){if(!du(c))return c.g.la();const v=vu(c.g);if(v==="")return"";let w="";const I=v.length,z=ar(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nr(c),ui(c),"";c.h.i=new u.TextDecoder}for(let W=0;W<I;W++)c.h.h=!0,w+=c.h.i.decode(v[W],{stream:!(z&&W==I-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,v){var w=c.C,I=v.indexOf(`
`,w);return I==-1?Ea:(w=Number(v.substring(w,I)),isNaN(w)?cu:(I+=1,I+w>v.length?Ea:(v=v.slice(I,I+w),c.C=I+w,v)))}Tn.prototype.cancel=function(){this.K=!0,Nr(this)};function li(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ls(g(c.aa,c),v)}function ro(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Tn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(au(this.i,this.B),this.M!=2&&(Ar(),at(17)),Nr(this),this.m=2,ui(this)):Ia(this,this.T-c)};function ui(c){c.j.I==0||c.K||po(c.j,c)}function Nr(c){ro(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Ji(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Je(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||ba(w.h,c))){if(!c.L&&ba(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)fo(w),fn(w);else break e;cr(w),at(18)}}else w.xa=z[1],0<w.xa-w.K&&z[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ls(g(w.Va,w),6e3));ci(w.h)<=1&&w.ta&&(w.ta=void 0)}else pn(w,11)}else if((c.L||w.g==c)&&fo(w),!k(v))for(z=w.Ba.g.parse(v),v=0;v<z.length;v++){let Ke=z[v];const gt=Ke[0];if(!(gt<=w.K))if(w.K=gt,Ke=Ke[1],w.I==2)if(Ke[0]=="c"){w.M=Ke[1],w.ba=Ke[2];const mn=Ke[3];mn!=null&&(w.ka=mn,w.j.info("VER="+w.ka));const Vr=Ke[4];Vr!=null&&(w.za=Vr,w.j.info("SVER="+w.za));const hr=Ke[5];hr!=null&&typeof hr=="number"&&hr>0&&(I=1.5*hr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const dr=c.g;if(dr){const yo=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var W=I.h;W.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(io(W,W.h),W.h=null))}if(I.G){const Ma=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(I.wa=Ma,He(I.J,I.G,Ma))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var oe=c;if(I.na=Va(I,I.L?I.ba:null,I.W),oe.L){hi(I.h,oe);var je=oe,dt=I.O;dt&&(je.H=dt),je.D&&(ro(je),li(je)),I.g=oe}else Ft(I);w.i.length>0&&Or(w)}else Ke[0]!="stop"&&Ke[0]!="close"||pn(w,7);else w.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?pn(w,7):co(w):Ke[0]!="noop"&&w.l&&w.l.qa(Ke),w.A=0)}}Ar(4)}catch{}}var Kh=class{constructor(c,v){this.g=c,this.map=v}};function so(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ci(c){return c.h?1:c.g?c.g.size:0}function ba(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function io(c,v){c.g?c.g.add(v):c.h=v}function hi(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}so.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return A(c.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let z,W=null;I>=0?(z=c[w].substring(0,I),W=c[w].substring(I+1)):z=c[w],v(z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function tr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof tr?(this.l=c.l,di(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.u),this.h=c.h,ds(this,La(c.i)),this.m=c.m):c&&(v=String(c).match(pu))?(this.l=!1,di(this,v[1]||"",!0),this.o=fi(v[2]||""),this.g=fi(v[3]||"",!0),nr(this,v[4]),this.h=fi(v[5]||"",!0),ds(this,v[6]||"",!0),this.m=fi(v[7]||"")):(this.l=!1,this.i=new Ue(null,this.l))}tr.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(pi(v,Aa,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(pi(v,Aa,!0),"@"),c.push(er(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(pi(w,w.charAt(0)=="/"?mi:ka,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",pi(w,Ra)),c.join("")},tr.prototype.resolve=function(c){const v=In(this);let w=!!c.j;w?di(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var I=c.h;if(w)nr(v,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var z=v.h.lastIndexOf("/");z!=-1&&(I=v.h.slice(0,z+1)+I)}if(z=I,z==".."||z==".")I="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){I=z.lastIndexOf("/",0)==0,z=z.split("/");const W=[];for(let oe=0;oe<z.length;){const je=z[oe++];je=="."?I&&oe==z.length&&W.push(""):je==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),I&&oe==z.length&&W.push("")):(W.push(je),I=!0)}I=W.join("/")}else I=z}return w?v.h=I:w=c.i.toString()!=="",w?ds(v,La(c.i)):w=!!c.m,w&&(v.m=c.m),v};function In(c){return new tr(c)}function di(c,v,w){c.j=w?fi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function ds(c,v,w){v instanceof Ue?(c.i=v,ao(c.i,c.l)):(w||(v=pi(v,Gh)),c.i=new Ue(v,c.l))}function He(c,v,w){c.i.set(v,w)}function Pr(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Ca),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ca(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,ka=/[#\?:]/g,mi=/[#\?]/g,Gh=/[#\?@]/g,Ra=/#/g;function Ue(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&hn(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Ue.prototype,n.add=function(c,v){rr(this),this.i=null,c=sr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function Na(c,v){rr(c),v=sr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function oo(c,v){return rr(c),v=sr(c,v),c.g.has(v)}n.forEach=function(c,v){rr(this),this.g.forEach(function(w,I){w.forEach(function(z){c.call(v,z,I,this)},this)},this)};function Pa(c,v){rr(c);let w=[];if(typeof v=="string")oo(c,v)&&(w=w.concat(c.g.get(sr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}n.set=function(c,v){return rr(this),this.i=null,c=sr(this,c),oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=Pa(this,c),c.length>0?String(c[0]):v):v};function ja(c,v,w){Na(c,v),w.length>0&&(c.i=null,c.g.set(sr(c,v),A(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const z=er(w);w=Pa(this,w);for(let W=0;W<w.length;W++){let oe=z;w[W]!==""&&(oe+="="+er(w[W])),c.push(oe)}}return this.i=c.join("&")};function La(c){const v=new Ue;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function sr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ao(c,v){v&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(w,I){const z=I.toLowerCase();I!=z&&(Na(this,I),ja(this,z,w))},c)),c.j=v}function ir(c,v){const w=new us;if(u.Image){const I=new Image;I.onload=_(Nt,w,"TestLoadImage: loaded",!0,v,I),I.onerror=_(Nt,w,"TestLoadImage: error",!1,v,I),I.onabort=_(Nt,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=_(Nt,w,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function or(c,v){const w=new us,I=new AbortController,z=setTimeout(()=>{I.abort(),Nt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(z),W.ok?Nt(w,"TestPingServer: ok",!0,v):Nt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Nt(w,"TestPingServer: error",!1,v)})}function Nt(c,v,w,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(w)}catch{}}function gi(){this.g=new oi}function jr(c){this.i=c.Sb||null,this.h=c.ab||!1}x(jr,is),jr.prototype.g=function(){return new dn(this.i,this.h)};function dn(c,v){mt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(dn,mt),n=dn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?fs(this):Fn(this),this.readyState==3&&mu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,fs(this))},n.Na=function(c){this.g&&(this.response=c,fs(this))},n.ga=function(){this.g&&fs(this)};function fs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gu(c){let v="";return fe(c,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function lo(c,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=gu(w),typeof c=="string"?w!=null&&er(w):He(c,v,w))}function Ge(c){mt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ge,mt);var yu=/^https?$/i,Qh=["POST","PUT"];n=Ge.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lu.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(W){ps(this,W);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)w.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())w.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Qh,v,void 0)>=0)||I||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of w)this.g.setRequestHeader(W,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(W){ps(this,W)}};function ps(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,ms(c),Dr(c)}function ms(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},n.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof a<"u"){if(c.v&&ar(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),ar(c)==4){c.h=!1;try{const W=c.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=W===0){let oe=String(c.D).match(pu)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),I=!yu.test(oe?oe.toLowerCase():"")}w=I}if(w)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var z=ar(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",ms(c)}}finally{Dr(c)}}}}function Dr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||ht(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}n.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ru(v)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(c){const v={};c=(c.g&&ar(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(k(c[I]))continue;var w=no(c[I]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=v[z]||[];v[z]=W,W.push(w)}ae(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function uo(c){this.za=0,this.i=[],this.j=new us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=lr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=lr("baseRetryDelayMs",5e3,c),this.Za=lr("retryDelaySeedMs",1e4,c),this.Ta=lr("forwardChannelMaxRetries",2,c),this.va=lr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new so(c&&c.concurrentRequestLimit),this.Ba=new gi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=uo.prototype,n.ka=8,n.I=1,n.connect=function(c,v,w,I){at(0),this.W=c,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Va(this,null,this.W),Or(this)};function co(c){if(ho(c),c.I==3){var v=c.V++,w=In(c.J);if(He(w,"SID",c.M),He(w,"RID",v),He(w,"TYPE","terminate"),ur(c,w),v=new Tn(c,c.j,v),v.M=2,v.A=Pr(In(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=wu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),li(v)}_i(c)}function fn(c){c.g&&(vi(c),c.g.cancel(),c.g=null)}function ho(c){fn(c),c.v&&(u.clearTimeout(c.v),c.v=null),fo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Or(c){if(!Sa(c.h)&&!c.m){c.m=!0;var v=c.Ea;ye||S(),me||(ye(),me=!0),N.add(v,c),c.D=0}}function _u(c,v){return ci(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ls(g(c.Ea,c,v),mo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Tn(this,this.j,c);let W=this.o;if(this.U&&(W?(W=F(W),be(W,this.U)):W=this.U),this.u!==null||this.R||(z.J=W,W=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Oa(this,z,v),w=In(this.J),He(w,"RID",c),He(w,"CVER",22),this.G&&He(w,"X-HTTP-Session-Id",this.G),ur(this,w),W&&(this.R?v="headers="+er(gu(W))+"&"+v:this.u&&lo(w,this.u,W)),io(this.h,z),this.Ra&&He(w,"TYPE","init"),this.S?(He(w,"$req",v),He(w,"SID","null"),z.U=!0,Mn(z,w,null)):Mn(z,w,v),this.I=2}}else this.I==3&&(c?yi(this,c):this.i.length==0||Sa(this.h)||yi(this))};function yi(c,v){var w;v?w=v.l:w=c.V++;const I=In(c.J);He(I,"SID",c.M),He(I,"RID",w),He(I,"AID",c.K),ur(c,I),c.u&&c.o&&lo(I,c.u,c.o),w=new Tn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Oa(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),io(c.h,w),Mn(w,I,v)}function ur(c,v){c.H&&fe(c.H,function(w,I){He(v,I,w)}),c.l&&fe({},function(w,I){He(v,I,w)})}function Oa(c,v,w){w=Math.min(c.i.length,w);const I=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let je=-1;for(;;){const dt=["count="+w];je==-1?w>0?(je=z[0].g,dt.push("ofs="+je)):je=0:dt.push("ofs="+je);let Ke=!0;for(let gt=0;gt<w;gt++){var W=z[gt].g;const mn=z[gt].map;if(W-=je,W<0)je=Math.max(0,z[gt].g-100),Ke=!1;else try{W="req"+W+"_"||"";try{var oe=mn instanceof Map?mn:Object.entries(mn);for(const[Vr,hr]of oe){let dr=hr;d(hr)&&(dr=ss(hr)),dt.push(W+Vr+"="+encodeURIComponent(dr))}}catch(Vr){throw dt.push(W+"type="+encodeURIComponent("_badmap")),Vr}}catch{I&&I(mn)}}if(Ke){oe=dt.join("&");break e}}oe=void 0}return c=c.i.splice(0,w),v.G=c,oe}function Ft(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;ye||S(),me||(ye(),me=!0),N.add(v,c),c.A=0}}function cr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ls(g(c.Da,c),mo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,gs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ls(g(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),fn(this),gs(this))};function vi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function gs(c){c.g=new Tn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=In(c.na);He(v,"RID","rpc"),He(v,"SID",c.M),He(v,"AID",c.K),He(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(v,"TO",c.ia),He(v,"TYPE","xmlhttp"),ur(c,v),c.u&&c.o&&lo(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Pr(In(v)),w.u=null,w.R=!0,Ta(w,c)}n.Va=function(){this.C!=null&&(this.C=null,fn(this),cr(this),at(19))};function fo(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function po(c,v){var w=null;if(c.g==v){fo(c),vi(c),c.g=null;var I=2}else if(ba(c.h,v))w=v.G,hi(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var z=c.D;I=as(),ht(I,new xa(I,w)),Or(c)}else Ft(c);else if(z=v.m,z==3||z==0&&v.X>0||!(I==1&&_u(c,v)||I==2&&cr(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),z){case 1:pn(c,5);break;case 4:pn(c,10);break;case 3:pn(c,6);break;default:pn(c,2)}}}function mo(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function pn(c,v){if(c.j.info("Error code "+v),v==2){var w=g(c.bb,c),I=c.Ua;const z=!I;I=new tr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||di(I,"https"),Pr(I),z?ir(I.toString(),w):or(I.toString(),w)}else at(2);c.I=0,c.l&&c.l.pa(v),_i(c),ho(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function _i(c){if(c.I=0,c.ja=[],c.l){const v=cn(c.h);(v.length!=0||c.i.length!=0)&&(b(c.ja,v),b(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Va(c,v,w){var I=w instanceof tr?In(w):new tr(w);if(I.g!="")v&&(I.g=v+"."+I.g),nr(I,I.u);else{var z=u.location;I=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const W=new tr(null);I&&di(W,I),v&&(W.g=v),z&&nr(W,z),w&&(W.h=w),I=W}return w=c.G,v=c.wa,w&&v&&He(I,w,v),He(I,"VER",c.ka),ur(c,I),I}function wu(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Ge(new jr({ab:w})):new Ge(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}n=xu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function go(){}go.prototype.g=function(c,v){return new Pt(c,v)};function Pt(c,v){mt.call(this),this.g=new uo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!k(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ys(this)}x(Pt,mt),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){co(this.g)},Pt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ss(c),c=w);v.i.push(new Kh(v.Ya++,c)),v.I==3&&Or(v)},Pt.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,Pt.Z.N.call(this)};function Eu(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(Eu,Zi);function Tu(){wa.call(this),this.status=1}x(Tu,wa);function ys(c){this.g=c}x(ys,xu),ys.prototype.ra=function(){ht(this.g,"a")},ys.prototype.qa=function(c){ht(this.g,new Eu(c))},ys.prototype.pa=function(c){ht(this.g,new Tu)},ys.prototype.oa=function(){ht(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,vw=function(){return new go},yw=function(){return as()},gw=Vn,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Nc=cs,hs.COMPLETE="complete",mw=hs,su.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ml=su,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,pw=Ge}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",z0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new xh("@firebase/firestore");function $o(){return Vi.logLevel}function de(n,...e){if(Vi.logLevel<=Ve.DEBUG){const t=e.map(Vp);Vi.debug(`Firestore (${ua}): ${n}`,...t)}}function Yr(n,...e){if(Vi.logLevel<=Ve.ERROR){const t=e.map(Vp);Vi.error(`Firestore (${ua}): ${n}`,...t)}}function ea(n,...e){if(Vi.logLevel<=Ve.WARN){const t=e.map(Vp);Vi.warn(`Firestore (${ua}): ${n}`,...t)}}function Vp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_w(n,r,t)}function _w(n,e,t){let r=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yr(r),new Error(r)}function We(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_w(e,i,r)}function Le(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ht.UNAUTHENTICATED)))}shutdown(){}}class Rb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nb{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zs,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new ww(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class Pb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Pb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Db(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function ip(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Nf(i)===Nf(a)?Me(i,a):Nf(i)?1:-1}return Me(n.length,e.length)}const Ob=55296,Vb=57343;function Nf(n){const e=n.charCodeAt(0);return e>=Ob&&e<=Vb}function ta(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=yr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Me(e.length,t.length)}static compareSegments(e,t){const r=yr.isNumericId(e),i=yr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?yr.extractNumericId(e).compare(yr.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Xe extends yr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Xe(t)}static emptyPath(){return new Xe([])}}const Mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends yr{construct(e,t,r){return new Vt(e,t,r)}static isValidIdentifier(e){return Mb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Vt([H0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Xe.fromString(e))}static fromName(e){return new Ee(Xe.fromString(e).popFirst(5))}static empty(){return new Ee(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fb(n,e,t,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W0(n){if(!Ee.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K0(n){if(Ee.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ew(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function Mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!Ew(n))throw new ce(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Q0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q0);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:wt("string",tt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new tt(0,0))}static max(){return new Pe(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function Ub(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Ks(i,Ee.empty(),e)}function $b(n){return new Ks(n.readTime,n.key,Nl)}class Ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ks(Pe.min(),Ee.empty(),Nl)}static max(){return new Ks(Pe.max(),Ee.empty(),Nl)}}function Bb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==zb)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let i=0,a=0,u=!1;e.forEach((d=>{++i,d.next((()=>{++a,u&&a===i&&t()}),(p=>r(p)))})),u=!0,a===i&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((i=>i?J.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next((_=>{u[g]=_,++d,d===a&&r(u)}),(_=>i(_)))}}))}static doWhile(e,t){return new J(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function Hb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Sh(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function Wb(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="";function Kb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X0(e)),e=Gb(n.get(t),e);return X0(e)}function Gb(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Tw:t+="";break;default:t+=a}}return t}function X0(n){return n+Tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Iw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ot(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new It(Vt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Sw("Invalid base64 string: "+a):a}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=Qb.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Cw="__type__",Aw="__previous_value__",kw="__local_write_time__";function Up(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Cw])==null?void 0:r.stringValue)===bw}function bh(n){const e=n.mapValue.fields[Aw];return Up(e)?bh(e):e}function Pl(n){const e=Gs(n.mapValue.fields[kw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,r,i,a,u,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Qc="(default)";class jl{constructor(e,t){this.projectId=e,this.database=t||Qc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__type__",Yb="__max__",xc={mapValue:{}},Nw="__vector__",Xc="value";function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Up(n)?4:Zb(n)?9007199254740991:Jb(n)?10:11:ke(28295,{value:n})}function br(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Gs(i.timestampValue),d=Gs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Qs(i.bytesValue).isEqual(Qs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return pt(i.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pt(i.integerValue)===pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=pt(i.doubleValue),d=pt(a.doubleValue);return u===d?Gc(u)===Gc(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(Y0(u)!==Y0(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!br(u[p],d[p])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function Ll(n,e){return(n.values||[]).find((t=>br(t,e)))!==void 0}function na(n,e){if(n===e)return 0;const t=Xs(n),r=Xs(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),p=pt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Z0(n.timestampValue,e.timestampValue);case 4:return Z0(Pl(n),Pl(e));case 5:return ip(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Qs(a),p=Qs(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Me(d[g],p[g]);if(_!==0)return _}return Me(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Me(pt(a.latitude),pt(u.latitude));return d!==0?d:Me(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ev(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var T,A,b,U;const d=a.fields||{},p=u.fields||{},g=(T=d[Xc])==null?void 0:T.arrayValue,_=(A=p[Xc])==null?void 0:A.arrayValue,x=Me(((b=g==null?void 0:g.values)==null?void 0:b.length)||0,((U=_==null?void 0:_.values)==null?void 0:U.length)||0);return x!==0?x:ev(g,_)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===xc.mapValue&&u===xc.mapValue)return 0;if(a===xc.mapValue)return 1;if(u===xc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let x=0;x<p.length&&x<_.length;++x){const T=ip(p[x],_[x]);if(T!==0)return T;const A=na(d[p[x]],g[_[x]]);if(A!==0)return A}return Me(p.length,_.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function Z0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Gs(n),r=Gs(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function ev(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=na(t[i],r[i]);if(a)return a}return Me(t.length,r.length)}function ra(n){return op(n)}function op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Gs(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=op(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${op(t.fields[u])}`;return i+"}"})(n.mapValue):ke(61005,{value:n})}function Pc(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Pc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ni(r.fields,((a,u)=>{i+=a.length+Pc(u)})),i})(n.mapValue);default:throw ke(13486,{value:n})}}function tv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ap(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function nv(n){return!!n&&"nullValue"in n}function rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jc(n){return!!n&&"mapValue"in n}function Jb(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Rw])==null?void 0:r.stringValue)===Nw}function wl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ni(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=wl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return{...n}}function Zb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Yb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Vt.emptyPath(),r={},i=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=wl(u):i.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ni(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new ln(wl(this.value))}}function Pw(n){const e=[];return ni(n.fields,((t,r)=>{const i=new Vt([t]);if(jc(r)){const a=Pw(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,i,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Pe.min(),Pe.min(),Pe.min(),ln.empty(),0)}static newFoundDocument(e,t,r,i){return new Wt(e,1,t,Pe.min(),r,i,0)}static newNoDocument(e,t){return new Wt(e,2,t,Pe.min(),Pe.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Pe.min(),Pe.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.position=e,this.inclusive=t}}function sv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=na(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t="asc"){this.field=e,this.dir=t}}function eC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class _t extends jw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nC(e,t,r):t==="array-contains"?new iC(e,r):t==="in"?new oC(e,r):t==="not-in"?new aC(e,r):t==="array-contains-any"?new lC(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rC(e,r):new sC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends jw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yn(e,t)}matches(e){return Lw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lw(n){return n.op==="and"}function Dw(n){return tC(n)&&Lw(n)}function tC(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function lp(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+ra(n.value);if(Dw(n))return n.filters.map((e=>lp(e))).join(",");{const e=n.filters.map((t=>lp(t))).join(",");return`${n.op}(${e})`}}function Ow(n,e){return n instanceof _t?(function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)})(n,e):n instanceof Yn?(function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,d)=>a&&Ow(u,i.filters[d])),!0):!1})(n,e):void ke(19439)}function Vw(n){return n instanceof _t?(function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`})(n):n instanceof Yn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Vw).join(" ,")+"}"})(n):"Filter"}class nC extends _t{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class rC extends _t{constructor(e,t){super(e,"in",t),this.keys=Mw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sC extends _t{constructor(e,t){super(e,"not-in",t),this.keys=Mw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Ee.fromName(r.referenceValue)))}class iC extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Ll(t.arrayValue,this.value)}}class oC extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class aC extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ll(this.value.arrayValue,t)}}class lC extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ll(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function ov(n,e=null,t=[],r=[],i=null,a=null,u=null){return new uC(n,e,t,r,i,a,u)}function Bp(n){const e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>lp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ra(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ra(r))).join(",")),e.Te=t}return e.Te}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ow(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iv(n.startAt,e.startAt)&&iv(n.endAt,e.endAt)}function up(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t=null,r=[],i=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(n,e,t,r,i,a,u,d){return new da(n,e,t,r,i,a,u,d)}function Fw(n){return new da(n)}function av(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Uw(n){return n.collectionGroup!==null}function xl(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Vt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dl(a,r))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new Dl(Vt.keyField(),r))}return e.Ie}function wr(n){const e=Le(n);return e.Ee||(e.Ee=hC(e,xl(n))),e.Ee}function hC(n,e){if(n.limitType==="F")return ov(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Dl(i.field,a)}));const t=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return ov(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cp(n,e){const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hp(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ch(n,e){return zp(wr(n),wr(e))&&n.limitType===e.limitType}function $w(n){return`${Bp(wr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Vw(i))).join(", ")}]`),Sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>ra(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>ra(i))).join(",")),`Target(${r})`})(wr(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of xl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,d,p){const g=sv(u,d,p);return u.inclusive?g<=0:g<0})(r.startAt,xl(r),i)||r.endAt&&!(function(u,d,p){const g=sv(u,d,p);return u.inclusive?g>=0:g>0})(r.endAt,xl(r),i))})(n,e)}function dC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let r=!1;for(const i of xl(n)){const a=fC(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function fC(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(a,u,d){const p=u.data.field(a),g=d.data.field(a);return p!==null&&g!==null?na(p,g):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new ot(Ee.comparator);function Jr(){return pC}const zw=new ot(Ee.comparator);function gl(...n){let e=zw;for(const t of n)e=e.insert(t.key,t);return e}function qw(n){let e=zw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ji(){return El()}function Hw(){return El()}function El(){return new Wi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mC=new ot(Ee.comparator),gC=new It(Ee.comparator);function Fe(...n){let e=gC;for(const t of n)e=e.add(t);return e}const yC=new It(Me);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function _C(n,e){return Wb(e)?Ww(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function wC(n,e,t){return n instanceof Ol?(function(i,a){const u={fields:{[Cw]:{stringValue:bw},[kw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Up(a)&&(a=bh(a)),a&&(u.fields[Aw]=a),{mapValue:u}})(t,e):n instanceof Vl?Gw(n,e):n instanceof Ml?Qw(n,e):(function(i,a){const u=Kw(i,a),d=lv(u)+lv(i.Ae);return ap(u)&&ap(i.Ae)?Ww(d):qp(i.serializer,d)})(n,e)}function xC(n,e,t){return n instanceof Vl?Gw(n,e):n instanceof Ml?Qw(n,e):t}function Kw(n,e){return n instanceof Jc?(function(r){return ap(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ol extends kh{}class Vl extends kh{constructor(e){super(),this.elements=e}}function Gw(n,e){const t=Xw(e);for(const r of n.elements)t.some((i=>br(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Ml extends kh{constructor(e){super(),this.elements=e}}function Qw(n,e){let t=Xw(e);for(const r of n.elements)t=t.filter((i=>!br(i,r)));return{arrayValue:{values:t}}}class Jc extends kh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lv(n){return pt(n.integerValue||n.doubleValue)}function Xw(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.field=e,this.transform=t}}function TC(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Ml&&i instanceof Ml?ta(r.elements,i.elements,br):r instanceof Jc&&i instanceof Jc?br(r.Ae,i.Ae):r instanceof Ol&&i instanceof Ol})(n.transform,e.transform)}class IC{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rh{}function Yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hp(n.key,Gn.none()):new Wl(n.key,n.data,Gn.none());{const t=n.data,r=ln.empty();let i=new It(Vt.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new ri(n.key,r,new _n(i.toArray()),Gn.none())}}function SC(n,e,t){n instanceof Wl?(function(i,a,u){const d=i.value.clone(),p=cv(i.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ri?(function(i,a,u){if(!Lc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=cv(i.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(Jw(i)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Tl(n,e,t,r){return n instanceof Wl?(function(a,u,d,p){if(!Lc(a.precondition,u))return d;const g=a.value.clone(),_=hv(a.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ri?(function(a,u,d,p){if(!Lc(a.precondition,u))return d;const g=hv(a.fieldTransforms,p,u),_=u.data;return _.setAll(Jw(a)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(a,u,d){return Lc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function bC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Kw(r.transform,i||null);a!=null&&(t===null&&(t=ln.empty()),t.set(r.field,a))}return t||null}function uv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ta(r,i,((a,u)=>TC(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Rh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ri extends Rh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cv(n,e,t){const r=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,xC(u,d,t[i]))}return r}function hv(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,wC(a,u,e))}return r}class Hp extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&SC(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hw();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(i.key)?null:d;const p=Yw(u,d);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,((t,r)=>uv(t,r)))&&ta(this.baseMutations,e.baseMutations,((t,r)=>uv(t,r)))}}class Wp{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mC})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Wp(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Be;function NC(n){switch(n){case X.OK:return ke(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function Zw(n){if(n===void 0)return Yr("GRPC error has no .code"),X.UNKNOWN;switch(n){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return ke(39323,{code:n})}}(Be=vt||(vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Bs([4294967295,4294967295],0);function dv(n){const e=PC().encode(n),t=new fw;return t.update(e),new Uint8Array(t.digest())}function fv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bs([t,r],0),new Bs([i,a],0)]}class Kp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yl(`Invalid padding: ${t}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bs.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Bs.fromNumber(r)));return i.compare(jC)===1&&(i=new Bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dv(e),[r,i]=fv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Kp(a,i,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=dv(e),[r,i]=fv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nh(Pe.min(),i,new ot(Me),Jr(),Fe())}}class Kl{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kl(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class ex{constructor(e,t){this.targetId=e,this.Ce=t}}class tx{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pv{constructor(){this.ve=0,this.Fe=mv(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),t=Fe(),r=Fe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}})),new Kl(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=mv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=Ec(),this.He=Ec(),this.Ye=new ot(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(up(a))if(r===0){const u=new Ee(a.path);this.et(t,u,Wt.newNoDocument(u,Pe.min()))}else We(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,d;try{u=Qs(r).toUint8Array()}catch(p){if(p instanceof Sw)return ea("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Kp(u,i,a)}catch(p){return ea(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&up(d.target)){const p=new Ee(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Wt.newNoDocument(p,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Fe();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Nh(e,t,this.Ye,this.je,r);return this.je=Jr(),this.Je=Ec(),this.He=Ec(),this.Ye=new ot(Me),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ec(){return new ot(Ee.comparator)}function mv(){return new ot(Ee.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"};class MC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dp(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FC(n,e){return Zc(n,e.toTimestamp())}function xr(n){return We(!!n,49232),Pe.fromTimestamp((function(t){const r=Gs(t);return new tt(r.seconds,r.nanos)})(n))}function Gp(n,e){return fp(n,e).canonicalString()}function fp(n,e){const t=(function(i){return new Xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rx(n){const e=Xe.fromString(n);return We(lx(e),10190,{key:e.toString()}),e}function pp(n,e){return Gp(n.databaseId,e.path)}function Pf(n,e){const t=rx(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(ix(t))}function sx(n,e){return Gp(n.databaseId,e)}function UC(n){const e=rx(n);return e.length===4?Xe.emptyPath():ix(e)}function mp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ix(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gv(n,e,t){return{name:pp(n,e),fields:t.value.mapValue.fields}}function $C(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string",58123),Mt.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Mt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const _=g.code===void 0?X.UNKNOWN:Zw(g.code);return new ce(_,g.message||"")})(u);t=new tx(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pf(n,r.document.name),a=xr(r.document.updateTime),u=r.document.createTime?xr(r.document.createTime):Pe.min(),d=new ln({mapValue:{fields:r.document.fields}}),p=Wt.newFoundDocument(i,a,u,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Dc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pf(n,r.document),a=r.readTime?xr(r.readTime):Pe.min(),u=Wt.newNoDocument(i,a),d=r.removedTargetIds||[];t=new Dc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pf(n,r.document),a=r.removedTargetIds||[];t=new Dc([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new RC(i,a),d=r.targetId;t=new ex(d,u)}}return t}function BC(n,e){let t;if(e instanceof Wl)t={update:gv(n,e.key,e.value)};else if(e instanceof Hp)t={delete:pp(n,e.key)};else if(e instanceof ri)t={update:gv(n,e.key,e.data),updateMask:YC(e.fieldMask)};else{if(!(e instanceof CC))return ke(16599,{Vt:e.type});t={verify:pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Ol)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw ke(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:FC(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(n,e.precondition)),t}function zC(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?xr(i.updateTime):xr(a);return u.isEqual(Pe.min())&&(u=xr(a)),new IC(u,i.transformResults||[])})(t,e)))):[]}function qC(n,e){return{documents:[sx(n,e.path)]}}function HC(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sx(n,i);const a=(function(g){if(g.length!==0)return ax(Yn.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:zo(T.field),direction:GC(T.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=dp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:i}}function WC(n){let e=UC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){We(r===1,65062);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(x){const T=ox(x);return T instanceof Yn&&Dw(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((T=>(function(b){return new Dl(qo(b.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,Sh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(x){const T=!!x.before,A=x.values||[];return new Yc(A,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(x){const T=!x.before,A=x.values||[];return new Yc(A,T)})(t.endAt)),cC(e,i,u,a,d,"F",p,g)}function KC(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ox(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qo(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qo(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qo(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _t.create(qo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Yn.create(t.compositeFilter.filters.map((r=>ox(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function GC(n){return DC[n]}function QC(n){return OC[n]}function XC(n){return VC[n]}function zo(n){return{fieldPath:n.canonicalString()}}function qo(n){return Vt.fromServerFormat(n.fieldPath)}function ax(n){return n instanceof _t?(function(t){if(t.op==="=="){if(rv(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(nv(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rv(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(nv(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:QC(t.op),value:t.value}}})(n):n instanceof Yn?(function(t){const r=t.getFilters().map((i=>ax(i)));return r.length===1?r[0]:{compositeFilter:{op:XC(t.op),filters:r}}})(n):ke(54877,{filter:n})}function YC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,i,a=Pe.min(),u=Pe.min(),d=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.yt=e}}function ZC(n){const e=WC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.Cn=new tA}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ks.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class tA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(Xe.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(ux,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sa(0)}static cr(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",nA=1048576;function _v([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class rA{constructor(e){this.Ir=e,this.buffer=new It(_v),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_v(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?de(vv,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.Vr(3e5)}))}}class iA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ih.ce);const r=new rA(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,d=Date.now(),this.removeTargets(e,r,t)))).next((x=>(a=x,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),$o()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${x} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x}))))}}function oA(n,e){return new iA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.changes=new Wi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Tl(r.mutation,i,_n.empty(),tt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Fe()){const i=ji();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=gl();return a.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=ji();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Fe())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,i){let a=Jr();const u=El(),d=(function(){return El()})();return t.forEach(((p,g)=>{const _=r.get(g.key);i.has(g.key)&&(_===void 0||_.mutation instanceof ri)?a=a.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Tl(_.mutation,g,_.mutation.getFieldMask(),tt.now())):u.set(g.key,_n.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((g,_)=>u.set(g,_))),t.forEach(((g,_)=>d.set(g,new lA(_,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=El();let i=new ot(((u,d)=>u-d)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||_n.empty();_=d.applyToLocalView(g,_),r.set(p,_);const x=(i.get(d.batchId)||Fe()).add(p);i=i.insert(d.batchId,x)}))})).next((()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,x=Hw();_.forEach((T=>{if(!a.has(T)){const A=Yw(t.get(T),r.get(T));A!==null&&x.set(T,A),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(ji());let d=Nl,p=a;return u.next((g=>J.forEach(g,((_,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),a.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{p=p.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,p,g,Fe()))).next((_=>({batchId:d,changes:qw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let i=gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=gl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(p=>{const g=(function(x,T){return new da(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((_=>{_.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Wt.newInvalidDocument(_)))}));let d=gl();return u.forEach(((p,g)=>{const _=a.get(p);_!==void 0&&Tl(_.mutation,g,_n.empty(),tt.now()),Ah(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:ZC(i.bundledQuery),readTime:xr(i.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.overlays=new ot(Ee.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ji();return J.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=ji(),a=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ot(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=a.get(g.largestBatchId);_===null&&(_=ji(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ji(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=i)););return J.resolve(d)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kC(t,r));let a=this.qr.get(t);a===void 0&&(a=Fe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Qr=new It(kt.$r),this.Ur=new It(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new Xe([])),r=new kt(t,e),i=new kt(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new Xe([])),r=new kt(t,e),i=new kt(t,e+1);let a=Fe();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(kt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AC(a,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Zr=this.Zr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),i=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const d=this.Xr(u.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Me);return t.forEach((i=>{const a=new kt(i,0),u=new kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const u=new kt(new Ee(a),0);let d=new It(Me);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(p.Yr)),!0)}),u),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(i=>{const a=new kt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new kt(t,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.ri=e,this.docs=(function(){return new ot(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Wt.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Jr();const u=t.path,d=new Ee(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Bb($b(_),r)<=0||(i.has(_.key)||Ah(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new mA(this)}getSize(e){return J.resolve(this.size)}}class mA extends aA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.persistence=e,this.si=new Wi((t=>Bp(t)),zp),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=sa.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),J.waitFor(a).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new dA,this.referenceDelegate=e(this),this.Pi=new gA(this),this.indexManager=new eA,this.remoteDocumentCache=(function(i){return new pA(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JC(t),this.Ii=new cA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new fA(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new yA(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class yA extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const i=Ee.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.pi=new Wi((r=>Kb(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=oA(this,t)}static mi(e,t){return new eh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?J.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Fe(),i=Fe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yp(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:Hb(Kt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new vA;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?($o()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):($o()<=Ve.DEBUG&&de("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?($o()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):J.resolve())}ys(e,t){if(av(t))return J.resolve(null);let r=wr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=hp(t,null,"F"),r=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Fe(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,u,p.readTime)?this.ys(e,hp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,i){return av(t)||i.isEqual(Pe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?J.resolve(null):($o()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(t)),this.vs(e,u,t,Ub(i,Nl)).next((d=>d)))}))}Ds(e,t){let r=new It(Bw(e));return t.forEach(((i,a)=>{Ah(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return $o()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ks.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",wA=3e8;class xA{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ot(Me),this.xs=new Wi((a=>Bp(a)),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function EA(n,e,t,r){return new xA(n,e,t,r)}async function hx(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let p=Fe();for(const g of i){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function TA(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const x=g.batch,T=x.keys();let A=J.resolve();return T.forEach((b=>{A=A.next((()=>_.getEntry(p,b))).next((U=>{const L=g.docVersions.get(b);We(L!==null,48541),U.version.compareTo(L)<0&&(x.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,x)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Fe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function dx(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function IA(n,e){const t=Le(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const d=[];e.targetChanges.forEach(((_,x)=>{const T=i.get(x);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,x))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(Mt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,r)),i=i.insert(x,A),(function(U,L,G){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=wA?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(T,A,_)&&d.push(t.Pi.updateTargetData(a,A))}));let p=Jr(),g=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(SA(a,u,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(Pe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,g))).next((()=>p))})).then((a=>(t.Ms=i,a)))}function SA(n,e,t){let r=Fe(),i=Fe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Jr();return t.forEach(((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(Pe.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):de(Jp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function bA(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CA(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,J.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new Ms(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function gp(n,e,t){const r=Le(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!ha(u))throw u;de(Jp,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wv(n,e,t){const r=Le(n);let i=Pe.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,_){const x=Le(p),T=x.xs.get(_);return T!==void 0?J.resolve(x.Ms.get(T)):x.Pi.getTargetData(g,_)})(r,u,wr(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:Pe.min(),t?a:Fe()))).next((d=>(AA(r,dC(e),d),{documents:d,Qs:a})))))}function AA(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class xv{constructor(){this.activeTargetIds=vC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class Tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function yp(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",NA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=yp(),d=this.zo(e,t.toUriEncodedString());de(jf,`Sending RPC '${e}' ${u}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:g}=new URL(d),_=ei(g);return this.Jo(e,d,p,r,_).then((x=>(de(jf,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw ea(jf,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",r),x}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ua})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=NA[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class LA extends PA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=yp();return new Promise(((d,p)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(mw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nc.NO_ERROR:const x=g.getResponseJson();de(qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Nc.TIMEOUT:de(qt,`RPC '${e}' ${u} timed out`),p(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const T=g.getStatus();if(de(qt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A==null?void 0:A.error;if(b&&b.status&&b.message){const U=(function(G){const Q=G.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN})(b.status);p(new ce(U,b.message))}else p(new ce(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(X.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(qt,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(i);de(qt,`RPC '${e}' ${u} sending request:`,i),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const i=yp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vw(),d=yw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=a.join("");de(qt,`Creating RPC '${e}' stream ${i}: ${_}`,p);const x=u.createWebChannel(_,p);this.I_(x);let T=!1,A=!1;const b=new jA({Yo:L=>{A?de(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(T||(de(qt,`Opening RPC '${e}' stream ${i} transport.`),x.open(),T=!0),de(qt,`RPC '${e}' stream ${i} sending:`,L),x.send(L))},Zo:()=>x.close()}),U=(L,G,Q)=>{L.listen(G,(K=>{try{Q(K)}catch(se){setTimeout((()=>{throw se}),0)}}))};return U(x,ml.EventType.OPEN,(()=>{A||(de(qt,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),U(x,ml.EventType.CLOSE,(()=>{A||(A=!0,de(qt,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(x))})),U(x,ml.EventType.ERROR,(L=>{A||(A=!0,ea(qt,`RPC '${e}' stream ${i} transport errored. Name:`,L.name,"Message:",L.message),b.a_(new ce(X.UNAVAILABLE,"The operation could not be completed")))})),U(x,ml.EventType.MESSAGE,(L=>{var G;if(!A){const Q=L.data[0];We(!!Q,16349);const K=Q,se=(K==null?void 0:K.error)||((G=K[0])==null?void 0:G.error);if(se){de(qt,`RPC '${e}' stream ${i} received error:`,se);const ye=se.status;let me=(function(C){const P=vt[C];if(P!==void 0)return Zw(P)})(ye),N=se.message;me===void 0&&(me=X.INTERNAL,N="Unknown error status: "+ye+" with message "+se.message),A=!0,b.a_(new ce(me,N)),x.close()}else de(qt,`RPC '${e}' stream ${i} received:`,Q),b.u_(Q)}})),U(d,gw.STAT_EVENT,(L=>{L.stat===sp.PROXY?de(qt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===sp.NOPROXY&&de(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new MC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class px{constructor(e,t,r,i,a,u,d,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DA extends px{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$C(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?xr(u.readTime):Pe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=mp(this.serializer),t.addTarget=(function(a,u){let d;const p=u.target;if(d=up(p)?{documents:qC(a,p)}:{query:HC(a,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=nx(a,u.resumeToken);const g=dp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=Zc(a,u.snapshotVersion.toTimestamp());const g=dp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=KC(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.q_(t)}}class OA extends px{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zC(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>BC(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{}class MA extends VA{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,fp(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(X.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,fp(t,r),i,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(X.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="RemoteStore";class UA{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ki(this)&&(de(Fi,"Restarting streams for network reachability change."),await(async function(p){const g=Le(p);g.Ea.add(4),await Gl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new FA(r,i)}}async function jh(n){if(Ki(n))for(const e of n.da)await e(!0)}async function Gl(n){for(const e of n.da)await e(!1)}function mx(n,e){const t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),nm(t)?tm(t):fa(t).O_()&&em(t,e))}function Zp(n,e){const t=Le(n),r=fa(t);t.Ia.delete(e),r.O_()&&gx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ki(t)&&t.Ra.set("Unknown"))}function em(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).Y_(e)}function gx(n,e){n.Va.Ue(e),fa(n).Z_(e)}function tm(n){n.Va=new LC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.Ra.ua()}function nm(n){return Ki(n)&&!fa(n).x_()&&n.Ia.size>0}function Ki(n){return Le(n).Ea.size===0}function yx(n){n.Va=void 0}async function $A(n){n.Ra.set("Online")}async function BA(n){n.Ia.forEach(((e,t)=>{em(n,e)}))}async function zA(n,e){yx(n),nm(n)?(n.Ra.ha(e),tm(n)):n.Ra.set("Unknown")}async function qA(n,e,t){if(n.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ia.delete(d),i.Va.removeTarget(d))})(n,e)}catch(r){de(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(n,r)}else if(e instanceof Dc?n.Va.Ze(e):e instanceof ex?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await dx(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ia.get(g);_&&a.Ia.set(g,_.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,g)=>{const _=a.Ia.get(p);if(!_)return;a.Ia.set(p,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),gx(a,p);const x=new Ms(_.target,p,g,_.sequenceNumber);em(a,x)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(Fi,"Failed to raise snapshot:",r),await th(n,r)}}async function th(n,e,t){if(!ha(e))throw e;n.Ea.add(1),await Gl(n),n.Ra.set("Offline"),t||(t=()=>dx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Fi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jh(n)}))}function vx(n,e){return e().catch((t=>th(n,t,e)))}async function Lh(n){const e=Le(n),t=Ys(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;HA(e);)try{const i=await bA(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,WA(e,i)}catch(i){await th(e,i)}_x(e)&&wx(e)}function HA(n){return Ki(n)&&n.Ta.length<10}function WA(n,e){n.Ta.push(e);const t=Ys(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _x(n){return Ki(n)&&!Ys(n).x_()&&n.Ta.length>0}function wx(n){Ys(n).start()}async function KA(n){Ys(n).ra()}async function GA(n){const e=Ys(n);for(const t of n.Ta)e.ea(t.mutations)}async function QA(n,e,t){const r=n.Ta.shift(),i=Wp.from(r,e,t);await vx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Lh(n)}async function XA(n,e){e&&Ys(n).X_&&await(async function(r,i){if((function(u){return NC(u)&&u!==X.ABORTED})(i.code)){const a=r.Ta.shift();Ys(r).B_(),await vx(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Lh(r)}})(n,e),_x(n)&&wx(n)}async function Sv(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),de(Fi,"RemoteStore received new credentials");const r=Ki(t);t.Ea.add(3),await Gl(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jh(t)}async function YA(n,e){const t=Le(n);e?(t.Ea.delete(2),await jh(t)):e||(t.Ea.add(2),await Gl(t),t.Ra.set("Unknown"))}function fa(n){return n.ma||(n.ma=(function(t,r,i){const a=Le(t);return a.sa(),new DA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:$A.bind(null,n),t_:BA.bind(null,n),r_:zA.bind(null,n),H_:qA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),nm(n)?tm(n):n.Ra.set("Unknown")):(await n.ma.stop(),yx(n))}))),n.ma}function Ys(n){return n.fa||(n.fa=(function(t,r,i){const a=Le(t);return a.sa(),new OA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KA.bind(null,n),r_:XA.bind(null,n),ta:GA.bind(null,n),na:QA.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Lh(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Fi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,d=new rm(e,t,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),ha(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=gl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.ga=new ot(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ia{constructor(e,t,r,i,a,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new ia(e,t,Wo.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZA{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Le(t),a=i.queries;i.queries=Cv(),a.forEach(((u,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function Cv(){return new Wi((n=>$w(n)),Ch)}async function ek(n,e){const t=Le(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new JA,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const d=sm(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&im(t)}async function tk(n,e){const t=Le(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nk(n,e){const t=Le(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(i)&&(r=!0);u.wa=i}}r&&im(t)}function rk(n,e,t){const r=Le(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function im(n){n.Ca.forEach((e=>{e.next()}))}var vp,Av;(Av=vp||(vp={})).Ma="default",Av.Cache="cache";class sk{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class ik{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=Bw(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new bv,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((_,x)=>{const T=i.get(_),A=Ah(this.query,x)?x:null,b=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;T&&A?T.data.isEqual(A.data)?b!==U&&(r.track({type:3,doc:A}),L=!0):this.su(T,A)||(r.track({type:2,doc:A}),L=!0,(p&&this.eu(A,p)>0||g&&this.eu(A,g)<0)&&(d=!0)):!T&&A?(r.track({type:0,doc:A}),L=!0):T&&!A&&(r.track({type:1,doc:T}),L=!0,(p||g)&&(d=!0)),L&&(A?(u=u.add(A),a=U?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,x)=>(function(A,b){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:L})}};return U(A)-U(b)})(_.type,x.type)||this.eu(_.doc,x.doc))),this.ou(r),i=i??!1;const d=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new ia(this.query,e.tu,a,u,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Ex(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new xx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Fe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const om="SyncEngine";class ok{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ak{constructor(e){this.key=e,this.hu=!1}}class lk{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Wi((d=>$w(d)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ot(Ee.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=sa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uk(n,e,t=!0){const r=Ax(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Tx(r,e,t,!0),i}async function ck(n,e){const t=Ax(n);await Tx(t,e,!0,!1)}async function Tx(n,e,t,r){const i=await CA(n.localStore,wr(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await hk(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&mx(n.remoteStore,i),d}async function hk(n,e,t,r,i){n.pu=(x,T,A)=>(async function(U,L,G,Q){let K=L.view.ru(G);K.Cs&&(K=await wv(U.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,K))));const se=Q&&Q.targetChanges.get(L.targetId),ye=Q&&Q.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(K,U.isPrimaryClient,se,ye);return Rv(U,L.targetId,me.au),me.snapshot})(n,x,T,A);const a=await wv(n.localStore,e,!0),u=new ik(e,a.Qs),d=u.ru(a.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),g=u.applyChanges(d,n.isPrimaryClient,p);Rv(n,t,g.au);const _=new ok(e,t,u);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function dk(n,e,t){const r=Le(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Ch(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zp(r.remoteStore,i.targetId),_p(r,i.targetId)})).catch(ca)):(_p(r,i.targetId),await gp(r.localStore,i.targetId,!0))}async function fk(n,e){const t=Le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zp(t.remoteStore,r.targetId))}async function pk(n,e,t){const r=xk(n);try{const i=await(function(u,d){const p=Le(u),g=tt.now(),_=d.reduce(((A,b)=>A.add(b.key)),Fe());let x,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let b=Jr(),U=Fe();return p.Ns.getEntries(A,_).next((L=>{b=L,b.forEach(((G,Q)=>{Q.isValidDocument()||(U=U.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,b))).next((L=>{x=L;const G=[];for(const Q of d){const K=bC(Q,x.get(Q.key).overlayedDocument);K!=null&&G.push(new ri(Q.key,K,Pw(K.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,G,d)})).next((L=>{T=L;const G=L.applyToLocalDocumentSet(x,U);return p.documentOverlayCache.saveOverlays(A,L.batchId,G)}))})).then((()=>({batchId:T.batchId,changes:qw(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,d,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new ot(Me)),g=g.insert(d,p),u.Vu[u.currentUser.toKey()]=g})(r,i.batchId,t),await Ql(r,i.changes),await Lh(r.remoteStore)}catch(i){const a=sm(i,"Failed to persist write");t.reject(a)}}async function Ix(n,e){const t=Le(n);try{const r=await IA(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?We(u.hu,14607):i.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await Ql(t,r,e)}catch(r){await ca(r)}}function kv(n,e,t){const r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(u,d){const p=Le(u);p.onlineState=d;let g=!1;p.queries.forEach(((_,x)=>{for(const T of x.Sa)T.va(d)&&(g=!0)})),g&&im(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mk(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new ot(Ee.comparator);u=u.insert(a,Wt.newNoDocument(a,Pe.min()));const d=Fe().add(a),p=new Nh(Pe.min(),new Map,new ot(Me),u,d);await Ix(r,p),r.du=r.du.remove(a),r.Au.delete(e),am(r)}else await gp(r.localStore,e,!1).then((()=>_p(r,e,t))).catch(ca)}async function gk(n,e){const t=Le(n),r=e.batch.batchId;try{const i=await TA(t.localStore,e);bx(t,r,null),Sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(t,i)}catch(i){await ca(i)}}async function yk(n,e,t){const r=Le(n);try{const i=await(function(u,d){const p=Le(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((x=>(We(x!==null,37113),_=x.keys(),p.mutationQueue.removeMutationBatch(g,x)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);bx(r,e,t),Sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ql(r,i)}catch(i){await ca(i)}}function Sx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function bx(n,e,t){const r=Le(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function _p(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Cx(n,r)}))}function Cx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Zp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),am(n))}function Rv(n,e,t){for(const r of t)r instanceof xx?(n.Ru.addReference(r.key,e),vk(n,r)):r instanceof Ex?(de(om,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Cx(n,r.key)):ke(19791,{wu:r})}function vk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(om,"New document in limbo: "+t),n.Eu.add(r),am(n))}function am(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new ak(t)),n.du=n.du.insert(t,r),mx(n.remoteStore,new Ms(wr(Fw(t.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function Ql(n,e,t){const r=Le(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{u.push(r.pu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const x=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){i.push(g);const x=Yp.As(p.targetId,g);a.push(x)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(p,g){const _=Le(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(g,(T=>J.forEach(T.Es,(A=>_.persistence.referenceDelegate.addReference(x,T.targetId,A))).next((()=>J.forEach(T.ds,(A=>_.persistence.referenceDelegate.removeReference(x,T.targetId,A)))))))))}catch(x){if(!ha(x))throw x;de(Jp,"Failed to update sequence numbers: "+x)}for(const x of g){const T=x.targetId;if(!x.fromCache){const A=_.Ms.get(T),b=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(b);_.Ms=_.Ms.insert(T,U)}}})(r.localStore,a))}async function _k(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){de(om,"User change. New user:",e.toKey());const r=await hx(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new ce(X.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(t,r.Ls)}}function wk(n,e){const t=Le(n),r=t.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let i=Fe();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const d=t.Tu.get(u);i=i.unionWith(d.view.nu)}return i}}function Ax(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mk.bind(null,e),e.Pu.H_=nk.bind(null,e.eventManager),e.Pu.yu=rk.bind(null,e.eventManager),e}function xk(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yk.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return EA(this.persistence,new _A,e.initialUser,this.serializer)}Cu(e){return new cx(Xp.mi,this.serializer)}Du(e){return new kA}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class Ek extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new cx((r=>eh.mi(r,t)),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_k.bind(null,this.syncEngine),await YA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZA})()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),r=(function(a){return new LA(a)})(e.databaseInfo);return(function(a,u,d,p){return new MA(a,u,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,d){return new UA(r,i,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>kv(this.syncEngine,t,0)),(function(){return Tv.v()?new Tv:new RA})())}createSyncEngine(e,t){return(function(i,a,u,d,p,g,_){const x=new lk(i,a,u,d,p,g);return _&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=Le(i);de(Fi,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class Ik{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{de(Js,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(Js,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),de(Js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await hx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Nv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Sk(n);de(Js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Sv(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Sv(e.remoteStore,i))),n._onlineComponents=e}async function Sk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Js,"Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new nh)}}else de(Js,"Using default OfflineComponentProvider"),await Df(n,new Ek(void 0));return n._offlineComponents}async function kx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Js,"Using user provided OnlineComponentProvider"),await Nv(n,n._uninitializedComponentsProvider._online)):(de(Js,"Using default OnlineComponentProvider"),await Nv(n,new wp))),n._onlineComponents}function bk(n){return kx(n).then((e=>e.syncEngine))}async function Ck(n){const e=await kx(n),t=e.eventManager;return t.onListen=uk.bind(null,e.syncEngine),t.onUnlisten=dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ck.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fk.bind(null,e.syncEngine),t}function Ak(n,e,t={}){const r=new zs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,g){const _=new Tk({next:T=>{_.Nu(),u.enqueueAndForget((()=>tk(a,x))),T.fromCache&&p.source==="server"?g.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new sk(d,_,{includeMetadataChanges:!0,qa:!0});return ek(a,x)})(await Ck(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firestore.googleapis.com",jv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nx,this.ssl=jv}else this.host=e.host,this.ssl=e.ssl??jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nA)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kb;switch(r.type){case"firstParty":return new jb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Pv.get(t);r&&(de("ComponentProvider","Removing Datastore"),Pv.delete(t),r.terminate())})(this),Promise.resolve()}}function kk(n,e,t,r={}){var g;n=Mi(n,Dh);const i=ei(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;i&&(Lp(`https://${d}`),Dp("Firestore",!0)),a.host!==Nx&&a.host!==d&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:i,emulatorOptions:r};if(!Ws(p,u)&&(n._setSettings(p),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=Ht.MOCK_USER;else{_=rw(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Ht(T)}n._authCredentials=new Rb(new ww(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hl(t,Tt._jsonSchema))return new Tt(e,r||null,new Ee(Xe.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:wt("string",Tt._jsonSchemaVersion),referencePath:wt("string")};class qs extends Gi{constructor(e,t,r){super(e,t,Fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new Ee(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function wn(n,e,...t){if(n=Ye(n),xw("collection","path",e),n instanceof Dh){const r=Xe.fromString(e,...t);return K0(r),new qs(n,null,r)}{if(!(n instanceof Tt||n instanceof qs))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return K0(r),new qs(n.firestore,null,r)}}function Ko(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=Mp.newId()),xw("doc","path",e),n instanceof Dh){const r=Xe.fromString(e,...t);return W0(r),new Tt(n,null,new Ee(r))}{if(!(n instanceof Tt||n instanceof qs))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return W0(r),new Tt(n.firestore,n instanceof qs?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="AsyncQueue";class Ov{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const r=Lf();r&&de(Dv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ha(e))throw e;de(Dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",Vv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=rm.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ke(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Vv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Xl extends Dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ov,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ov(e),this._firestoreClient=void 0,await e}}}function Rk(n,e){const t=typeof n=="object"?n:Eh(),r=typeof n=="string"?n:Qc,i=ti(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ew("firestore");a&&kk(i,...a)}return i}function Px(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Nk(n),n._firestoreClient}function Nk(n){var r,i,a;const e=n._freezeSettings(),t=(function(d,p,g,_){return new Xb(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Rx(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Ik(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Mt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:wt("string",Pn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:wt("string",Er._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Tr(e.vectorValues);throw new ce(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:wt("string",Tr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^__.*__$/;class jk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class jx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ri(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:n})}}class lm{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lx(this.Ac)&&Pk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Lk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ph(e)}Cc(e,t,r,i=!1){return new lm({Ac:e,methodName:t,Dc:r,path:Vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const e=n._freezeSettings(),t=Ph(n._databaseId);return new Lk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dk(n,e,t,r,i,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);hm("Data must be an object, but it was:",u,r);const d=Dx(r,u);let p,g;if(a.merge)p=new _n(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const x of a.mergeFields){const T=xp(e,x,t);if(!u.contains(T))throw new ce(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Vx(_,T)||_.push(T)}p=new _n(_),g=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,g=u.fieldTransforms;return new jk(new ln(d),p,g)}class Mh extends Vh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class cm extends Vh{_toFieldTransform(e){return new EC(e.path,new Ol)}isEqual(e){return e instanceof cm}}function Ok(n,e,t,r){const i=n.Cc(1,e,t);hm("Data must be an object, but it was:",i,r);const a=[],u=ln.empty();ni(r,((p,g)=>{const _=dm(e,p,t);g=Ye(g);const x=i.yc(_);if(g instanceof Mh)a.push(_);else{const T=Yl(g,x);T!=null&&(a.push(_),u.set(_,T))}}));const d=new _n(a);return new jx(u,d,i.fieldTransforms)}function Vk(n,e,t,r,i,a){const u=n.Cc(1,e,t),d=[xp(e,r,t)],p=[i];if(a.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(xp(e,a[T])),p.push(a[T+1]);const g=[],_=ln.empty();for(let T=d.length-1;T>=0;--T)if(!Vx(g,d[T])){const A=d[T];let b=p[T];b=Ye(b);const U=u.yc(A);if(b instanceof Mh)g.push(A);else{const L=Yl(b,U);L!=null&&(g.push(A),_.set(A,L))}}const x=new _n(g);return new jx(_,x,u.fieldTransforms)}function Mk(n,e,t,r=!1){return Yl(t,n.Cc(r?4:3,e))}function Yl(n,e){if(Ox(n=Ye(n)))return hm("Unsupported field value:",e,n),Dx(n,e);if(n instanceof Vh)return(function(r,i){if(!Lx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const d of r){let p=Yl(d,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _C(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:Zc(i.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,a)}}if(r instanceof Er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof Tt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tr)return(function(u,d){return{mapValue:{fields:{[Rw]:{stringValue:Nw},[Xc]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return qp(d.serializer,g)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Th(r)}`)})(n,e)}function Dx(n,e){const t={};return Iw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(n,((r,i)=>{const a=Yl(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Ox(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof Er||n instanceof Pn||n instanceof Tt||n instanceof Vh||n instanceof Tr)}function hm(n,e,t){if(!Ox(t)||!Ew(t)){const r=Th(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function xp(n,e,t){if((e=Ye(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return dm(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Fk=new RegExp("[~\\*/\\[\\]]");function dm(n,e,t){if(e.search(Fk)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new ce(X.INVALID_ARGUMENT,d+n+p)}function Vx(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Uk extends Mx{data(){return super.data()}}function fm(n,e){return typeof e=="string"?dm(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class Fx extends pm{}function Oc(n,e,...t){let r=[];e instanceof pm&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((p=>p instanceof gm)).length,d=a.filter((p=>p instanceof mm)).length;if(u>1||u>0&&d>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class mm extends Fx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=this._parse(e);return Ux(e._query,t),new Gi(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=um(e.firestore);return(function(a,u,d,p,g,_,x){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Fv(x,_);const b=[];for(const U of x)b.push(Mv(p,a,U));T={arrayValue:{values:b}}}else T=Mv(p,a,x)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Fv(x,_),T=Mk(d,u,x,_==="in"||_==="not-in");return _t.create(g,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const d=a.getFlattenedFilters();for(const p of d)Ux(u,p),u=cp(u,p)})(e._query,t),new Gi(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends Fx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ym(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(a,u)})(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new da(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Vc(n,e="asc"){const t=e,r=fm("orderBy",n);return ym._create(r,t)}function Mv(n,e,t){if(typeof(t=Ye(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!Ee.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tv(n,new Ee(r))}if(t instanceof Tt)return tv(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function Fv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ux(n,e){const t=(function(i,a){for(const u of i)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Bk{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ni(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[Xc].arrayValue)==null?void 0:i.values)==null?void 0:a.map((u=>pt(u.doubleValue)));return new Tr(t)}convertGeoPoint(e){return new Er(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);We(lx(r),9688,{name:e});const i=new jl(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(t)||Yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends Mx{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Go._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:wt("string",Go._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Mc extends Go{data(e={}){return super.data(e)}}class Qo{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Mc(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((d=>{const p=new Mc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ic(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Mc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ic(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,_=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:qk(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:wt("string",Qo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Hk extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Il(n){n=Mi(n,Gi);const e=Mi(n.firestore,Xl),t=Px(e),r=new Hk(e);return $k(n._query),Ak(t,n._query).then((i=>new Qo(e,r,n,i)))}function sh(n,e,t,...r){n=Mi(n,Tt);const i=Mi(n.firestore,Xl),a=um(i);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Oh?Vk(a,"updateDoc",n._key,e,t,r):Ok(a,"updateDoc",n._key,e),vm(i,[u.toMutation(n._key,Gn.exists(!0))])}function Wk(n){return vm(Mi(n.firestore,Xl),[new Hp(n._key,Gn.none())])}function Fs(n,e){const t=Mi(n.firestore,Xl),r=Ko(n),i=zk(n.converter,e);return vm(t,[Dk(um(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then((()=>r))}function vm(n,e){return(function(r,i){const a=new zs;return r.asyncQueue.enqueueAndForget((async()=>pk(await bk(r),i,a))),a.promise})(Px(n),e)}function jn(){return new cm("serverTimestamp")}(function(e,t=!0){(function(i){ua=i})(Hi),Xn(new Ln("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Xl(new Nb(r.getProvider("auth-internal")),new Lb(u,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(g.options.projectId,_)})(u,i),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),un(B0,z0,e),un(B0,z0,"esm2020")})();var Kk="firebase",Gk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(Kk,Gk,"app");const $x="@firebase/installations",_m="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1e4,zx=`w:${_m}`,qx="FIS_v2",Qk="https://firebaseinstallations.googleapis.com/v1",Xk=3600*1e3,Yk="installations",Jk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ui=new qi(Yk,Jk,Zk);function Hx(n){return n instanceof Dn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx({projectId:n}){return`${Qk}/projects/${n}/installations`}function Kx(n){return{token:n.token,requestStatus:2,expiresIn:tR(n.expiresIn),creationTime:Date.now()}}async function Gx(n,e){const r=(await e.json()).error;return Ui.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Qx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eR(n,{refreshToken:e}){const t=Qx(n);return t.append("Authorization",nR(e)),t}async function Xx(n){const e=await n();return e.status>=500&&e.status<600?n():e}function tR(n){return Number(n.replace("s","000"))}function nR(n){return`${qx} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Wx(n),i=Qx(n),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={fid:t,authVersion:qx,appId:n.appId,sdkVersion:zx},d={method:"POST",headers:i,body:JSON.stringify(u)},p=await Xx(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Kx(g.authToken)}}else throw await Gx("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^[cdef][\w-]{21}$/,Ep="";function oR(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=aR(n);return iR.test(t)?t:Ep}catch{return Ep}}function aR(n){return sR(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Map;function Zx(n,e){const t=Fh(n);e1(t,e),lR(t,e)}function e1(n,e){const t=Jx.get(n);if(t)for(const r of t)r(e)}function lR(n,e){const t=uR();t&&t.postMessage({key:n,fid:e}),cR()}let Li=null;function uR(){return!Li&&"BroadcastChannel"in self&&(Li=new BroadcastChannel("[Firebase] FID Change"),Li.onmessage=n=>{e1(n.data.key,n.data.fid)}),Li}function cR(){Jx.size===0&&Li&&(Li.close(),Li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-installations-database",dR=1,$i="firebase-installations-store";let Of=null;function wm(){return Of||(Of=uw(hR,dR,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore($i)}}})),Of}async function ih(n,e){const t=Fh(n),i=(await wm()).transaction($i,"readwrite"),a=i.objectStore($i),u=await a.get(t);return await a.put(e,t),await i.done,(!u||u.fid!==e.fid)&&Zx(n,e.fid),e}async function t1(n){const e=Fh(n),r=(await wm()).transaction($i,"readwrite");await r.objectStore($i).delete(e),await r.done}async function Uh(n,e){const t=Fh(n),i=(await wm()).transaction($i,"readwrite"),a=i.objectStore($i),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await i.done,d&&(!u||u.fid!==d.fid)&&Zx(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){let e;const t=await Uh(n.appConfig,r=>{const i=fR(r),a=pR(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===Ep?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fR(n){const e=n||{fid:oR(),registrationStatus:0};return n1(e)}function pR(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ui.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mR(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gR(n)}:{installationEntry:e}}async function mR(n,e){try{const t=await rR(n,e);return ih(n.appConfig,t)}catch(t){throw Hx(t)&&t.customData.serverCode===409?await t1(n.appConfig):await ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function gR(n){let e=await Uv(n.appConfig);for(;e.registrationStatus===1;)await Yx(100),e=await Uv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await xm(n);return r||t}return e}function Uv(n){return Uh(n,e=>{if(!e)throw Ui.create("installation-not-found");return n1(e)})}function n1(n){return yR(n)?{fid:n.fid,registrationStatus:0}:n}function yR(n){return n.registrationStatus===1&&n.registrationTime+Bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR({appConfig:n,heartbeatServiceProvider:e},t){const r=_R(n,t),i=eR(n,t),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={installation:{sdkVersion:zx,appId:n.appId}},d={method:"POST",headers:i,body:JSON.stringify(u)},p=await Xx(()=>fetch(r,d));if(p.ok){const g=await p.json();return Kx(g)}else throw await Gx("Generate Auth Token",p)}function _R(n,{fid:e}){return`${Wx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(n,e=!1){let t;const r=await Uh(n.appConfig,a=>{if(!r1(a))throw Ui.create("not-registered");const u=a.authToken;if(!e&&ER(u))return a;if(u.requestStatus===1)return t=wR(n,e),a;{if(!navigator.onLine)throw Ui.create("app-offline");const d=IR(a);return t=xR(n,d),d}});return t?await t:r.authToken}async function wR(n,e){let t=await $v(n.appConfig);for(;t.authToken.requestStatus===1;)await Yx(100),t=await $v(n.appConfig);const r=t.authToken;return r.requestStatus===0?Em(n,e):r}function $v(n){return Uh(n,e=>{if(!r1(e))throw Ui.create("not-registered");const t=e.authToken;return SR(t)?{...e,authToken:{requestStatus:0}}:e})}async function xR(n,e){try{const t=await vR(n,e),r={...e,authToken:t};return await ih(n.appConfig,r),t}catch(t){if(Hx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await t1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ih(n.appConfig,r)}throw t}}function r1(n){return n!==void 0&&n.registrationStatus===2}function ER(n){return n.requestStatus===2&&!TR(n)}function TR(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Xk}function IR(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function SR(n){return n.requestStatus===1&&n.requestTime+Bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n){const e=n,{installationEntry:t,registrationPromise:r}=await xm(e);return r?r.catch(console.error):Em(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e=!1){const t=n;return await AR(t),(await Em(t,e)).token}async function AR(n){const{registrationPromise:e}=await xm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Vf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return Ui.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="installations",RR="installations-internal",NR=n=>{const e=n.getProvider("app").getImmediate(),t=kR(e),r=ti(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},PR=n=>{const e=n.getProvider("app").getImmediate(),t=ti(e,s1).getImmediate();return{getId:()=>bR(t),getToken:i=>CR(t,i)}};function jR(){Xn(new Ln(s1,NR,"PUBLIC")),Xn(new Ln(RR,PR,"PRIVATE"))}jR();un($x,_m);un($x,_m,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="analytics",LR="firebase_id",DR="origin",OR=60*1e3,VR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new qi("analytics","Analytics",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n){if(!n.startsWith(Tm)){const e=En.create("invalid-gtag-resource",{gtagURL:n});return Jt.warn(e.message),""}return n}function i1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function UR(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function $R(n,e){const t=UR("firebase-js-sdk-policy",{createScriptURL:FR}),r=document.createElement("script"),i=`${Tm}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function BR(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function zR(n,e,t,r,i,a){const u=r[i];try{if(u)await e[u];else{const p=(await i1(t)).find(g=>g.measurementId===i);p&&await e[p.appId]}}catch(d){Jt.error(d)}n("config",i,a)}async function qR(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const d=await i1(t);for(const p of u){const g=d.find(x=>x.measurementId===p),_=g&&e[g.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Jt.error(a)}}function HR(n,e,t,r){async function i(a,...u){try{if(a==="event"){const[d,p]=u;await qR(n,e,t,d,p)}else if(a==="config"){const[d,p]=u;await zR(n,e,t,r,d,p)}else if(a==="consent"){const[d,p]=u;n("consent",d,p)}else if(a==="get"){const[d,p,g]=u;n("get",d,p,g)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){Jt.error(d)}}return i}function WR(n,e,t,r,i){let a=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=HR(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function KR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Tm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=30,QR=1e3;class XR{constructor(e={},t=QR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const o1=new XR;function YR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function JR(n){var u;const{appId:e,apiKey:t}=n,r={method:"GET",headers:YR(t)},i=VR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let d="";try{const p=await a.json();(u=p.error)!=null&&u.message&&(d=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d})}return a.json()}async function ZR(n,e=o1,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw En.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw En.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new nN;return setTimeout(async()=>{d.abort()},OR),a1({appId:r,apiKey:i,measurementId:a},u,d,e)}async function a1(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=o1){var d;const{appId:a,measurementId:u}=n;try{await eN(r,e)}catch(p){if(u)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:a,measurementId:u};throw p}try{const p=await JR(n);return i.deleteThrottleMetadata(a),p}catch(p){const g=p;if(!tN(g)){if(i.deleteThrottleMetadata(a),u)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:a,measurementId:u};throw p}const _=Number((d=g==null?void 0:g.customData)==null?void 0:d.httpStatus)===503?P0(t,i.intervalMillis,GR):P0(t,i.intervalMillis),x={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return i.setThrottleMetadata(a,x),Jt.debug(`Calling attemptFetch again in ${_} millis`),a1(n,x,r,i)}}function eN(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tN(n){if(!(n instanceof Dn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class nN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rN(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function sN(n,e,t,r){if(r&&r.global){const i={};for(const a of Object.keys(t))i[`user_properties.${a}`]=t[a];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(){if(iw())try{await ow()}catch(n){return Jt.warn(En.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Jt.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oN(n,e,t,r,i,a,u){const d=ZR(n);d.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Jt.error(T)),e.push(d);const p=iN().then(T=>{if(T)return r.getId()}),[g,_]=await Promise.all([d,p]);KR(a)||$R(a,g.measurementId),i("js",new Date);const x=(u==null?void 0:u.config)??{};return x[DR]="firebase",x.update=!0,_!=null&&(x[LR]=_),i("config",g.measurementId,x),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.app=e}_delete(){return delete Xo[this.app.options.appId],Promise.resolve()}}let Xo={},Bv=[];const zv={};let Mf="dataLayer",lN="gtag",qv,Im,Hv=!1;function uN(){const n=[];if(sw()&&n.push("This is a browser extension environment."),cS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=En.create("invalid-analytics-context",{errorInfo:e});Jt.warn(t.message)}}function cN(n,e,t){uN();const r=n.options.appId;if(!r)throw En.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Xo[r]!=null)throw En.create("already-exists",{id:r});if(!Hv){BR(Mf);const{wrappedGtag:a,gtagCore:u}=WR(Xo,Bv,zv,Mf,lN);Im=a,qv=u,Hv=!0}return Xo[r]=oN(n,Bv,zv,e,qv,Mf,t),new aN(n)}function hN(n=Eh()){n=Ye(n);const e=ti(n,oh);return e.isInitialized()?e.getImmediate():dN(n)}function dN(n,e={}){const t=ti(n,oh);if(t.isInitialized()){const i=t.getImmediate();if(Ws(e,t.getOptions()))return i;throw En.create("already-initialized")}return t.initialize({options:e})}function fN(n,e,t){n=Ye(n),sN(Im,Xo[n.app.options.appId],e,t).catch(r=>Jt.error(r))}function pN(n,e,t,r){n=Ye(n),rN(Im,Xo[n.app.options.appId],e,t,r).catch(i=>Jt.error(i))}const Wv="@firebase/analytics",Kv="0.10.19";function mN(){Xn(new Ln(oh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cN(r,i,t)},"PUBLIC")),Xn(new Ln("analytics-internal",n,"PRIVATE")),un(Wv,Kv),un(Wv,Kv,"esm2020");function n(e){try{const t=e.getProvider(oh).getImmediate();return{logEvent:(r,i,a)=>pN(t,r,i,a),setUserProperties:(r,i)=>fN(t,r,i)}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}}}mN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebasestorage.googleapis.com",u1="storageBucket",gN=120*1e3,yN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Dn{constructor(e,t,r=0){super(Ff(e),`Firebase Storage: ${t} (${Ff(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ff(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Ff(n){return"storage/"+n}function Sm(){const n="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,n)}function vN(n){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function _N(n){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,n)}function xN(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EN(n){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function TN(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IN(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function SN(n){return new ct(ut.INVALID_URL,"Invalid URL '"+n+"'.")}function bN(n){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CN(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u1+"' property when initializing the app?")}function AN(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kN(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RN(n){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tp(n){return new ct(ut.INVALID_ARGUMENT,n)}function c1(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function NN(n){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(n,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dl(n){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=xn.makeFromUrl(e,t)}catch{return new xn(e,"")}if(r.path==="")return r;throw bN(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const _="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",A=new RegExp(`^https?://${x}/${_}/b/${i}/o${T}`,"i"),b={bucket:1,path:3},U=t===l1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",G=new RegExp(`^https?://${U}/${i}/${L}`,"i"),K=[{regex:d,indices:p,postModify:a},{regex:A,indices:b,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<K.length;se++){const ye=K[se],me=ye.regex.exec(e);if(me){const N=me[ye.indices.bucket];let S=me[ye.indices.path];S||(S=""),r=new xn(N,S),ye.postModify(r);break}}if(r==null)throw SN(e);return r}}class PN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e,t){let r=1,i=null,a=null,u=!1,d=0;function p(){return d===2}let g=!1;function _(...L){g||(g=!0,e.apply(null,L))}function x(L){i=setTimeout(()=>{i=null,n(A,p())},L)}function T(){a&&clearTimeout(a)}function A(L,...G){if(g){T();return}if(L){T(),_.call(null,L,...G);return}if(p()||u){T(),_.call(null,L,...G);return}r<64&&(r*=2);let K;d===1?(d=2,K=0):K=(r+Math.random())*1e3,x(K)}let b=!1;function U(L){b||(b=!0,T(),!g&&(i!==null?(L||(d=2),clearTimeout(i),x(0)):L||(d=1)))}return x(0),a=setTimeout(()=>{u=!0,U(!0)},t),U}function LN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){return n!==void 0}function ON(n){return typeof n=="object"&&!Array.isArray(n)}function bm(n){return typeof n=="string"||n instanceof String}function Gv(n){return Cm()&&n instanceof Blob}function Cm(){return typeof Blob<"u"}function Qv(n,e,t,r){if(r<e)throw Tp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Tp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function h1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Oi;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Oi||(Oi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,r,i,a,u,d,p,g,_,x,T=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,U)=>{this.resolve_=b,this.reject_=U,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Oi.NO_ERROR,p=a.getStatus();if(!d||VN(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Oi.ABORT;r(!1,new Sc(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Sc(g,a))})},t=(r,i)=>{const a=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());DN(p)?a(p):a()}catch(p){u(p)}else if(d!==null){const p=Sm();p.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,p)):u(p)}else if(i.canceled){const p=this.appDelete_?c1():IN();u(p)}else{const p=TN();u(p)}};this.canceled_?t(!1,new Sc(!1,null,!0)):this.backoffId_=jN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function FN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $N(n,e){e&&(n["X-Firebase-GMPID"]=e)}function BN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function zN(n,e,t,r,i,a,u=!0,d=!1){const p=h1(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return $N(_,e),FN(_,t),UN(_,a),BN(_,r),new MN(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HN(...n){const e=qN();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Cm())return new Blob(n);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){if(typeof atob>"u")throw RN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,t){this.data=e,this.contentType=t||null}}function GN(n,e){switch(n){case _r.RAW:return new Uf(d1(e));case _r.BASE64:case _r.BASE64URL:return new Uf(f1(n,e));case _r.DATA_URL:return new Uf(XN(e),YN(e))}throw Sm()}function d1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QN(n){let e;try{e=decodeURIComponent(n)}catch{throw Sl(_r.DATA_URL,"Malformed data URL.")}return d1(e)}function f1(n,e){switch(n){case _r.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Sl(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Sl(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=KN(e)}catch(i){throw i.message.includes("polyfill")?i:Sl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class p1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sl(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=JN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XN(n){const e=new p1(n);return e.base64?f1(_r.BASE64,e.rest):QN(e.rest)}function YN(n){return new p1(n).contentType}function JN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){let r=0,i="";Gv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gv(this.data_)){const r=this.data_,i=WN(r,e,t);return i===null?null:new js(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new js(r,!0)}}static getBlob(...e){if(Cm()){const t=e.map(r=>r instanceof js?r.data_:r);return new js(HN.apply(null,t))}else{const t=e.map(u=>bm(u)?GN(_r.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)i[a++]=u[d]}),new js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n){let e;try{e=JSON.parse(n)}catch{return null}return ON(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eP(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function g1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n,e){return e}class Yt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||tP}}let bc=null;function nP(n){return!bm(n)||n.length<2?n:g1(n)}function y1(){if(bc)return bc;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(a,u){return nP(u)}const t=new Yt("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const i=new Yt("size");return i.xform=r,n.push(i),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),bc=n,bc}function rP(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new xn(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function sP(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return rP(r,n),r}function v1(n,e,t){const r=m1(e);return r===null?null:sP(n,r,t)}function iP(n,e,t,r){const i=m1(e);if(i===null||!bm(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(g=>{const _=n.bucket,x=n.fullPath,T="/b/"+u(_)+"/o/"+u(x),A=$h(T,t,r),b=h1({alt:"media",token:g});return A+b})[0]}function oP(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Am{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){if(!n)throw Sm()}function aP(n,e){function t(r,i){const a=v1(n,i,e);return _1(a!==null),a}return t}function lP(n,e){function t(r,i){const a=v1(n,i,e);return _1(a!==null),iP(a,i,n.host,n._protocol)}return t}function w1(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=xN():i=wN():t.getStatus()===402?i=_N(n.bucket):t.getStatus()===403?i=EN(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function x1(n){const e=w1(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=vN(n.path)),a.serverResponse=i.serverResponse,a}return t}function uP(n,e,t){const r=e.fullServerUrl(),i=$h(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new Am(i,a,lP(n,t),u);return d.errorHandler=x1(e),d}function cP(n,e){const t=e.fullServerUrl(),r=$h(t,n.host,n._protocol),i="DELETE",a=n.maxOperationRetryTime;function u(p,g){}const d=new Am(r,i,u,a);return d.successCodes=[200,204],d.errorHandler=x1(e),d}function hP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function dP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=hP(null,e)),r}function fP(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let K="";for(let se=0;se<2;se++)K=K+Math.random().toString().slice(2);return K}const p=d();u["Content-Type"]="multipart/related; boundary="+p;const g=dP(e,r,i),_=oP(g,t),x="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",A=js.getBlob(x,r,T);if(A===null)throw AN();const b={name:g.fullPath},U=$h(a,n.host,n._protocol),L="POST",G=n.maxUploadRetryTime,Q=new Am(U,L,aP(n,t),G);return Q.urlParams=b,Q.headers=u,Q.body=A.uploadData(),Q.errorHandler=w1(e),Q}class pP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw dl("cannot .send() more than once");if(ei(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mP extends pP{initXhr(){this.xhr_.responseType="text"}}function km(){return new mP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){this._service=e,t instanceof xn?this._location=t:this._location=xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bi(e,t)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g1(this._location.path)}get storage(){return this._service}get parent(){const e=ZN(this._location.path);if(e===null)return null;const t=new xn(this._location.bucket,e);return new Bi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NN(e)}}function gP(n,e,t){n._throwIfRoot("uploadBytes");const r=fP(n.storage,n._location,y1(),new js(e,!0),t);return n.storage.makeRequestWithTokens(r,km).then(i=>({metadata:i,ref:n}))}function yP(n){n._throwIfRoot("getDownloadURL");const e=uP(n.storage,n._location,y1());return n.storage.makeRequestWithTokens(e,km).then(t=>{if(t===null)throw kN();return t})}function vP(n){n._throwIfRoot("deleteObject");const e=cP(n.storage,n._location);return n.storage.makeRequestWithTokens(e,km)}function _P(n,e){const t=eP(n._location.path,e),r=new xn(n._location.bucket,t);return new Bi(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){return/^[A-Za-z]+:\/\//.test(n)}function xP(n,e){return new Bi(n,e)}function E1(n,e){if(n instanceof Rm){const t=n;if(t._bucket==null)throw CN();const r=new Bi(t,t._bucket);return e!=null?E1(r,e):r}else return e!==void 0?_P(n,e):n}function EP(n,e){if(e&&wP(e)){if(n instanceof Rm)return xP(n,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return E1(n,e)}function Xv(n,e){const t=e==null?void 0:e[u1];return t==null?null:xn.makeFromBucketSpec(t,n)}function TP(n,e,t,r={}){n.host=`${e}:${t}`;const i=ei(e);i&&(Lp(`https://${n.host}/b`),Dp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:rw(a,n.app.options.projectId))}class Rm{constructor(e,t,r,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=l1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gN,this._maxUploadRetryTime=yN,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=Xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=Xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bi(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new PN(c1());{const u=zN(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Yv="@firebase/storage",Jv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="storage";function Nm(n,e,t){return n=Ye(n),gP(n,e,t)}function Pm(n){return n=Ye(n),yP(n)}function IP(n){return n=Ye(n),vP(n)}function ah(n,e){return n=Ye(n),EP(n,e)}function SP(n=Eh(),e){n=Ye(n);const r=ti(n,T1).getImmediate({identifier:e}),i=ew("storage");return i&&bP(r,...i),r}function bP(n,e,t,r={}){TP(n,e,t,r)}function CP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Rm(t,r,i,e,Hi)}function AP(){Xn(new Ln(T1,CP,"PUBLIC").setMultipleInstances(!0)),un(Yv,Jv,""),un(Yv,Jv,"esm2020")}AP();function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=I1,S1=new qi("auth","Firebase",I1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new xh("@firebase/auth");function RP(n,...e){lh.logLevel<=Ve.WARN&&lh.warn(`Auth (${Hi}): ${n}`,...e)}function Fc(n,...e){lh.logLevel<=Ve.ERROR&&lh.error(`Auth (${Hi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n,...e){throw jm(n,...e)}function Ir(n,...e){return jm(n,...e)}function b1(n,e,t){const r={...kP(),[e]:t};return new qi("auth","Firebase",r).create(e,{appName:n.name})}function Hs(n){return b1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return S1.create(n,...e)}function Ae(n,e,...t){if(!n)throw jm(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function Zr(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function NP(){return Zv()==="http:"||Zv()==="https:"}function Zv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NP()||sw()||"connection"in navigator)?navigator.onLine:!0}function jP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=sS()||aS()}get(){return PP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OP=new Jl(3e4,6e4);function Qi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function si(n,e,t,r,i={}){return A1(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=ql({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...a};return oS()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ei(n.emulatorConfig.host)&&(g.credentials="include"),C1.fetch()(await k1(n,n.config.apiHost,t,d),g)})}async function A1(n,e,t){n._canInitEmulator=!1;const r={...LP,...e};try{const i=new MP(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Cc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Cc(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Cc(n,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw b1(n,_,g);Jn(n,_)}}catch(i){if(i instanceof Dn)throw i;Jn(n,"network-request-failed",{message:String(i)})}}async function Bh(n,e,t,r,i={}){const a=await si(n,e,t,r,i);return"mfaPendingCredential"in a&&Jn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function k1(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Lm(n.config,i):`${n.config.apiScheme}://${i}`;return DP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function VP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),OP.get())})}}function Cc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ir(n,e,r);return i.customData._tokenResponse=t,i}function e_(n){return n!==void 0&&n.enterprise!==void 0}class FP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UP(n,e){return si(n,"GET","/v2/recaptchaConfig",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(n,e){return si(n,"POST","/v1/accounts:delete",e)}async function uh(n,e){return si(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(n,e=!1){const t=Ye(n),r=await t.getIdToken(e),i=Dm(r);Ae(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:bl($f(i.auth_time)),issuedAtTime:bl($f(i.iat)),expirationTime:bl($f(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $f(n){return Number(n)*1e3}function Dm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=J_(t);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t_(n){const e=Dm(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dn&&zP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){var x;const e=n.auth,t=await n.getIdToken(),r=await Fl(n,uh(e,{idToken:t}));Ae(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(x=i.providerUserInfo)!=null&&x.length?R1(i.providerUserInfo):[],u=WP(n.providerData,a),d=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!(u!=null&&u.length),g=d?p:!1,_={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function HP(n){const e=Ye(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WP(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e){const t=await A1(n,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await k1(n,i,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&ei(n.emulatorConfig.host)&&(p.credentials="include"),C1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GP(n,e){return si(n,"POST","/v2/accounts:revokeToken",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=t_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await KP(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Yo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Ae(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BP(this,e)}reload(){return HP(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Fl(this,$P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:A,providerData:b,stsTokenManager:U}=t;Ae(x&&U,e,"internal-error");const L=Yo.fromJSON(this.name,U);Ae(typeof x=="string",e,"internal-error"),Ps(r,e.name),Ps(i,e.name),Ae(typeof T=="boolean",e,"internal-error"),Ae(typeof A=="boolean",e,"internal-error"),Ps(a,e.name),Ps(u,e.name),Ps(d,e.name),Ps(p,e.name),Ps(g,e.name),Ps(_,e.name);const G=new Kn({uid:x,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:_});return b&&Array.isArray(b)&&(G.providerData=b.map(Q=>({...Q}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,t,r=!1){const i=new Yo;i.updateFromServerResponse(t);const a=new Kn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ae(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?R1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Yo;d.updateFromIdToken(r);const p=new Kn({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function Kr(n){Zr(n instanceof Function,"Expected a class definition");let e=n_.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,n_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N1.type="NONE";const r_=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Uc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Jo(Kr(r_),e,r);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||Kr(r_);const u=Uc(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(u);if(_){let x;if(typeof _=="string"){const T=await uh(e,{idToken:_}).catch(()=>{});if(!T)break;x=await Kn._fromGetAccountInfoResponse(e,T,_)}else x=Kn._fromJSON(e,_);g!==a&&(d=x),a=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Jo(a,e,r):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Jo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(M1(e))return"Webos";if(j1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(n=Kt()){return/firefox\//i.test(n)}function j1(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(n=Kt()){return/crios\//i.test(n)}function D1(n=Kt()){return/iemobile/i.test(n)}function O1(n=Kt()){return/android/i.test(n)}function V1(n=Kt()){return/blackberry/i.test(n)}function M1(n=Kt()){return/webos/i.test(n)}function Om(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QP(n=Kt()){var e;return Om(n)&&!!((e=window.navigator)!=null&&e.standalone)}function XP(){return lS()&&document.documentMode===10}function F1(n=Kt()){return Om(n)||O1(n)||M1(n)||V1(n)||/windows phone/i.test(n)||D1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,e=[]){let t;switch(n){case"Browser":t=s_(Kt());break;case"Worker":t=`${s_(Kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e={}){return si(n,"GET","/v2/passwordPolicy",Qi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=6;class e4{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ZP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new YP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Nn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(r=p.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Hs(this));const t=e?Ye(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JP(this),t=new e4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&RP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pa(n){return Ye(n)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n4(n){zh=n}function $1(n){return zh.loadJS(n)}function r4(){return zh.recaptchaEnterpriseScript}function s4(){return zh.gapiScript}function i4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class o4{constructor(){this.enterprise=new a4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const l4="recaptcha-enterprise",B1="NO_RECAPTCHA";class u4{constructor(e){this.type=l4,this.auth=pa(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{UP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new FP(p);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function i(a,u,d){const p=window.grecaptcha;e_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(B1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o4().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&e_(window.grecaptcha))i(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=r4();p.length!==0&&(p+=d),$1(p).then(()=>{i(d,a,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function o_(n,e,t,r=!1,i=!1){const a=new u4(n);let u;if(i)u=B1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function a_(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await o_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await o_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e){const t=ti(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ws(a,e??{}))return i;Jn(i,"already-initialized")}return t.initialize({options:e})}function h4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d4(n,e,t){const r=pa(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=z1(e),{host:u,port:d}=f4(e),p=d===null?"":`:${d}`,g={url:`${a}//${u}${p}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Ws(g,r.config.emulator)&&Ws(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ei(u)?(Lp(`${a}//${u}${p}`),Dp("Auth",!0)):p4()}function z1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f4(n){const e=z1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:l_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:l_(u)}}}function l_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function p4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function m4(n,e){return si(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e){return Bh(n,"POST","/v1/accounts:signInWithPassword",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",Qi(n,e))}async function v4(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Vm{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ul(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,t,"signInWithPassword",g4);case"emailLink":return y4(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,r,"signUpPassword",m4);case"emailLink":return v4(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return Bh(n,"POST","/v1/accounts:signInWithIdp",Qi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="http://localhost";class zi extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new zi(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Zo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:_4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x4(n){const e=fl(pl(n)).link,t=e?fl(pl(e)).deep_link_id:null,r=fl(pl(n)).deep_link_id;return(r?fl(pl(r)).link:null)||r||t||e||n}class Mm{constructor(e){const t=fl(pl(e)),r=t.apiKey??null,i=t.oobCode??null,a=w4(t.mode??null);Ae(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=x4(e);try{return new Mm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Mm.parseLink(t);return Ae(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Zl{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zi._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Zl{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Zl{constructor(){super("twitter.com")}static credential(e,t){return zi._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vs.credential(t,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Kn._fromIdTokenResponse(e,r,i),u=u_(r);return new oa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=u_(r);return new oa({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function u_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Dn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hh(e,t,r,i)}}function H1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(n,a,e,r):a})}async function E4(n,e,t=!1){const r=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return oa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,e,t=!1){const{auth:r}=n;if(Nn(r.app))return Promise.reject(Hs(r));const i="reauthenticate";try{const a=await Fl(n,H1(r,i,e,n),t);Ae(a.idToken,r,"internal-error");const u=Dm(a.idToken);Ae(u,r,"internal-error");const{sub:d}=u;return Ae(n.uid===d,r,"user-mismatch"),oa._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(n,e,t=!1){if(Nn(n.app))return Promise.reject(Hs(n));const r="signIn",i=await H1(n,r,e),a=await oa._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function I4(n,e){return W1(pa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n){const e=pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b4(n,e,t){return Nn(n.app)?Promise.reject(Hs(n)):I4(Ye(n),ma.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S4(n),r})}function C4(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function A4(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function k4(n,e,t,r){return Ye(n).onAuthStateChanged(e,t,r)}function R4(n){return Ye(n).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,P4=10;class G1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);XP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const j4=G1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q1.type="SESSION";const X1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(u).map(async g=>g(t.origin,a)),p=await L4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const g=Fm("",20);i.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(x){const T=x;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function O4(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function V4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function F4(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",U4=1,fh="firebaseLocalStorage",Z1="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function $4(){const n=indexedDB.deleteDatabase(J1);return new eu(n).toPromise()}function bp(){const n=indexedDB.open(J1,U4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fh,{keyPath:Z1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await $4(),e(await bp()))})})}async function c_(n,e,t){const r=Hh(n,!0).put({[Z1]:e,value:t});return new eu(r).toPromise()}async function B4(n,e){const t=Hh(n,!1).get(e),r=await new eu(t).toPromise();return r===void 0?null:r.value}function h_(n,e){const t=Hh(n,!0).delete(e);return new eu(t).toPromise()}const z4=800,q4=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>q4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(F4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await V4(),!this.activeServiceWorker)return;this.sender=new D4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await c_(e,dh,"1"),await h_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>B4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Hh(i,!1).getAll();return new eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const H4=eE;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e){return e?Kr(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K4(n){return W1(n.auth,new Um(n),n.bypassAuthState)}function G4(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),T4(t,new Um(n),n.bypassAuthState)}async function Q4(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),E4(t,new Um(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:Jn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Jl(2e3,1e4);class Ho extends tE{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X4.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",$c=new Map;class J4 extends tE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await Z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z4(n,e){const t=nj(e),r=tj(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function ej(n,e){$c.set(n._key(),e)}function tj(n){return Kr(n._redirectPersistence)}function nj(n){return Uc(Y4,n.config.apiKey,n.name)}async function rj(n,e,t=!1){if(Nn(n.app))return Promise.reject(Hs(n));const r=pa(n),i=W4(r,e),u=await new J4(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=600*1e3;class ij{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e={}){return si(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uj=/^https?/;async function cj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aj(n);for(const t of e)try{if(hj(t))return}catch{}Jn(n,"unauthorized-domain")}function hj(n){const e=Ip(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!uj.test(t))return!1;if(lj.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Jl(3e4,6e4);function f_(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fj(n){return new Promise((e,t)=>{var i,a,u;function r(){f_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f_(),t(Ir(n,"network-request-failed"))},timeout:dj.get()})}if((a=(i=Sr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=Sr().gapi)!=null&&u.load)r();else{const d=i4("iframefcb");return Sr()[d]=()=>{gapi.load?r():t(Ir(n,"network-request-failed"))},$1(`${s4()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function pj(n){return Bc=Bc||fj(n),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Jl(5e3,15e3),gj="__/auth/iframe",yj="emulator/auth/iframe",vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wj(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lm(e,yj):`https://${n.config.authDomain}/${gj}`,r={apiKey:e.apiKey,appName:n.name,v:Hi},i=_j.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ql(r).slice(1)}`}async function xj(n){const e=await pj(n),t=Sr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:wj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vj,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Sr().setTimeout(()=>{a(u)},mj.get());function p(){Sr().clearTimeout(d),i(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tj=500,Ij=600,Sj="_blank",bj="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cj(n,e,t,r=Tj,i=Ij){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...Ej,width:r.toString(),height:i.toString(),top:a,left:u},g=Kt().toLowerCase();t&&(d=L1(g)?Sj:t),P1(g)&&(e=e||bj,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[A,b])=>`${T}${A}=${b},`,"");if(QP(g)&&d!=="_self")return Aj(e||"",d),new p_(null);const x=window.open(e||"",d,_);Ae(x,n,"popup-blocked");try{x.focus()}catch{}return new p_(x)}function Aj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="__/auth/handler",Rj="emulator/auth/handler",Nj=encodeURIComponent("fac");async function m_(n,e,t,r,i,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hi,eventId:i};if(e instanceof q1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",pS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,x]of Object.entries({}))u[_]=x}if(e instanceof Zl){const _=e.getScopes().filter(x=>x!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${Nj}=${encodeURIComponent(p)}`:"";return`${Pj(n)}?${ql(d).slice(1)}${g}`}function Pj({config:n}){return n.emulator?Lm(n,Rj):`https://${n.authDomain}/${kj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="webStorageSupport";class jj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=rj,this._overrideRedirectResult=ej}async _openPopup(e,t,r,i){var u;Zr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await m_(e,t,r,Ip(),i);return Cj(e,a,Fm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await m_(e,t,r,Ip(),i);return O4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xj(e),r=new ij(e);return t.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bf,{type:Bf},i=>{var u;const a=(u=i==null?void 0:i[0])==null?void 0:u[Bf];a!==void 0&&t(!!a),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F1()||j1()||Om()}}const Lj=jj;var g_="@firebase/auth",y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vj(n){Xn(new Ln("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(n)},g=new t4(r,i,a,p);return h4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Xn(new Ln("auth-internal",e=>{const t=pa(e.getProvider("auth").getImmediate());return(r=>new Dj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(g_,y_,Oj(n)),un(g_,y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=300,Fj=nw("authIdTokenMaxAge")||Mj;let v_=null;const Uj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Fj)return;const i=t==null?void 0:t.token;v_!==i&&(v_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $j(n=Eh()){const e=ti(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c4(n,{popupRedirectResolver:Lj,persistence:[H4,j4,X1]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Uj(a.toString());A4(t,u,()=>u(t.currentUser)),C4(t,d=>u(d))}}const i=Z_("auth");return i&&d4(t,`http://${i}`),t}function Bj(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}n4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Ir("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",Bj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vj("Browser");const zj={apiKey:"AIzaSyBWoMq00y7kIR6QsXO_Z_lwSC6DS2O4K5I",authDomain:"costic2026.firebaseapp.com",projectId:"costic2026",storageBucket:"costic2026.firebasestorage.app",messagingSenderId:"1024891143489",appId:"1:1024891143489:web:6bd4f6014f16c5e3088dc0",measurementId:"G-SE28R81YF2"},Wh=cw(zj);hN(Wh);const Rt=Rk(Wh),ph=SP(Wh),$m=$j(Wh),qj=()=>{const[n,e]=V.useState(""),[t,r]=V.useState(""),[i,a]=V.useState(!1),{t:u}=_h(),d=async p=>{if(p.preventDefault(),!!n){a(!0),r("");try{await Fs(wn(Rt,"newsletter_subscriptions"),{email:n,subscribedAt:jn(),source:"Website"}),r(u("Newsletter")),e(""),setTimeout(()=>r(""),5e3)}catch(g){console.error("Erreur lors de l'inscription  la newsletter:",g),r(u("footer_newsletter_error")),setTimeout(()=>r(""),3e3)}finally{a(!1)}}};return f.jsx("footer",{className:"bg-primary text-neutral-200 font-body",children:f.jsxs("div",{className:"container mx-auto px-6 py-12",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-xl font-black mb-2 relative",style:{letterSpacing:"1px"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"relative text-white",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg)",textShadow:"0 0 0px transparent"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/60 transform translate-x-1 translate-y-1",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(1px) translateY(1px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/40 transform translate-x-2 translate-y-2",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(2px) translateY(2px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/20 transform translate-x-3 translate-y-3",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(3px) translateY(3px)"},children:"CoSTIC 2026"})]})}),f.jsx("p",{className:"text-sm text-neutral-300",children:u("ESATIC")})]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("h3",{className:"text-xl font-bold mb-2 text-white font-sans",children:u("footer_contact")}),f.jsx("p",{className:"text-neutral-300",children:u("footer_secretariat")}),f.jsx("a",{href:"mailto:costic2026@esatic.edu.ci",className:"text-secondary hover:text-white transition-colors duration-300 block",children:"costic2026@esatic.edu.ci"}),f.jsx("a",{href:"http://costic2026.esatic.ci",target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-white transition-colors duration-300",children:"http://costic2026.esatic.ci"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-2 text-white font-sans",children:u("footer_stay_informed")}),f.jsx("p",{className:"text-sm text-neutral-300 mb-4",children:u("footer_newsletter_desc")}),f.jsxs("form",{onSubmit:d,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"email",value:n,onChange:p=>e(p.target.value),placeholder:u("footer_email_placeholder")||"Votre adresse e-mail",className:"bg-secondary/20 border-2 border-secondary/50 rounded-l-lg px-4 py-3 w-full text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition",required:!0}),f.jsx("button",{type:"submit",disabled:i,className:"bg-secondary text-white px-4 py-3 rounded-r-lg hover:bg-secondary/90 transition-colors duration-300 border-2 border-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:i?f.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]}),t&&f.jsx("p",{className:"text-green-400 text-sm mt-2",children:t})]})]})]}),f.jsx("div",{className:"mt-10 border-t border-white/20 pt-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[f.jsx("div",{className:"text-sm text-neutral-300 mb-4 md:mb-0",children:" 2026 CoSTIC - Colloque Scientifique sur les Technologies de l'Information et de la Communication"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("a",{href:"mailto:costic2026@esatic.edu.ci",className:"text-neutral-300 hover:text-white transition-colors duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("a",{href:"http://costic2026.esatic.ci",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-300 hover:text-white transition-colors duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})})]})})},Wn=({title:n,children:e,className:t=""})=>{const[r,i]=V.useState(!1),a=V.useRef(null);return V.useEffect(()=>{const u=new IntersectionObserver(([d])=>{d.isIntersecting&&(i(!0),u.unobserve(d.target))},{threshold:.1});return a.current&&u.observe(a.current),()=>{a.current&&u.unobserve(a.current)}},[]),f.jsx("section",{ref:a,className:`py-16 md:py-20 ${t}`,children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsx("div",{className:`transition-all duration-700 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-primary mb-12 font-sans",children:n})}),e]})})},Hj=({events:n})=>f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("ul",{className:"divide-y divide-neutral-200 rounded-xl overflow-hidden border border-neutral-200 bg-white",children:n.map(e=>{const t=e.date.split(" "),r=t[0]||e.date,i=t[1]||"";return f.jsxs("li",{className:"flex items-start gap-4 p-3 md:p-4",children:[f.jsx("div",{className:"shrink-0 w-28 md:w-32",children:f.jsxs("div",{className:"rounded-lg border border-costic-blue/20 bg-pure-white px-3 py-2 text-center shadow-sm",children:[f.jsx("div",{className:"text-xs font-semibold text-costic-blue uppercase tracking-wide",children:i}),f.jsx("div",{className:"text-lg md:text-xl font-extrabold text-costic-blue leading-tight",children:r})]})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"text-sm md:text-base font-semibold text-neutral-800 font-sans truncate",children:e.description}),e.isHighlighted&&f.jsx("span",{className:"text-[10px] md:text-xs px-2 py-0.5 rounded-full bg-accent text-white font-semibold whitespace-nowrap",children:"vnement principal"})]})})]},e.date)})})}),__=[{nom:"Prof. Coulibaly Adama",affiliation:"Universit Flix Houphout-Boigny",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/cool.jpg",titre:"Prsident - Mathmaticien"},{nom:"Prof. Asseu Olivier",affiliation:"MESRS / ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/olivier.jpg",titre:"Vice-Prsident"},{nom:"Prof. Oumtanaga Souleymane",affiliation:"INP-HB",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/oumtanaga.jpg",titre:"Professeur"},{nom:"Dr(MC) Soro tienne",affiliation:"ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/etienne.jpg",titre:"Docteur"},{nom:"Dr(MC) Moustapha Diaby",affiliation:"ESATIC / Universit de Lille",pays:"Cte d'Ivoire / France",drapeau:"",photo:"/img/diaby.jpg",titre:"Rapporteur Gnral"},{nom:"Dr(MC) Kamagat Beman",affiliation:"ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/beman.jpg",titre:"Docteur"},{nom:"Dr(MC) Mamadou Diarra",affiliation:"UFHB",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/Dr_Diarra_Mamadou.jpg",titre:"Docteur"},{nom:"Dr(MC) Sere Aboulaye",affiliation:"Universit Nazi Boni",pays:"Burkina Faso",drapeau:"",photo:"/img/sere.jpg",titre:"Docteur"},{nom:"Prof. Babacar",affiliation:"Universit Cheikh Anta Diop (UCAD)",pays:"Sngal",drapeau:"",photo:"/img/abacarr.jpg",titre:"Professeur"},{nom:"Prof. Leila Nasraoui",affiliation:"Universit de Tunis El Manar",pays:"Tunisie",drapeau:"",photo:"/img/Leila Nasraoui.jpg",titre:"Professeur"},{nom:"Prof. Yvon Kermarec",affiliation:"Institut Mines-Tlcom (IMT)",pays:"France",drapeau:"",photo:"/img/Prof. Yvon Kermarec.jpg",titre:"Professeur"}],Wj=()=>{const n=V.useRef(null),e=V.useRef(null),t=[...__,...__];return V.useEffect(()=>{const r=n.current,i=e.current;if(!r||!i)return;const a=()=>{let d=0;i.childNodes.forEach(x=>{x instanceof HTMLElement&&(d+=x.offsetWidth+32)});const p=-d,_=Math.max(10,Math.round(Math.abs(p)*.015));i.style.setProperty("--scroll-end",`${p}px`),i.style.setProperty("--scroll-duration",`${_}s`)};a();const u=new ResizeObserver(()=>a());return u.observe(r),()=>u.disconnect()},[]),f.jsx("div",{className:"relative max-w-7xl mx-auto overflow-hidden",ref:n,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-8 whitespace-nowrap",ref:e,children:t.map((r,i)=>f.jsxs("div",{className:"flex-shrink-0 w-80 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 p-6 text-center",children:[f.jsxs("div",{className:"relative mb-4",children:[f.jsx("img",{src:r.photo,alt:r.nom,className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-primary/20"}),f.jsx("div",{className:"absolute -bottom-2 -right-2 text-2xl",children:r.drapeau})]}),f.jsx("h3",{className:"text-lg font-bold text-primary mb-1 font-sans",children:r.nom}),f.jsx("p",{className:"text-sm text-secondary font-semibold mb-2",children:r.titre}),f.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:r.affiliation}),f.jsxs("p",{className:"text-xs text-neutral-500 flex items-center justify-center gap-1",children:[f.jsx("span",{children:r.drapeau}),f.jsx("span",{children:r.pays})]})]},`${r.nom}-${i}`))})})},w_=[{nom:"MTND",description:"MTND",logo:"/img/ministere-transition-numerique.png",type:"Institutionnel",site:"https://www.transition-numerique.gouv.ci"},{nom:"MESR",description:"MESR",logo:"/img/mesr.jpg",type:"Institutionnel",site:"https://www.enseignement.gouv.ci"},{nom:"SNDI",description:"SNDI",logo:"/img/sndi.png",type:"Dveloppement",site:"https://www.sndi.ci"},{nom:"ARTCI",description:"ARTCI",logo:"/img/artci.png",type:"Rgulation",site:"https://www.artci.ci"},{nom:"ANSUT",description:"ANSUT",logo:"/img/ansut.png",type:"Institutionnel",site:"https://ansut.ci"},{nom:"AIGF",description:"AIGF",logo:"/img/aigf.png",type:"Institutionnel",site:"https://www.aigf.ci"},{nom:"VITIB",description:"VITIB",logo:"/img/vitib.jpg",type:"Technologie",site:"https://www.vitib.ci"},{nom:"FJN",description:"FJN",logo:"/img/fondation-jeunesse-numerique.png",type:"Dveloppement",site:"https://www.fondation-jeunesse-numerique.ci"},{nom:"AUF",description:"AUF",logo:"/img/AUF - Agence Universitaire de la Francophonie.png",type:"International",site:"https://www.auf.org"},{nom:"ONUDI",description:"ONUDI",logo:"/img/onudi.png",type:"International",site:"https://www.unido.org"},{nom:"Smart Africa",description:"Smart Africa Alliance",logo:"/img/smart.png",type:"International",site:"https://smartafrica.org"},{nom:"UNITEL",description:"UNITEL",logo:"/img/unitel.png",type:"Tlcoms",site:"https://www.unitel.ci"},{nom:"Huawei",description:"Technologies et Solutions TIC",logo:"/img/huawei.png",type:"Technologie",site:"https://www.huawei.com"},{nom:"Sah Analytics",description:"Technologies et Solutions TIC",logo:"/img/sah.jpg",type:"Technologie",site:"https://sahanalytics.com/"},{nom:"UIT",description:"Union internationale des tlcommunications",logo:"/img/itu.png",type:"Technologie",site:"https://www.itu.int"}],Kj=()=>{const n=V.useRef(null),e=V.useRef(null),t=[...w_,...w_];V.useEffect(()=>{const i=n.current,a=e.current;if(!i||!a)return;const u=()=>{i.clientWidth;let p=0;a.childNodes.forEach(T=>{T instanceof HTMLElement&&(p+=T.offsetWidth+32)});const g=-p,x=Math.max(8,Math.round(Math.abs(g)*.01));a.style.setProperty("--scroll-end",`${g}px`),a.style.setProperty("--scroll-duration",`${x}s`)};u();const d=new ResizeObserver(()=>u());return d.observe(i),()=>d.disconnect()},[]);const r=i=>{switch(i){case"Institutionnel":return"bg-primary/10 text-primary border-primary/20";case"Tlcoms":return"bg-secondary/10 text-secondary border-secondary/20";case"Rgulation":return"bg-blue-100 text-blue-700 border-blue-200";case"Technologie":return"bg-purple-100 text-purple-700 border-purple-200";case"nergie":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Conseil":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"Formation":return"bg-green-100 text-green-700 border-green-200";case"IA":return"bg-pink-100 text-pink-700 border-pink-200";case"Recherche":return"bg-cyan-100 text-cyan-700 border-cyan-200";case"Dveloppement":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"International":return"bg-purple-100 text-purple-700 border-purple-200";case"Finance":return"bg-green-100 text-green-700 border-green-200";case"Mdia":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-neutral-100 text-neutral-700 border-neutral-200"}};return f.jsx("div",{className:"relative max-w-7xl mx-auto overflow-hidden",ref:n,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-8 whitespace-nowrap",ref:e,children:t.map((i,a)=>f.jsxs("div",{className:"flex-shrink-0 w-80 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 p-6 text-center",children:[f.jsx("div",{className:"relative mb-4",children:f.jsx("div",{className:"w-20 h-20 mx-auto bg-white rounded-lg border-2 border-neutral-200 flex items-center justify-center p-2",children:f.jsx("img",{src:i.logo,alt:i.nom,className:"max-w-full max-h-full object-contain",onError:u=>{const d=u.target;d.style.display="none",d.parentElement.innerHTML=`
                      <div class="w-full h-full bg-neutral-100 rounded-lg flex items-center justify-center">
                        <svg class="w-8 h-8 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                      </div>
                    `}})})}),f.jsx("h3",{className:"text-lg font-bold text-primary mb-2 font-sans leading-tight",children:i.nom}),f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${r(i.type)} mb-2`,children:i.type}),f.jsx("p",{className:"text-sm text-neutral-600",children:i.description}),i.site&&f.jsx("a",{href:i.site,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-xs text-primary hover:text-primary/80 transition-colors duration-300",children:"Visiter le site "})]},`${i.nom}-${a}`))})})},zf=[{title:"Partenariats Renforcs",desc:"Renforcement des collaborations acadmiques et industrielles pour favoriser l'innovation et le transfert de technologies entre les universits et le secteur priv.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),bgImage:"/img/Partenariats Renforcs.jpg"},{title:"Rseau d'Experts",desc:"Cration d'un rseau dynamique de chercheurs et praticiens en TIC, facilitant les changes d'expertise et les collaborations futures  travers l'Afrique.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),bgImage:"/img/Rseau d'Experts.jpg"},{title:"Recommandations Stratgiques",desc:"Propositions concrtes et actionnables pour les dcideurs publics et privs, bases sur les meilleures pratiques et innovations prsentes lors du colloque.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),bgImage:"/img/Recommandations Stratgiques.jpg"}],Gj=()=>{const[n,e]=V.useState(0),t=3,r=Math.ceil(zf.length/t),i=()=>{e(d=>d===0?r-1:d-1)},a=()=>{e(d=>d===r-1?0:d+1)},u=zf.slice(n*t,(n+1)*t);return f.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[f.jsx("button",{onClick:i,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-primary hover:text-white","aria-label":"Prcdent",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:a,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-primary hover:text-white","aria-label":"Suivant",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 px-12",children:u.map((d,p)=>f.jsxs("div",{className:"relative h-80 lg:h-96 rounded-3xl overflow-hidden shadow-2xl group transform hover:scale-105 hover:rotate-2 transition-all duration-500",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url(${d.bgImage})`}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/70 via-secondary/60 to-accent/70 group-hover:from-primary/80 group-hover:via-secondary/70 group-hover:to-accent/80 transition-all duration-300"}),f.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center p-6",children:[f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:"w-16 h-16 mx-auto bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-4 group-hover:bg-white/30 group-hover:-rotate-12 transition-all duration-300",children:f.jsx("div",{className:"text-white",children:d.icon})})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3 font-sans group-hover:scale-105 transition-transform duration-300",children:d.title}),f.jsx("p",{className:"text-sm md:text-base text-white/95 leading-relaxed group-hover:text-white transition-colors duration-300",children:d.desc}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1200"}),f.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-white/40 rounded-3xl transition-all duration-500"})]})]},d.title))}),f.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:r},(d,p)=>f.jsx("button",{onClick:()=>e(p),className:`w-3 h-3 rounded-full transition-all duration-300 ${p===n?"bg-primary scale-125":"bg-neutral-300 hover:bg-primary/50"}`,"aria-label":`Page ${p+1}`},p))}),f.jsxs("div",{className:"text-center mt-4 text-sm text-neutral-500",children:["Page ",n+1," sur ",r,"  ",zf.length," rsultats attendus"]})]})},Qj=()=>{const n=[{name:"LinkedIn",href:"https://www.linkedin.com/school/esaticofficielle/",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),bgColor:"bg-[#0077B5]",hoverColor:"hover:bg-[#005885]",textColor:"text-white"},{name:"Facebook",href:"https://web.facebook.com/EsaticOfficielle/",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),bgColor:"bg-[#1877F2]",hoverColor:"hover:bg-[#166FE5]",textColor:"text-white"},{name:"Twitter",href:"https://x.com/esatic_ci",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),bgColor:"bg-[#1DA1F2]",hoverColor:"hover:bg-[#1A91DA]",textColor:"text-white"}];return f.jsx("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-40 hidden lg:block",children:f.jsx("div",{className:"flex flex-col space-y-4",children:n.map((e,t)=>f.jsxs("div",{className:"group relative",children:[f.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:`w-16 h-16 ${e.bgColor} rounded-full shadow-2xl flex items-center justify-center ${e.textColor} transition-all duration-300 transform hover:scale-110 ${e.hoverColor}`,title:`Suivez-nous sur ${e.name}`,"aria-label":`Lien vers notre page ${e.name}`,children:f.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:e.icon})}),f.jsx("div",{className:"absolute -left-4 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-2 group-hover:translate-x-0",children:f.jsxs("div",{className:"bg-black/80 text-white px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap backdrop-blur-sm",children:[e.name,f.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/80 rotate-45"})]})})]},e.name))})})},Xj=()=>{const[n,e]=V.useState({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",logo:null}),[t,r]=V.useState(!1),[i,a]=V.useState(""),{t:u,ready:d}=_h();if(!d)return f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const p=A=>{const{name:b,value:U}=A.target;e(L=>({...L,[b]:U}))},g=A=>{A.target.files&&A.target.files[0]&&e(b=>({...b,logo:A.target.files[0]}))},_=async A=>{A.preventDefault(),a(""),r(!0);try{let b="";if(n.logo){const L=ah(ph,`partenaires/${Date.now()}_${n.logo.name}`);await Nm(L,n.logo),b=await Pm(L)}await Fs(wn(Rt,"partenaires"),{...n,logoUrl:b,statut:"en_attente",dateSoumission:jn()}),a(u("partner_success")),e({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",logo:null});const U=document.getElementById("logo");U&&(U.value="")}catch(b){console.error("Erreur lors de la soumission:",b),a(u("partner_error"))}finally{r(!1)}},x="w-full px-4 py-3 bg-white border border-neutral-300 rounded-lg shadow-sm transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent font-body",T="block text-neutral-700 font-semibold mb-2 font-sans";return f.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-white rounded-xl shadow-2xl",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary mb-6 text-center font-sans",children:u("partner_section_title")}),f.jsx("p",{className:"text-center text-neutral-600 mb-8",children:u("partner_intro")}),f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nom",className:T,children:u("partner_org_name")}),f.jsx("input",{type:"text",id:"nom",name:"nom",value:n.nom,onChange:p,className:x,required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pays",className:T,children:u("partner_country")}),f.jsx("input",{type:"text",id:"pays",name:"pays",value:n.pays,onChange:p,className:x,required:!0,disabled:t})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:T,children:u("partner_contact_email")}),f.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,className:x,required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telephone",className:T,children:u("partner_phone")}),f.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:n.telephone,onChange:p,className:x,disabled:t})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"siteWeb",className:T,children:u("partner_website")}),f.jsx("input",{type:"url",id:"siteWeb",name:"siteWeb",value:n.siteWeb,onChange:p,className:x,placeholder:u("partner_website_placeholder")||"https://www.exemple.com",disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"typePartenaire",className:T,children:u("partner_type")}),f.jsxs("select",{id:"typePartenaire",name:"typePartenaire",value:n.typePartenaire,onChange:p,className:x,required:!0,disabled:t,children:[f.jsx("option",{value:"institutionnel",children:u("partner_type_institution")}),f.jsx("option",{value:"entreprise",children:u("partner_type_company")}),f.jsx("option",{value:"organisation",children:u("partner_type_org")}),f.jsx("option",{value:"gouvernemental",children:u("partner_type_gov")}),f.jsx("option",{value:"media",children:u("partner_type_media")}),f.jsx("option",{value:"autre",children:u("partner_type_other")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:T,children:u("partner_org_desc")}),f.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:p,className:x,rows:4,placeholder:u("partner_org_desc_placeholder")||"Dcrivez votre organisation, ses activits et son intrt pour le partenariat...",required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"logo",className:T,children:u("partner_logo_label")}),f.jsx("input",{type:"file",id:"logo",name:"logo",onChange:g,accept:"image/*",className:"w-full text-sm text-neutral-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-secondary/10 file:text-primary hover:file:bg-secondary/20 cursor-pointer font-body",disabled:t}),f.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:u("partner_logo_hint")})]}),f.jsx("button",{type:"submit",disabled:t,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-lg hover:bg-primary/90 transition-all duration-300 text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed flex justify-center items-center",children:t?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u("partner_submitting")]}):u("partner_submit")}),i&&f.jsx("p",{className:`text-center text-sm ${i.startsWith("Erreur")||i.startsWith("Error")?"text-red-600":"text-green-600"}`,children:i})]})]})},Yj=()=>{const[n,e]=V.useState(0),[t,r]=V.useState(!0),[i,a]=V.useState(!0),[u,d]=V.useState(!1);return V.useEffect(()=>{const p=async()=>{try{console.log("Dbut du tracking des visiteurs...");const x=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,T=localStorage.getItem("costic2026_session");if(console.log("Session existante:",T),!T){console.log("Nouvelle session dtecte, enregistrement...");const L=await Fs(wn(Rt,"visitors"),{timestamp:jn(),userAgent:navigator.userAgent,sessionId:x,pageUrl:window.location.href,referrer:document.referrer||"direct",date:new Date().toISOString()});console.log("Visiteur enregistr avec ID:",L.id),localStorage.setItem("costic2026_session",x)}console.log("Rcupration du nombre de visiteurs...");const A=Oc(wn(Rt,"visitors"),Vc("timestamp","desc")),b=await Il(A),U=new Set;b.forEach(L=>{const G=L.data();G.sessionId&&U.add(G.sessionId)}),console.log("Nombre de visiteurs uniques:",U.size),console.log("Total de documents:",b.size),e(U.size),r(!1)}catch(x){console.error("Erreur lors du comptage des visiteurs:",x);const T=localStorage.getItem("costic2026_local_count");T?e(parseInt(T)):(e(1),localStorage.setItem("costic2026_local_count","1")),r(!1)}},g=setTimeout(p,1e3),_=setInterval(p,3e4);return()=>{clearTimeout(g),clearInterval(_)}},[]),i?f.jsxs("div",{className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50",children:[f.jsx("button",{onClick:()=>d(!u),className:"bg-white/80 backdrop-blur-sm border border-primary/30 rounded-full shadow-lg p-2 hover:bg-white/90 transition-all duration-200 flex items-center justify-center w-12 h-12",title:"Compteur de visiteurs",children:t?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-xs font-bold text-primary leading-none",children:n.toLocaleString()}),f.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse mx-auto mt-0.5"})]})}),f.jsx("button",{onClick:()=>a(!1),className:"absolute -top-1 -right-1 bg-primary/80 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs hover:bg-primary transition-colors",title:"Masquer le compteur",children:""}),u&&f.jsx("div",{className:"absolute left-16 top-0 bg-white/90 backdrop-blur-sm border border-primary/30 rounded-lg shadow-lg p-3 min-w-[120px]",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center mb-1",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-primary mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.jsx("span",{className:"text-xs font-semibold text-primary",children:"Visiteurs"})]}),f.jsx("div",{className:"text-lg font-bold text-primary mb-1",children:n.toLocaleString()}),f.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"en temps rel"}),f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),f.jsx("span",{className:"text-xs text-neutral-500 ml-1",children:"Live"})]})]})})]}):f.jsx("button",{onClick:()=>a(!0),className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-primary/80 text-white p-2 rounded-full shadow-lg hover:bg-primary transition-all duration-300",title:"Afficher le compteur de visiteurs",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},Cp=[{name:"MTND",logo:"/img/ministere-transition-numerique.png",siteWeb:"https://www.transition-numerique.gouv.ci",pays:"Cte d'Ivoire",type:"Institutionnel"},{name:"MESR",logo:"/img/mesr.jpg",siteWeb:"https://www.enseignement.gouv.ci",pays:"Cte d'Ivoire",type:"Institutionnel"},{name:"SNDI",logo:"/img/sndi.png",siteWeb:"https://www.sndi.ci",pays:"Cte d'Ivoire",type:"Dveloppement"},{name:"ARTCI",logo:"/img/artci.png",siteWeb:"https://www.artci.ci",pays:"Cte d'Ivoire",type:"Rgulation"},{name:"ANSUT",logo:"/img/ansut.png",siteWeb:"https://ansut.ci",pays:"Cte d'Ivoire",type:"Institutionnel"},{name:"AIGF",logo:"/img/aigf.png",siteWeb:"https://www.aigf.ci",pays:"Cte d'Ivoire",type:"Institutionnel"},{name:"VITIB",logo:"/img/vitib.jpg",siteWeb:"https://www.vitib.ci",pays:"Cte d'Ivoire",type:"Technologie"},{name:"FJN",logo:"/img/fondation-jeunesse-numerique.png",siteWeb:"https://www.fondation-jeunesse-numerique.ci",pays:"Cte d'Ivoire",type:"Dveloppement"},{name:"AUF",logo:"/img/AUF - Agence Universitaire de la Francophonie.png",siteWeb:"https://www.auf.org",pays:"International",type:"International"},{name:"ONUDI",logo:"/img/onudi.png",siteWeb:"https://www.unido.org",pays:"International",type:"International"},{name:"Smart Africa",logo:"/img/smart.png",siteWeb:"https://smartafrica.org",pays:"International",type:"International"},{name:"UNITEL",logo:"/img/unitel.png",siteWeb:"https://www.unitel.ci",pays:"Cte d'Ivoire",type:"Tlcoms"},{name:"Huawei",logo:"/img/huawei.png",siteWeb:"https://www.huawei.com",pays:"International",type:"Technologie"},{name:"Sah Analytics",logo:"/img/sah.jpg",siteWeb:"https://sahanalytics.com/",pays:"Cte d'Ivoire",type:"Technologie"},{name:"UIT",logo:"/img/itu.png",siteWeb:"https://www.itu.int",pays:"International",type:"Technologie"}],mh="https://pay.genius.ci",rE="gp_Nyoe0Q7oBEnkU2j2JnqFXa0j9f3dKpgh",Jj="Gtav3pQa1hYGDGV9Gef3WX0jlvEanvQa",Zj=async n=>{var e,t,r,i;try{const u=mh,d=Math.round(n.amount*100);console.log(` Conversion du montant: ${n.amount} FCFA = ${d} centimes`);const p={amount:d,customer_email:n.customer_email,customer_name:n.customer_name||null,gateway:"wave",currency:n.currency||"XOF",metadata:n.metadata||{},webhook_url:n.webhook_url||`${window.location.origin}/api/webhook/geniuspay`},g=`${u}/api/payment-links`;console.log(" Tentative de connexion :",g),console.log(" Donnes du paiement:",p);const _=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-API-Key":rE},body:JSON.stringify(p)});if(!_.ok){let T=`Erreur HTTP ${_.status}: ${_.statusText}`;try{const A=await _.json();T=A.message||A.error||T}catch{}throw new Error(T)}const x=await _.json();if(!x.success)throw new Error(x.message||x.error||"Erreur lors de la cration du lien de paiement");return{success:!0,data:{payment_url:(e=x.data)==null?void 0:e.payment_url,payment_id:((t=x.data)==null?void 0:t.payment_id)||((r=x.data)==null?void 0:r.reference),reference:(i=x.data)==null?void 0:i.reference},message:x.message}}catch(a){return console.error("Erreur GeniusPay:",a),a.name==="TypeError"&&a.message.includes("fetch")?{success:!1,error:`Impossible de se connecter  l'API GeniusPay. Vrifiez que l'URL est correcte: ${mh}`,message:"Erreur de connexion rseau. Vrifiez votre connexion Internet et que l'URL de l'API est correcte."}:{success:!1,error:a.message||"Erreur lors de l'initiation du paiement",message:a.message||"Erreur lors de l'initiation du paiement"}}},x_=async n=>{try{const r=`${mh}/payment/verify/${n}`;console.log("Vrification du paiement:",n),console.log("URL:",r);const i=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":rE,Authorization:`Bearer ${Jj}`}});if(!i.ok){let u=`Erreur HTTP ${i.status}: ${i.statusText}`;try{const d=await i.json();u=d.message||d.error||u}catch{}throw new Error(u)}const a=await i.json();if(!a.success)throw new Error(a.message||a.error||"Erreur lors de la vrification du paiement");return a}catch(e){return console.error("Erreur vrification paiement:",e),e.name==="TypeError"&&e.message.includes("fetch")?{success:!1,error:`Impossible de se connecter  l'API GeniusPay. Vrifiez que l'URL est correcte: ${mh}`,message:"Erreur de connexion rseau. Vrifiez votre connexion Internet et que l'URL de l'API est correcte."}:{success:!1,error:e.message||"Erreur lors de la vrification du paiement",message:e.message||"Erreur lors de la vrification du paiement"}}},eL=n=>{const[e,t]=V.useState(null),r=V.useRef(null),i=V.useRef(null);return V.useEffect(()=>(r.current=new IntersectionObserver(([a])=>{a.isIntersecting&&(t(a),i.current&&r.current.unobserve(i.current))},n),i.current&&r.current.observe(i.current),()=>{r.current&&i.current&&r.current.unobserve(i.current)}),[n]),[i,e]},Dt=({children:n,animationClass:e,delay:t=0})=>{const[r,i]=eL({threshold:.1}),a=!!i;return f.jsx("div",{ref:r,className:`${a?e:"opacity-0"}`,style:{transition:`opacity 0.7s ease-out ${t}ms, transform 0.7s ease-out ${t}ms`},children:n})},tL=()=>{const[n,e]=V.useState({jours:0,heures:0,minutes:0,secondes:0}),[t,r]=V.useState(!1);if(V.useEffect(()=>{const a=()=>{const d=new Date("2026-05-21T00:00:00Z").getTime(),p=new Date().getTime(),g=d-p;g>0?(e({jours:Math.floor(g/864e5),heures:Math.floor(g/36e5%24),minutes:Math.floor(g/1e3/60%60),secondes:Math.floor(g/1e3%60)}),r(!1)):r(!0)};a();const u=setInterval(a,1e3);return()=>clearInterval(u)},[]),t)return f.jsx("span",{className:"text-white bg-accent px-6 py-3 rounded-lg text-xl font-semibold shadow-lg font-sans",children:"L'vnement a commenc !"});const i=({value:a,label:u})=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-6xl lg:text-7xl font-bold tracking-tighter font-sans",children:String(a).padStart(2,"0")}),f.jsx("span",{className:"text-sm uppercase opacity-75 tracking-widest font-sans",children:u})]});return f.jsxs("div",{className:"text-white flex items-center justify-center space-x-6 md:space-x-10",children:[f.jsx(i,{value:n.jours,label:"Jours"}),f.jsx(i,{value:n.heures,label:"Heures"}),f.jsx(i,{value:n.minutes,label:"Minutes"}),f.jsx(i,{value:n.secondes,label:"Secondes"})]})},nL=[{title:"Intelligence Artificielle et ODD"},{title:"Rseaux, Tlcommunications et Infrastructures durables"},{title:"Cyberscurit et Rsilience numrique"},{title:"Transformation digitale et Innovation responsable"},{title:"Mathmatiques appliques et Recherche oprationnelle pour le dveloppement durable"},{title:"ducation numrique et Inclusion"},{title:"Technologies mergentes et Durabilit"},{title:"Coopration scientifique et Innovation pour les ODD"},{title:"Mathmatiques, Modlisation et Analyse numrique pour les systmes durables"},{title:"Statistique, Science des donnes et conomie applique"},{title:"Culture, Patrimoine et Socit numrique"},{title:"TIC, Biologie et Sciences du vivant"},{title:"Prix Jeune Chercheur"},{title:"Autre"}],rL=()=>{const n={authorName:"",authorEmail:"",affiliation:"",articleTitle:"",themeSelect:""},[e,t]=V.useState(n),[r,i]=V.useState(null),[a,u]=V.useState(""),[d,p]=V.useState(!1),g={name:"",email:"",participantType:"chercheur"},[_,x]=V.useState(g),[T,A]=V.useState(""),[b,U]=V.useState(!1),[L,G]=V.useState(null),[Q,K]=V.useState({name:"",email:""}),[se,ye]=V.useState({name:!1,email:!1}),me=Z=>Z.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Z)?"":"Veuillez entrer une adresse e-mail valide (ex: nom@exemple.com)":"L'adresse e-mail est requise",N=Z=>Z.trim()?Z.trim().length<2?"Le nom complet doit contenir au moins 2 caractres":Z.trim().length>100?"Le nom complet ne peut pas dpasser 100 caractres":"":"Le nom complet est requis",S=Z=>{const{id:le,value:xe}=Z.target;t(Ce=>({...Ce,[le]:xe}))},C=Z=>{const{id:le,value:xe}=Z.target;if(x(Ce=>({...Ce,[le]:xe})),le==="email"){const Ce=me(xe);K(we=>({...we,email:Ce}))}else if(le==="name"){const Ce=N(xe);K(we=>({...we,name:Ce}))}},P=Z=>{if(ye(le=>({...le,[Z]:!0})),Z==="email"){const le=me(_.email);K(xe=>({...xe,email:le}))}else if(Z==="name"){const le=N(_.name);K(xe=>({...xe,name:le}))}},D=()=>{const Z=N(_.name),le=me(_.email);return!Z&&!le},$=Z=>{Z.target.files&&i(Z.target.files[0])},k=async Z=>{if(Z.preventDefault(),u(""),!e.authorName||!e.authorEmail||!e.articleTitle||!r){u("Erreur : Veuillez remplir tous les champs obligatoires et slectionner un fichier.");return}p(!0);try{const le=ah(ph,`submissions/${Date.now()}_${r.name}`);await Nm(le,r);const xe=await Pm(le);await Fs(wn(Rt,"submissions"),{...e,fileUrl:xe,fileName:r.name,submittedAt:jn()}),u("Succs : Votre article a t soumis avec succs !"),t(n),i(null);const Ce=document.getElementById("fileUpload");Ce&&(Ce.value="")}catch(le){console.error("Error submitting article: ",le),u("Erreur : Impossible de soumettre l'article. Veuillez ressayer.")}finally{p(!1)}},Se={chercheur:{amount:5e4,currency:"XOF"},etudiant:{amount:35e3,currency:"XOF"}},$e=async Z=>{var Ce;Z.preventDefault(),ye({name:!0,email:!0});const le=N(_.name),xe=me(_.email);if(K({name:le,email:xe}),le||xe){A("Erreur : Veuillez corriger les erreurs dans le formulaire.");return}A(""),U(!0);try{const we=await Fs(wn(Rt,"registrations"),{..._,paymentStatus:"pending",registeredAt:jn(),amount:Se[_.participantType].amount,currency:"XOF"});G(we.id);const De=`costic_${Date.now()}_${_.email}`,St={amount:Se[_.participantType].amount,currency:"XOF",customer_email:_.email,customer_name:_.name,reference:De,callback_url:`${window.location.origin}/payment-callback?registration_doc_id=${we.id}`,metadata:{name:_.name,participantType:_.participantType,registrationDocId:we.id}},Zt=await Zj(St);if(Zt.success&&((Ce=Zt.data)!=null&&Ce.payment_url))A("Succs : Redirection vers la page de paiement..."),setTimeout(()=>{window.location.href=Zt.data.payment_url},500);else throw new Error(Zt.message||Zt.error||"Erreur lors de l'initiation du paiement")}catch(we){console.error("Error saving registration: ",we);let De="Erreur : Impossible d'enregistrer l'inscription. Veuillez ressayer.";we.message&&(we.message.includes("email")||we.message.includes("Email")||we.message.includes("e-mail")?De="Erreur : L'adresse e-mail est incorrecte. Veuillez vrifier votre e-mail.":we.message.includes("name")||we.message.includes("nom")?De="Erreur : Le nom complet est incorrect. Veuillez vrifier votre nom.":we.message.includes("Validation")?De="Erreur : Les informations fournies ne sont pas valides. Veuillez vrifier votre e-mail et votre nom complet.":De=`Erreur : ${we.message}`),A(De),U(!1)}},Y="w-full px-4 py-3 bg-white border border-neutral-300 rounded-lg shadow-sm transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent font-body",ue=Z=>`w-full px-4 py-3 bg-white border rounded-lg shadow-sm transition duration-300 ease-in-out focus:outline-none focus:ring-2 font-body ${Z?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-neutral-300 focus:ring-secondary focus:border-transparent"}`,te="block text-neutral-700 font-semibold mb-2 font-sans",fe="text-red-600 text-sm mt-1 font-body",ae=V.useRef(null),F=V.useRef(null);V.useEffect(()=>{const Z=ae.current,le=F.current;if(!Z||!le)return;const xe=()=>{let we=0;le.childNodes.forEach(ts=>{ts instanceof HTMLElement&&(we+=ts.offsetWidth+48)});const De=-we,Zt=Math.max(10,Math.round(Math.abs(De)*.015));le.style.setProperty("--scroll-end",`${De}px`),le.style.setProperty("--scroll-duration",`${Zt}s`)};xe();const Ce=new ResizeObserver(()=>xe());return Ce.observe(Z),()=>Ce.disconnect()},[]);const{t:j}=_h(),be=V.useMemo(()=>[{date:j("tl_1_date"),description:j("tl_1_desc"),icon:"",status:"upcoming"},{date:j("tl_2_date"),description:j("tl_2_desc"),icon:"",status:"upcoming"},{date:j("tl_3_date"),description:j("tl_3_desc"),icon:"",status:"upcoming"},{date:j("tl_4_date"),description:j("tl_4_desc"),icon:"",status:"upcoming"},{date:j("tl_5_date"),description:j("tl_5_desc"),icon:"",isHighlighted:!0,status:"upcoming"}],[j]);return f.jsxs("div",{className:"bg-neutral-100 font-body",children:[f.jsx(W2,{}),f.jsx(Qj,{}),f.jsx(Yj,{}),f.jsxs("main",{children:[f.jsxs("section",{id:"accueil",className:"relative text-white pt-32 pb-24 text-center overflow-hidden flex flex-col items-center justify-center min-h-screen",children:[f.jsx("div",{className:"absolute inset-0 hero-bg"}),f.jsx("div",{className:"absolute inset-0 bg-primary/40"}),f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40",style:{backgroundImage:"url('/img/arr.png')"}}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[f.jsx("div",{className:"mb-8 animate-fade-in-up overflow-hidden",style:{animationDelay:"0.1s"},children:f.jsx("div",{className:"mx-auto w-[1200px] overflow-hidden",ref:ae,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-12 whitespace-nowrap",style:{"--scroll-end":"-100%","--scroll-duration":"20s"},ref:F,children:[...Cp,...Cp].map((Z,le)=>f.jsxs("div",{className:"flex-shrink-0 group",children:[f.jsx("div",{className:"w-20 h-20 bg-pure-white rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 border border-gray-100",children:f.jsx("img",{src:Z.logo,alt:`Logo ${Z.name}`,className:"max-w-16 max-h-16 object-contain transition-all duration-300 group-hover:scale-110",onError:xe=>{const Ce=xe.target;Ce.style.display="none";const we=Ce.parentElement;we&&(we.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center">
                      <div class="text-gray-600 font-bold text-sm text-center leading-tight">
                        ${Z.name.split(" ").map(De=>De.charAt(0)).join("")}
                      </div>
                    </div>
                  `)}})}),f.jsxs("div",{className:"mt-2 text-center",children:[f.jsx("span",{className:"text-xs text-white/90 font-medium leading-tight block max-w-20",children:Z.name}),f.jsx("span",{className:"text-xs text-white/70 block mt-1",children:Z.pays})]})]},`${Z.name}-${le}`))})})}),f.jsx("h1",{className:"text-6xl md:text-8xl font-black leading-tight mb-4 animate-fade-in-up relative",style:{animationDelay:"0.7s"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"relative text-white",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg)",textShadow:"0 0 0px transparent"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/60 transform translate-x-2 translate-y-2",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(2px) translateY(2px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/40 transform translate-x-4 translate-y-4",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(4px) translateY(4px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/20 transform translate-x-6 translate-y-6",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(6px) translateY(6px)"},children:"CoSTIC 2026"})]})}),f.jsxs("div",{className:"flex flex-col items-center space-y-4 text-neutral-100 mb-8 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsxs("div",{className:"flex justify-center items-center space-x-6 text-neutral-100",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{className:"text-xl font-semibold",children:j("date_value")})]}),f.jsxs("span",{className:"flex items-center",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{className:"text-xl font-semibold",children:j("place_value")})]})]}),f.jsx("div",{className:"text-center max-w-4xl",children:f.jsxs("p",{className:"text-2xl md:text-3xl text-white font-bold",children:[" ",j("theme_value")," "]})})]}),f.jsx("div",{className:"mb-12 animate-fade-in-up",style:{animationDelay:"1.0s"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-500 rounded-full blur-xl opacity-40"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/30 via-blue-500/30 to-blue-400/30 rounded-full blur-lg opacity-60"}),f.jsx("div",{className:"relative",children:f.jsxs("p",{className:"text-2xl md:text-3xl font-bold tracking-wider",children:[f.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-white to-blue-500 bg-clip-text text-transparent",children:"Organis par L"}),f.jsxs("span",{className:"text-white font-extrabold relative",children:["ASTIC",f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-500 opacity-20 blur-sm"})]})]})}),f.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent rounded-full"})]})}),f.jsx("div",{className:"mb-12 animate-fade-in-up",style:{animationDelay:"0.7s"},children:f.jsx(tL,{})}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsx("a",{href:"#soumission",className:"bg-accent text-white font-bold py-4 px-10 rounded-full hover:bg-accent/90 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:j("hero_submit")}),f.jsx("a",{href:"#inscription",className:"bg-white text-primary font-bold py-4 px-10 rounded-full hover:bg-neutral-200 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:j("hero_register")}),f.jsx("a",{href:"#partenariat",className:"bg-secondary text-white font-bold py-4 px-10 rounded-full hover:bg-secondary/90 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:j("hero_partner")})]})]})]}),f.jsx(Wn,{title:j("context_title"),children:f.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center",children:[f.jsxs(Dt,{animationClass:"animate-slide-in-left",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:j("context_heading")}),f.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed mb-6",children:j("context_paragraph")}),f.jsx("blockquote",{className:"border-l-4 border-secondary pl-6 italic bg-neutral-100 p-4 rounded-r-lg",children:f.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed",children:j("context_quote")})})]}),f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsx("div",{className:"hidden md:flex justify-center items-center",children:f.jsxs("div",{className:"relative w-full max-w-sm h-80",children:[f.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-secondary rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),f.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob",style:{animationDelay:"2s"}}),f.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-primary rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob",style:{animationDelay:"4s"}}),f.jsx("div",{className:"relative flex justify-center items-center h-full",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-48 h-48 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9m18 9a9 9 0 01-18 0m18 0A9 9 0 003 12m18 0V3"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z",fill:"#0D47A1",stroke:"none"}),f.jsx("circle",{cx:"3.5",cy:"12",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"20.5",cy:"12",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"12",cy:"3.5",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"12",cy:"20.5",r:"1.5",fill:"#1976D2"})]})})]})})})]})}),f.jsx(Wn,{title:j("timeline_title"),className:"bg-neutral-50",children:f.jsx(Hj,{events:be})}),f.jsx(Wn,{title:j("place_title"),className:"bg-neutral-50",children:f.jsxs("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[f.jsx(Dt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"text-left",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"bg-secondary/10 text-primary rounded-full p-3 mr-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-primary font-sans",children:j("date_label")}),f.jsx("p",{className:"text-lg text-neutral-600",children:j("date_value")})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"bg-secondary/10 text-primary rounded-full p-3 mr-4",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-primary font-sans",children:j("place_label")}),f.jsx("p",{className:"text-lg text-neutral-600",children:j("place_value")})]})]})]})}),f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsx("div",{className:"rounded-xl overflow-hidden shadow-xl h-72 border-4 border-white group",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3972.19532889966!2d-3.999518685686034!3d5.388839936551699!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xfc1934399f36f47%3A0x774e9892f39234b3!2sESATIC!5e0!3m2!1sfr!2sci!4v1655823521345!5m2!1sfr!2sci",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Carte de l'ESATIC",className:"transition-transform duration-500 group-hover:scale-105"})})})]})}),f.jsx(Wn,{title:j("goals_title"),children:f.jsxs("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[f.jsx(Dt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-primary text-white p-8 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 -rotate-1",children:[f.jsx("h3",{className:"text-3xl font-bold mb-4 font-sans",children:j("general_objective_title")}),f.jsx("p",{className:"text-neutral-200 text-lg leading-relaxed",children:j("general_objective_text")})]})}),f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-3xl font-bold mb-6 text-primary font-sans",children:j("specific_objectives_title")}),f.jsx("ul",{className:"space-y-4",children:[j("so_1"),j("so_2"),j("so_3"),j("so_4")].map((Z,le)=>f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150+le*100,children:f.jsxs("li",{className:"flex items-start",children:[f.jsx("svg",{className:"w-7 h-7 text-accent mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 text-lg",children:Z})]})},Z))})]})})]})}),f.jsx("div",{id:"soumission",children:f.jsx(Wn,{title:j("cfp_title"),className:"bg-neutral-50",children:f.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12 items-start",children:[f.jsx(Dt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-neutral-100 p-8 rounded-xl border border-neutral-200 h-full",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:j("theme_general_title")}),f.jsx("p",{className:"text-xl text-neutral-600 italic mb-8",children:j("theme_general_text")}),f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:j("submission_modalities_title")}),f.jsx("ul",{className:"space-y-4 mb-8",children:[{title:j("modality_format_title"),desc:j("modality_format_desc"),icon:f.jsx("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{title:j("modality_lang_title"),desc:j("modality_lang_desc"),icon:f.jsx("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m4-2v2M3 17h16M21 17v-2a2 2 0 00-2-2H5a2 2 0 00-2 2v2m18 0v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2m18 0H3"})})},{title:j("modality_pub_title"),desc:j("modality_pub_desc"),icon:f.jsxs("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),f.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20"})]})}].map(Z=>f.jsxs("li",{className:"flex items-start",children:[Z.icon,f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-neutral-800 dark:text-neutral-100 font-sans",children:Z.title}),f.jsx("p",{className:"text-neutral-600 dark:text-neutral-200",children:Z.desc})]})]},Z.title))}),f.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-neutral-200",children:[f.jsx("h4",{className:"font-bold text-neutral-800 font-sans mb-3",children:j("models_title")}),f.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:j("models_desc")}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("a",{href:"/templates/exemple_CoSTIC2026.doc",target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await Fs(wn(Rt,"templateDownloads"),{format:"docx",path:"/templates/exemple_CoSTIC2026.doc",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",downloadedAt:jn()})}catch(Z){console.error("Erreur de tracking modle DOCX",Z)}},className:"inline-flex items-center gap-2 bg-primary text-white font-semibold py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors text-sm",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M19 2H8a2 2 0 0 0-2 2v3h2V4h11v16H8v-3H6v3a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"}),f.jsx("path",{d:"M13 12H4.83l2.58-2.59L6 8l-5 5 5 5 1.41-1.41L4.83 14H13v-2Z"})]}),j("model_word")]}),f.jsxs("a",{href:"/templates/CoSTIC_2026_latex_template.zip",target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await Fs(wn(Rt,"templateDownloads"),{format:"latex",path:"/templates/CoSTIC_2026_latex_template.zip",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",downloadedAt:jn()})}catch(Z){console.error("Erreur de tracking modle LaTeX",Z)}},className:"inline-flex items-center gap-2 bg-secondary text-white font-semibold py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v12h2V4h8V2Zm4 4h-8a2 2 0 0 0-2 2v12h10a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Zm0 12H8V8h10v10Z"})}),j("model_latex")]}),f.jsxs("a",{href:"/templates/track_version_beta.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-accent text-white font-semibold py-2 px-4 rounded-lg hover:bg-accent/90 transition-colors text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),j("track_download")]})]})]})]})}),f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-6 font-sans",children:j("submission_form_title")}),f.jsx("form",{onSubmit:k,children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"authorName",className:te,children:j("label_author_name")}),f.jsx("input",{type:"text",id:"authorName",value:e.authorName,onChange:S,className:Y,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"authorEmail",className:te,children:j("label_author_email")}),f.jsx("input",{type:"email",id:"authorEmail",value:e.authorEmail,onChange:S,className:Y,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"affiliation",className:te,children:j("label_affiliation")}),f.jsx("input",{type:"text",id:"affiliation",value:e.affiliation,onChange:S,className:Y,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"articleTitle",className:te,children:j("label_article_title")}),f.jsx("input",{type:"text",id:"articleTitle",value:e.articleTitle,onChange:S,className:Y,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"themeSelect",className:te,children:j("label_theme_select")}),f.jsxs("select",{id:"themeSelect",value:e.themeSelect,onChange:S,className:Y,disabled:d,children:[f.jsx("option",{value:"",children:j("theme_placeholder")}),nL.map(Z=>f.jsx("option",{value:Z.title,children:Z.title},Z.title))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fileUpload",className:te,children:j("label_file_upload")}),f.jsx("input",{type:"file",id:"fileUpload",onChange:$,accept:".pdf",className:"w-full text-sm text-neutral-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-secondary/10 file:text-primary hover:file:bg-secondary/20 cursor-pointer font-body",required:!0,disabled:d})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-lg hover:bg-primary/90 transition-all duration-300 text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed flex justify-center items-center",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),j("submitting_text")]}):j("submit_article_btn")}),a&&f.jsx("p",{className:`mt-4 text-center text-sm ${a.startsWith("Erreur")||a.startsWith("Error")?"text-red-600":"text-green-600"}`,children:a})]})})]})})]})})}),f.jsx("div",{id:"inscription",children:f.jsx(Wn,{title:j("registration_title"),children:f.jsx(Dt,{animationClass:"animate-slide-in-bottom",children:f.jsxs("div",{className:"max-w-5xl mx-auto p-8 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700",children:[f.jsx("p",{className:"text-center text-lg text-neutral-600 mb-10 max-w-2xl mx-auto",children:j("registration_intro")}),T&&f.jsx("div",{className:`mb-6 p-4 rounded-lg ${T.startsWith("Erreur")?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"}`,children:f.jsxs("div",{className:"flex items-start",children:[T.startsWith("Erreur")?f.jsx("svg",{className:"w-5 h-5 text-red-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):f.jsx("svg",{className:"w-5 h-5 text-green-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:`text-sm font-medium ${T.startsWith("Erreur")?"text-red-800":"text-green-800"}`,children:T})]})}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("form",{onSubmit:$e,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:te,children:j("label_name")}),f.jsx("input",{type:"text",id:"name",value:_.name,onChange:C,onBlur:()=>P("name"),className:ue(se.name&&!!Q.name),required:!0,disabled:b,placeholder:"Ex: Jean Luc"}),se.name&&Q.name&&f.jsx("p",{className:fe,children:Q.name})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:te,children:j("label_email")}),f.jsx("input",{type:"email",id:"email",value:_.email,onChange:C,onBlur:()=>P("email"),className:ue(se.email&&!!Q.email),required:!0,disabled:b,placeholder:"Ex: jean.luc@exemple.com"}),se.email&&Q.email&&f.jsx("p",{className:fe,children:Q.email})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"participantType",className:te,children:j("label_participant_type")}),f.jsxs("select",{id:"participantType",value:_.participantType,onChange:C,className:ue(!1),disabled:b,children:[f.jsx("option",{value:"chercheur",children:j("option_researcher")}),f.jsx("option",{value:"etudiant",children:j("option_student")})]})]})]}),f.jsxs("div",{className:"bg-neutral-100 p-8 rounded-xl border border-neutral-200",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-6 border-b border-neutral-200 pb-4 font-sans",children:j("summary_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-lg",children:[f.jsx("span",{className:"text-neutral-600",children:j("summary_category")}),f.jsx("span",{className:"font-bold text-primary font-sans",children:_.participantType==="etudiant"?"tudiant":"Chercheur"})]}),f.jsxs("div",{className:"flex justify-between items-center text-3xl pt-4",children:[f.jsx("span",{className:"text-neutral-600 font-sans",children:j("summary_total")}),f.jsx("div",{className:"text-right",children:f.jsx("span",{className:"font-extrabold text-primary font-sans",children:_.participantType==="etudiant"?"35 000 FCFA":"50 000 FCFA"})})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("button",{onClick:$e,disabled:b||!D(),className:"w-full bg-accent text-white font-bold py-4 px-10 rounded-lg hover:bg-accent/90 transition-all duration-300 text-lg inline-flex items-center justify-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed disabled:hover:transform-none disabled:hover:shadow-md",children:b?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),j("registering_text")]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),j("pay_btn")]})}),f.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:j("payment_note")})]})]})]})]})})})}),f.jsx("div",{id:"comite-scientifique",children:f.jsxs(Wn,{title:j("participants_title"),className:"bg-neutral-50",children:[f.jsx(Dt,{animationClass:"animate-slide-in-bottom",children:f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:j("committee_title")}),f.jsx("p",{className:"text-lg text-neutral-600 max-w-3xl mx-auto",children:j("committee_paragraph")})]})}),f.jsx(Wj,{}),f.jsx(Dt,{animationClass:"animate-slide-in-bottom",delay:100,children:f.jsxs("div",{className:"mt-16",children:[f.jsx("div",{className:"text-center mb-8",children:f.jsx("h4",{className:"text-xl font-bold text-primary mb-4 font-sans",children:j("committee_thematic_title")})}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-primary",children:[f.jsx("h5",{className:"font-bold text-primary mb-3 text-sm",children:j("thematic_math")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_math_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-secondary",children:[f.jsx("h5",{className:"font-bold text-secondary mb-3 text-sm",children:j("thematic_ai")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_ai_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-accent",children:[f.jsx("h5",{className:"font-bold text-accent mb-3 text-sm",children:j("thematic_networks")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_networks_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:[f.jsx("h5",{className:"font-bold text-red-500 mb-3 text-sm",children:j("thematic_cyber")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_cyber_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[f.jsx("h5",{className:"font-bold text-green-500 mb-3 text-sm",children:j("thematic_governance")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_governance_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:[f.jsx("h5",{className:"font-bold text-purple-500 mb-3 text-sm",children:j("thematic_coordination")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("thematic_coordination_responsibles")})]})]})]})}),f.jsx(Dt,{animationClass:"animate-slide-in-bottom",delay:200,children:f.jsxs("div",{className:"mt-16",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:j("partnerships_title")}),f.jsx("p",{className:"text-lg text-neutral-600 max-w-3xl mx-auto",children:j("partnerships_paragraph")})]}),f.jsx(Kj,{}),f.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:j("partner_card_1_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("partner_card_1_desc")})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:j("partner_card_2_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("partner_card_2_desc")})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:j("partner_card_3_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:j("partner_card_3_desc")})]})]})]})})]})}),f.jsx(Wn,{title:j("publications_title"),children:f.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-8",children:[f.jsx(Dt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-primary text-white p-10 rounded-xl flex flex-col items-center text-center shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[f.jsx("div",{className:"mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),f.jsx("h3",{className:"text-3xl font-bold mb-4 font-sans",children:j("proceedings_title")}),f.jsx("p",{className:"text-neutral-200 text-lg mb-6 max-w-md",children:j("proceedings_text")}),f.jsx("a",{href:"#",className:"bg-neutral-600 text-white font-bold py-3 px-8 rounded-lg text-lg cursor-not-allowed opacity-75 font-sans",children:j("proceedings_soon")})]})}),f.jsx(Dt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-10 rounded-xl shadow-lg border border-neutral-100 dark:border-neutral-700 flex flex-col items-center text-center hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[f.jsx("div",{className:"mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-2.236 9.168-5.514C18.358 1.84 18.668 1.5 19 1.5v1.5a1.5 1.5 0 01-1.5 1.5H16v2.083a6.001 6.001 0 00-6 6H6.436z"})})}),f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:j("journal_title")}),f.jsx("p",{className:"text-neutral-700 text-lg max-w-md",children:j("journal_text")})]})})]})}),f.jsx(Wn,{title:j("outcomes_title"),className:"bg-neutral-50",children:f.jsx(Gj,{})}),f.jsx("div",{id:"partenariat",children:f.jsx(Wn,{title:"",className:"bg-white",children:f.jsx(Xj,{})})}),f.jsx("div",{id:"a-propos",children:f.jsxs(Wn,{title:j("section_about_title"),className:"bg-neutral-50",children:[f.jsx(Dt,{animationClass:"animate-slide-in-bottom",children:f.jsx("p",{className:"text-center text-lg text-neutral-600 mb-12 max-w-3xl mx-auto",children:j("about_paragraph")})}),f.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8",children:[{title:"Notre Mission",description:"Valoriser les travaux des chercheurs, stimuler l'innovation et favoriser les changes entre le monde acadmique et le secteur priv pour rpondre aux dfis du continent.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),borderColor:"border-secondary"},{title:"Notre Vision",description:"Devenir le carrefour de rfrence pour la recherche en TIC en Afrique, o les ides novatrices se transforment en solutions concrtes pour un dveloppement durable.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M12 5l7 7-7 7"})}),borderColor:"border-primary"},{title:"Nos Valeurs",description:"Nous promouvons l'Excellence scientifique, le Partage des connaissances, l'Innovation technologique et la Collaboration intersectorielle.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),borderColor:"border-secondary"}].map((Z,le)=>f.jsx(Dt,{animationClass:"animate-slide-in-bottom",delay:le*150,children:f.jsxs("div",{className:`bg-white h-full p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 ${Z.borderColor} text-center`,children:[f.jsx("div",{className:"inline-block bg-secondary/10 text-primary p-4 rounded-full mb-4",children:Z.icon}),f.jsx("h3",{className:"text-2xl font-bold text-primary mb-3 font-sans",children:Z.title}),f.jsx("p",{className:"text-neutral-600 leading-relaxed",children:Z.description})]})},Z.title))})]})})]}),f.jsx(qj,{})]})},sL=({onLoginSuccess:n})=>{const[e,t]=V.useState(""),[r,i]=V.useState(""),[a,u]=V.useState(""),[d,p]=V.useState(!1),g=async _=>{_.preventDefault(),p(!0),u("");try{await b4($m,e,r),n()}catch(x){console.error("Erreur de connexion:",x),u("Email ou mot de passe incorrect")}finally{p(!1)}};return f.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full p-8 space-y-8 bg-white rounded-xl shadow-lg transform transition-all duration-300 hover:shadow-2xl",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"mt-2 text-center text-4xl font-extrabold text-primary font-sans tracking-tight",children:"Accs Administrateur"}),f.jsx("p",{className:"mt-4 text-center text-base text-neutral-500",children:"Grez le CoSTIC 2026 en toute simplicit."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[f.jsxs("div",{className:"space-y-4",children:[" ",f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Adresse email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-neutral-300 placeholder-neutral-400 text-neutral-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent sm:text-sm transition duration-150 ease-in-out",placeholder:"Adresse email",value:e,onChange:_=>t(_.target.value),disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-neutral-300 placeholder-neutral-400 text-neutral-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent sm:text-sm transition duration-150 ease-in-out",placeholder:"Mot de passe",value:r,onChange:_=>i(_.target.value),disabled:d})]})]}),a&&f.jsx("div",{className:"bg-red-50 p-3 rounded-md animate-fade-in",children:f.jsxs("div",{className:"text-sm text-red-700 flex items-center",children:[f.jsx("svg",{className:"h-5 w-5 mr-2 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a]})}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-semibold rounded-lg text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-60 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion en cours..."]}):"Se connecter"})})]})]})})},iL=()=>{const[n,e]=V.useState([]),[t,r]=V.useState([]),[i,a]=V.useState(!0),[u,d]=V.useState(null),[p,g]=V.useState(!1),[_,x]=V.useState(""),[T,A]=V.useState("all"),[b,U]=V.useState("all"),[L,G]=V.useState({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"}),[Q,K]=V.useState(null),[se,ye]=V.useState(!1);V.useEffect(()=>{me()},[]),V.useEffect(()=>{N()},[n,_,T,b]);const me=async()=>{try{const ue=(await Il(wn(Rt,"partenaires"))).docs.map(ae=>({id:ae.id,...ae.data(),source:"firebase"})),fe=[...Cp.map((ae,F)=>({id:`statique-${F}`,nom:ae.name,pays:ae.pays,email:"",telephone:"",siteWeb:ae.siteWeb||"",description:ae.name,typePartenaire:"institutionnel",logoUrl:ae.logo,statut:"approuve",dateSoumission:null,source:"statique"})),...ue];e(fe)}catch(Y){console.error("Erreur lors du chargement des partenaires:",Y)}finally{a(!1)}},N=()=>{let Y=n;_&&(Y=Y.filter(ue=>ue.nom.toLowerCase().includes(_.toLowerCase())||ue.email.toLowerCase().includes(_.toLowerCase())||ue.pays.toLowerCase().includes(_.toLowerCase()))),T!=="all"&&(Y=Y.filter(ue=>ue.statut===T)),b!=="all"&&(Y=Y.filter(ue=>ue.typePartenaire===b)),r(Y)},S=Y=>{const{name:ue,value:te}=Y.target;G(fe=>({...fe,[ue]:te}))},C=Y=>{Y.target.files&&Y.target.files[0]&&K(Y.target.files[0])},P=async Y=>{Y.preventDefault(),ye(!0);try{let ue="";if(Q){const te=ah(ph,`partenaires/${Date.now()}_${Q.name}`);await Nm(te,Q),ue=await Pm(te)}u?await sh(Ko(Rt,"partenaires",u.id),{...L,logoUrl:ue||u.logoUrl,dateModification:jn()}):await Fs(wn(Rt,"partenaires"),{...L,logoUrl:ue,dateSoumission:jn()}),G({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"}),K(null),d(null),g(!1),me()}catch(ue){console.error("Erreur lors de la sauvegarde:",ue)}finally{ye(!1)}},D=Y=>{if(console.log("handleEdit called with:",Y),Y.source==="statique"){alert("Impossible de modifier un partenaire statique. Seuls les partenaires ajouts via l'admin peuvent tre modifis.");return}console.log("Setting form data for editing:",Y),G({nom:Y.nom,pays:Y.pays,email:Y.email,telephone:Y.telephone||"",siteWeb:Y.siteWeb||"",description:Y.description,typePartenaire:Y.typePartenaire,statut:Y.statut}),d(Y),g(!0),console.log("Form should be visible now")},$=async Y=>{if(console.log("handleDelete called with:",Y),Y.source==="statique"){alert("Impossible de supprimer un partenaire statique. Seuls les partenaires ajouts via l'admin peuvent tre supprims.");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${Y.nom} ?`))try{if(console.log("Starting deletion process..."),Y.logoUrl){console.log("Deleting logo from storage:",Y.logoUrl);const ue=ah(ph,Y.logoUrl);await IP(ue)}console.log("Deleting document from Firestore:",Y.id),await Wk(Ko(Rt,"partenaires",Y.id)),console.log("Document deleted successfully, refreshing list..."),me()}catch(ue){console.error("Erreur lors de la suppression:",ue),alert("Erreur lors de la suppression: "+ue.message)}},k=async(Y,ue)=>{if(Y.source==="statique"){alert("Impossible de modifier le statut d'un partenaire statique.");return}try{await sh(Ko(Rt,"partenaires",Y.id),{statut:ue,dateModification:jn()}),me()}catch(te){console.error("Erreur lors du changement de statut:",te)}},Se="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",$e="block text-sm font-medium text-gray-700 mb-1";return i?f.jsx("div",{className:"p-8 text-center",children:"Chargement..."}):f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Gestion des Partenaires"}),f.jsx("p",{className:"text-neutral-600",children:"Grez les partenaires du colloque CoSTIC 2026"})]}),f.jsxs("button",{onClick:()=>{d(null),g(!0),G({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"})},className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),f.jsx("span",{children:"Ajouter un Partenaire"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Recherche"}),f.jsx("input",{type:"text",placeholder:"Nom, email, pays...",value:_,onChange:Y=>x(Y.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Statut"}),f.jsxs("select",{value:T,onChange:Y=>A(Y.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[f.jsx("option",{value:"all",children:"Tous les statuts"}),f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Type"}),f.jsxs("select",{value:b,onChange:Y=>U(Y.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[f.jsx("option",{value:"all",children:"Tous les types"}),f.jsx("option",{value:"institutionnel",children:"Institutionnel"}),f.jsx("option",{value:"entreprise",children:"Entreprise"}),f.jsx("option",{value:"organisation",children:"Organisation"}),f.jsx("option",{value:"gouvernemental",children:"Gouvernemental"}),f.jsx("option",{value:"media",children:"Mdia"}),f.jsx("option",{value:"autre",children:"Autre"})]})]}),f.jsx("div",{className:"flex items-end",children:f.jsx("button",{onClick:()=>{x(""),A("all"),U("all")},className:"w-full bg-neutral-500 text-white px-4 py-2 rounded-md hover:bg-neutral-600 transition-colors",children:"Rinitialiser"})})]})]}),p&&f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Modifier le Partenaire":"Nouveau Partenaire"}),f.jsxs("form",{onSubmit:P,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Nom *"}),f.jsx("input",{type:"text",name:"nom",value:L.nom,onChange:S,className:Se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Pays *"}),f.jsx("input",{type:"text",name:"pays",value:L.pays,onChange:S,className:Se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Email *"}),f.jsx("input",{type:"email",name:"email",value:L.email,onChange:S,className:Se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Tlphone"}),f.jsx("input",{type:"tel",name:"telephone",value:L.telephone,onChange:S,className:Se})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Site Web"}),f.jsx("input",{type:"url",name:"siteWeb",value:L.siteWeb,onChange:S,className:Se})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Type de Partenaire"}),f.jsxs("select",{name:"typePartenaire",value:L.typePartenaire,onChange:S,className:Se,children:[f.jsx("option",{value:"institutionnel",children:"Institutionnel"}),f.jsx("option",{value:"entreprise",children:"Entreprise"}),f.jsx("option",{value:"organisation",children:"Organisation"}),f.jsx("option",{value:"gouvernemental",children:"Gouvernemental"}),f.jsx("option",{value:"media",children:"Mdia"}),f.jsx("option",{value:"autre",children:"Autre"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:$e,children:"Statut"}),f.jsxs("select",{name:"statut",value:L.statut,onChange:S,className:Se,children:[f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:$e,children:"Description *"}),f.jsx("textarea",{name:"description",value:L.description,onChange:S,className:Se,rows:3,required:!0})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:$e,children:"Logo"}),f.jsx("input",{type:"file",onChange:C,accept:"image/*",className:Se})]}),f.jsxs("div",{className:"md:col-span-2 flex space-x-4",children:[f.jsx("button",{type:"submit",disabled:se,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",children:se?"Sauvegarde...":"Sauvegarder"}),f.jsx("button",{type:"button",onClick:()=>g(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Annuler"})]})]})]}),f.jsx("div",{className:"px-6 py-4 bg-neutral-50 border-b border-neutral-200",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-primary",children:n.length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Total"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(Y=>Y.statut==="approuve").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Approuvs"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.filter(Y=>Y.statut==="en_attente").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"En Attente"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(Y=>Y.statut==="rejete").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Rejets"})]})]})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Partenaire"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Pays"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Type"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Source"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Statut"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:t.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[Y.logoUrl&&f.jsx("img",{className:"h-10 w-10 rounded-full mr-3",src:Y.logoUrl,alt:Y.nom}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.nom}),f.jsx("div",{className:"text-sm text-gray-500",children:Y.email})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.pays}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y.typePartenaire}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Y.source==="statique"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:Y.source==="statique"?"Statique":"Admin"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y.source==="statique"?f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Approuv"}):f.jsxs("select",{value:Y.statut,onChange:ue=>k(Y,ue.target.value),className:`text-sm px-2 py-1 rounded-full ${Y.statut==="approuve"?"bg-green-100 text-green-800":Y.statut==="en_attente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),console.log("Edit button clicked for:",Y),D(Y)},disabled:Y.source==="statique",className:`flex items-center space-x-1 ${Y.source==="statique"?"text-gray-400 cursor-not-allowed":"text-primary hover:text-primary/80"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{children:"Modifier"})]}),f.jsxs("button",{onClick:ue=>{ue.preventDefault(),ue.stopPropagation(),console.log("Delete button clicked for:",Y),$(Y)},disabled:Y.source==="statique",className:`flex items-center space-x-1 ${Y.source==="statique"?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.jsx("span",{children:"Supprimer"})]})]})})]},Y.id))})]}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),f.jsx("p",{className:"text-neutral-500",children:n.length===0?"Aucun partenaire enregistr pour le moment":"Aucun partenaire ne correspond aux critres de recherche"})]})]})]})},oL=()=>{const[n,e]=V.useState("submissions"),[t,r]=V.useState([]),[i,a]=V.useState([]),[u,d]=V.useState([]),[p,g]=V.useState(!0);V.useEffect(()=>{_()},[]);const _=async()=>{g(!0);try{const b=Oc(wn(Rt,"submissions"),Vc("submittedAt","desc")),L=(await Il(b)).docs.map(N=>({id:N.id,...N.data()})),G=Oc(wn(Rt,"registrations"),Vc("registeredAt","desc")),K=(await Il(G)).docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.paymentStatus==="completed");r(L),a(K);const se=Oc(wn(Rt,"templateDownloads"),Vc("downloadedAt","desc")),me=(await Il(se)).docs.map(N=>({id:N.id,...N.data()}));d(me)}catch(b){console.error("Erreur lors du chargement des donnes:",b)}finally{g(!1)}},x=async()=>{try{await R4($m)}catch(b){console.error("Erreur lors de la dconnexion:",b)}},T=async(b,U)=>{try{const G=await(await fetch(b)).blob(),Q=window.URL.createObjectURL(G),K=document.createElement("a");K.href=Q,K.download=U,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(K)}catch(L){console.error("Erreur lors du tlchargement:",L),alert("Erreur lors du tlchargement du fichier")}},A=b=>b?(b.toDate?b.toDate():new Date(b)).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return p?f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("p",{className:"text-neutral-600",children:"Chargement des donnes..."})]})}):f.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[f.jsx("header",{className:"bg-primary text-white shadow-lg",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold font-sans",children:"Dashboard Administrateur"}),f.jsx("p",{className:"text-neutral-200",children:"CoSTIC 2026 - Gestion du Colloque"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsxs("a",{href:"/",className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),f.jsx("span",{children:"Accueil"})]}),f.jsxs("button",{onClick:x,className:"bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),f.jsx("span",{children:"Dconnexion"})]})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[f.jsx("div",{className:"border-b border-neutral-200",children:f.jsxs("nav",{className:"-mb-px flex space-x-8",children:[f.jsxs("button",{onClick:()=>e("submissions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="submissions"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:["Articles Soumis (",t.length,")"]}),f.jsxs("button",{onClick:()=>e("participants"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="participants"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:["Participants (",i.length,")"]}),f.jsx("button",{onClick:()=>e("partenaires"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="partenaires"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:"Partenaires"}),f.jsx("button",{onClick:()=>e("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="templates"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:"Modles"})]})}),f.jsxs("div",{className:"mt-8",children:[n==="submissions"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Articles Soumis"}),f.jsx("p",{className:"text-neutral-600",children:"Liste de tous les articles soumis au colloque"})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Auteur"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Titre"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Thmatique"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:t.map(b=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-neutral-900",children:b.authorName}),f.jsx("div",{className:"text-sm text-neutral-500",children:b.authorEmail}),f.jsx("div",{className:"text-sm text-neutral-500",children:b.affiliation})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm text-neutral-900 max-w-xs truncate",title:b.articleTitle,children:b.articleTitle})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-secondary/10 text-secondary",children:b.themeSelect||"Non spcifi"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:A(b.submittedAt)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("button",{onClick:()=>T(b.fileUrl,b.fileName),className:"text-primary hover:text-primary/80 flex items-center space-x-1",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("span",{children:"Tlcharger"})]})})]},b.id))})]}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun article soumis pour le moment"})]})]})]}),n==="participants"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Participants Inscrits"}),f.jsx("p",{className:"text-neutral-600",children:"Liste des participants ayant effectu leur paiement"})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Nom"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Type"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Montant"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Rfrence"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:i.map(b=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-neutral-900",children:b.name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:b.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b.participantType==="etudiant"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:b.participantType==="etudiant"?"tudiant":"Chercheur"})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900",children:[b.amount.toLocaleString()," ",b.currency]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 font-mono",children:b.paymentReference||"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:A(b.paymentDate||b.registeredAt)})]},b.id))})]}),i.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun participant inscrit pour le moment"})]})]})]}),n==="partenaires"&&f.jsx(iL,{}),n==="templates"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Tlchargements des Modles"}),f.jsx("p",{className:"text-neutral-600",children:"Statistiques et historique des tlchargements (DOCX et LaTeX)"})]}),f.jsxs("button",{onClick:_,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Actualiser"})]})]})}),f.jsxs("div",{className:"px-6 py-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-blue-50",children:[f.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total DOCX"}),f.jsx("div",{className:"text-2xl font-bold text-blue-700",children:u.filter(b=>b.format==="docx").length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-green-50",children:[f.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Total LaTeX"}),f.jsx("div",{className:"text-2xl font-bold text-green-700",children:u.filter(b=>b.format==="latex").length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-neutral-50",children:[f.jsx("div",{className:"text-sm text-neutral-600 font-medium",children:"Total"}),f.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:u.length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-purple-50",children:[f.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Aujourd'hui"}),f.jsx("div",{className:"text-2xl font-bold text-purple-700",children:u.filter(b=>{var G;const U=new Date;return((G=b.downloadedAt)!=null&&G.toDate?b.downloadedAt.toDate():new Date(b.downloadedAt)).toDateString()===U.toDateString()}).length})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Format"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Fichier"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Agent"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:u.map(b=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b.format==="docx"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:b.format.toUpperCase()})}),f.jsx("td",{className:"px-6 py-4 text-sm text-neutral-700",children:b.path}),f.jsx("td",{className:"px-6 py-4 text-xs text-neutral-500 max-w-xs truncate",title:b.userAgent,children:b.userAgent||"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:A(b.downloadedAt)})]},b.id))})]}),u.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun tlchargement enregistr pour le moment"})]})]})]})]})]})]})},aL=()=>{const[n,e]=V.useState(null),[t,r]=V.useState(!0);V.useEffect(()=>{const a=k4($m,u=>{e(u),r(!1)});return()=>a()},[]);const i=()=>{};return t?f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("p",{className:"text-neutral-600",children:"Chargement..."})]})}):f.jsx("div",{children:n?f.jsx(oL,{}):f.jsx(sL,{onLoginSuccess:i})})},lL=()=>{const[n]=UI(),[e,t]=V.useState("loading"),[r,i]=V.useState("");return V.useEffect(()=>{(async()=>{const u=new URLSearchParams(window.location.search),d=u.get("payment_id")||n.get("payment_id"),p=u.get("reference")||n.get("reference"),g=u.get("registration_doc_id")||n.get("registration_doc_id"),_=u.get("status")||n.get("status");if(_==="success"&&d)try{const x=await x_(d);x.success&&x.status==="completed"?(g&&await sh(Ko(Rt,"registrations",g),{paymentStatus:"completed",paymentReference:p||d,paymentDate:jn()}),t("success"),i("Paiement effectu avec succs ! Vous recevrez un email de confirmation."),setTimeout(()=>{window.location.href="/#inscription"},5e3)):(t("error"),i(x.message||"Paiement non complt"))}catch(x){console.error("Erreur vrification paiement:",x),t("error"),i(x.message||"Erreur lors de la vrification du paiement")}else if(_==="cancelled"||_==="failed")t("error"),i("Paiement annul ou chou. Vous pouvez ressayer.");else if(d)try{const x=await x_(d);x.success&&x.status==="completed"?(g&&await sh(Ko(Rt,"registrations",g),{paymentStatus:"completed",paymentReference:p||d,paymentDate:jn()}),t("success"),i("Paiement effectu avec succs !"),setTimeout(()=>{window.location.href="/#inscription"},5e3)):(t("error"),i("Paiement non complt"))}catch{t("error"),i("Erreur lors de la vrification du paiement")}else t("error"),i("Paramtres de paiement manquants")})()},[n]),f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8 text-center",children:[e==="loading"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsxs("svg",{className:"animate-spin h-16 w-16 text-primary mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:"Vrification du paiement..."}),f.jsx("p",{className:"text-neutral-600",children:"Veuillez patienter pendant que nous vrifions votre paiement."})]}),e==="success"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsx("svg",{className:"h-16 w-16 text-green-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4 font-sans",children:"Paiement russi !"}),f.jsx("p",{className:"text-neutral-600 mb-6",children:r}),f.jsx("p",{className:"text-sm text-neutral-500",children:"Vous allez tre redirig dans quelques secondes..."}),f.jsx("button",{onClick:()=>window.location.href="/#inscription",className:"mt-6 bg-accent text-white font-bold py-3 px-6 rounded-lg hover:bg-accent/90 transition-all duration-300 font-sans",children:"Retour  l'accueil"})]}),e==="error"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsx("svg",{className:"h-16 w-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4 font-sans",children:"Paiement chou"}),f.jsx("p",{className:"text-neutral-600 mb-6",children:r}),f.jsx("button",{onClick:()=>window.location.href="/#inscription",className:"mt-6 bg-primary text-white font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 font-sans",children:"Ressayer"})]})]})})},sE=document.getElementById("root");if(!sE)throw new Error("Could not find root element to mount to");const uL=xT.createRoot(sE);uL.render(f.jsx(pT.StrictMode,{children:f.jsx(DI,{children:f.jsxs(hI,{children:[f.jsx(Ac,{path:"/admin",element:f.jsx(aL,{})}),f.jsx(Ac,{path:"/payment-callback",element:f.jsx(lL,{})}),f.jsx(Ac,{path:"/*",element:f.jsx(rL,{})})]})})}));
