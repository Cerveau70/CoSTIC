(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function E_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yf={exports:{}},ul={},vf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function hT(){if(Xy)return je;Xy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function D(F,X,Se){this.props=F,this.context=X,this.refs=U,this.updater=Se||k}D.prototype.isReactComponent={},D.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},D.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function K(){}K.prototype=D.prototype;function Q(F,X,Se){this.props=F,this.context=X,this.refs=U,this.updater=Se||k}var W=Q.prototype=new K;W.constructor=Q,C(W,D.prototype),W.isPureReactComponent=!0;var re=Array.isArray,ye=Object.prototype.hasOwnProperty,me={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(F,X,Se){var Ae,Pe={},Le=null,qe=null;if(X!=null)for(Ae in X.ref!==void 0&&(qe=X.ref),X.key!==void 0&&(Le=""+X.key),X)ye.call(X,Ae)&&!P.hasOwnProperty(Ae)&&(Pe[Ae]=X[Ae]);var Ue=arguments.length-2;if(Ue===1)Pe.children=Se;else if(1<Ue){for(var Ke=Array(Ue),Gt=0;Gt<Ue;Gt++)Ke[Gt]=arguments[Gt+2];Pe.children=Ke}if(F&&F.defaultProps)for(Ae in Ue=F.defaultProps,Ue)Pe[Ae]===void 0&&(Pe[Ae]=Ue[Ae]);return{$$typeof:n,type:F,key:Le,ref:qe,props:Pe,_owner:me.current}}function A(F,X){return{$$typeof:n,type:F.type,key:X,ref:F.ref,props:F.props,_owner:F._owner}}function j(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Se){return X[Se]})}var b=/\/+/g;function R(F,X){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):X.toString(36)}function se(F,X,Se,Ae,Pe){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var qe=!1;if(F===null)qe=!0;else switch(Le){case"string":case"number":qe=!0;break;case"object":switch(F.$$typeof){case n:case e:qe=!0}}if(qe)return qe=F,Pe=Pe(qe),F=Ae===""?"."+R(qe,0):Ae,re(Pe)?(Se="",F!=null&&(Se=F.replace(b,"$&/")+"/"),se(Pe,X,Se,"",function(Gt){return Gt})):Pe!=null&&(j(Pe)&&(Pe=A(Pe,Se+(!Pe.key||qe&&qe.key===Pe.key?"":(""+Pe.key).replace(b,"$&/")+"/")+F)),X.push(Pe)),1;if(qe=0,Ae=Ae===""?".":Ae+":",re(F))for(var Ue=0;Ue<F.length;Ue++){Le=F[Ue];var Ke=Ae+R(Le,Ue);qe+=se(Le,X,Se,Ke,Pe)}else if(Ke=T(F),typeof Ke=="function")for(F=Ke.call(F),Ue=0;!(Le=F.next()).done;)Le=Le.value,Ke=Ae+R(Le,Ue++),qe+=se(Le,X,Se,Ke,Pe);else if(Le==="object")throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return qe}function we(F,X,Se){if(F==null)return F;var Ae=[],Pe=0;return se(F,Ae,"","",function(Le){return X.call(Se,Le,Pe++)}),Ae}function G(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(Se){(F._status===0||F._status===-1)&&(F._status=1,F._result=Se)},function(Se){(F._status===0||F._status===-1)&&(F._status=2,F._result=Se)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var ae={current:null},te={transition:null},ue={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:te,ReactCurrentOwner:me};function le(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:we,forEach:function(F,X,Se){we(F,function(){X.apply(this,arguments)},Se)},count:function(F){var X=0;return we(F,function(){X++}),X},toArray:function(F){return we(F,function(X){return X})||[]},only:function(F){if(!j(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},je.Component=D,je.Fragment=t,je.Profiler=i,je.PureComponent=Q,je.StrictMode=r,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,je.act=le,je.cloneElement=function(F,X,Se){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ae=C({},F.props),Pe=F.key,Le=F.ref,qe=F._owner;if(X!=null){if(X.ref!==void 0&&(Le=X.ref,qe=me.current),X.key!==void 0&&(Pe=""+X.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for(Ke in X)ye.call(X,Ke)&&!P.hasOwnProperty(Ke)&&(Ae[Ke]=X[Ke]===void 0&&Ue!==void 0?Ue[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)Ae.children=Se;else if(1<Ke){Ue=Array(Ke);for(var Gt=0;Gt<Ke;Gt++)Ue[Gt]=arguments[Gt+2];Ae.children=Ue}return{$$typeof:n,type:F.type,key:Pe,ref:Le,props:Ae,_owner:qe}},je.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},je.createElement=S,je.createFactory=function(F){var X=S.bind(null,F);return X.type=F,X},je.createRef=function(){return{current:null}},je.forwardRef=function(F){return{$$typeof:d,render:F}},je.isValidElement=j,je.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:G}},je.memo=function(F,X){return{$$typeof:g,type:F,compare:X===void 0?null:X}},je.startTransition=function(F){var X=te.transition;te.transition={};try{F()}finally{te.transition=X}},je.unstable_act=le,je.useCallback=function(F,X){return ae.current.useCallback(F,X)},je.useContext=function(F){return ae.current.useContext(F)},je.useDebugValue=function(){},je.useDeferredValue=function(F){return ae.current.useDeferredValue(F)},je.useEffect=function(F,X){return ae.current.useEffect(F,X)},je.useId=function(){return ae.current.useId()},je.useImperativeHandle=function(F,X,Se){return ae.current.useImperativeHandle(F,X,Se)},je.useInsertionEffect=function(F,X){return ae.current.useInsertionEffect(F,X)},je.useLayoutEffect=function(F,X){return ae.current.useLayoutEffect(F,X)},je.useMemo=function(F,X){return ae.current.useMemo(F,X)},je.useReducer=function(F,X,Se){return ae.current.useReducer(F,X,Se)},je.useRef=function(F){return ae.current.useRef(F)},je.useState=function(F){return ae.current.useState(F)},je.useSyncExternalStore=function(F,X,Se){return ae.current.useSyncExternalStore(F,X,Se)},je.useTransition=function(){return ae.current.useTransition()},je.version="18.3.1",je}var Yy;function Ap(){return Yy||(Yy=1,vf.exports=hT()),vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function dT(){if(Jy)return ul;Jy=1;var n=Ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,p,g){var _,x={},T=null,k=null;g!==void 0&&(T=""+g),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)r.call(p,_)&&!a.hasOwnProperty(_)&&(x[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)x[_]===void 0&&(x[_]=p[_]);return{$$typeof:e,type:d,key:T,ref:k,props:x,_owner:i.current}}return ul.Fragment=t,ul.jsx=u,ul.jsxs=u,ul}var Zy;function fT(){return Zy||(Zy=1,yf.exports=dT()),yf.exports}var f=fT(),M=Ap();const pT=E_(M);var gc={},_f={exports:{}},sn={},wf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function mT(){return e0||(e0=1,(function(n){function e(te,ue){var le=te.length;te.push(ue);e:for(;0<le;){var F=le-1>>>1,X=te[F];if(0<i(X,ue))te[F]=ue,te[le]=X,le=F;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ue=te[0],le=te.pop();if(le!==ue){te[0]=le;e:for(var F=0,X=te.length,Se=X>>>1;F<Se;){var Ae=2*(F+1)-1,Pe=te[Ae],Le=Ae+1,qe=te[Le];if(0>i(Pe,le))Le<X&&0>i(qe,Pe)?(te[F]=qe,te[Le]=le,F=Le):(te[F]=Pe,te[Ae]=le,F=Ae);else if(Le<X&&0>i(qe,le))te[F]=qe,te[Le]=le,F=Le;else break e}}return ue}function i(te,ue){var le=te.sortIndex-ue.sortIndex;return le!==0?le:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],g=[],_=1,x=null,T=3,k=!1,C=!1,U=!1,D=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(te){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=te)r(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function re(te){if(U=!1,W(te),!C)if(t(p)!==null)C=!0,G(ye);else{var ue=t(g);ue!==null&&ae(re,ue.startTime-te)}}function ye(te,ue){C=!1,U&&(U=!1,K(S),S=-1),k=!0;var le=T;try{for(W(ue),x=t(p);x!==null&&(!(x.expirationTime>ue)||te&&!L());){var F=x.callback;if(typeof F=="function"){x.callback=null,T=x.priorityLevel;var X=F(x.expirationTime<=ue);ue=n.unstable_now(),typeof X=="function"?x.callback=X:x===t(p)&&r(p),W(ue)}else r(p);x=t(p)}if(x!==null)var Se=!0;else{var Ae=t(g);Ae!==null&&ae(re,Ae.startTime-ue),Se=!1}return Se}finally{x=null,T=le,k=!1}}var me=!1,P=null,S=-1,A=5,j=-1;function L(){return!(n.unstable_now()-j<A)}function b(){if(P!==null){var te=n.unstable_now();j=te;var ue=!0;try{ue=P(!0,te)}finally{ue?R():(me=!1,P=null)}}else me=!1}var R;if(typeof Q=="function")R=function(){Q(b)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,we=se.port2;se.port1.onmessage=b,R=function(){we.postMessage(null)}}else R=function(){D(b,0)};function G(te){P=te,me||(me=!0,R())}function ae(te,ue){S=D(function(){te(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){C||k||(C=!0,G(ye))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var le=T;T=ue;try{return te()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=T;T=te;try{return ue()}finally{T=le}},n.unstable_scheduleCallback=function(te,ue,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,te={id:_++,callback:ue,priorityLevel:te,startTime:le,expirationTime:X,sortIndex:-1},le>F?(te.sortIndex=le,e(g,te),t(p)===null&&te===t(g)&&(U?(K(S),S=-1):U=!0,ae(re,le-F))):(te.sortIndex=X,e(p,te),C||k||(C=!0,G(ye))),te},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(te){var ue=T;return function(){var le=T;T=ue;try{return te.apply(this,arguments)}finally{T=le}}}})(xf)),xf}var t0;function gT(){return t0||(t0=1,wf.exports=mT()),wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function yT(){if(n0)return sn;n0=1;var n=Ap(),e=gT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},x={};function T(s){return p.call(x,s)?!0:p.call(_,s)?!1:g.test(s)?x[s]=!0:(_[s]=!0,!1)}function k(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,l,h){if(o===null||typeof o>"u"||k(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function U(s,o,l,h,m,y,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new U(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];D[o]=new U(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new U(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new U(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new U(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new U(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new U(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new U(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new U(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(K,Q);D[o]=new U(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(K,Q);D[o]=new U(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(K,Q);D[o]=new U(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new U(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new U(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,o,l,h){var m=D.hasOwnProperty(o)?D[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,l,m,h)&&(l=null),h||m===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ye=Symbol.for("react.element"),me=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),L=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),te=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,F;function X(s){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var Se=!1;function Ae(s,o){if(!s||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var h=q}Reflect.construct(s,[],o)}else{try{o.call()}catch(q){h=q}s.call(o.prototype)}else{try{throw Error()}catch(q){h=q}s()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),y=h.stack.split(`
`),E=m.length-1,N=y.length-1;1<=E&&0<=N&&m[E]!==y[N];)N--;for(;1<=E&&0<=N;E--,N--)if(m[E]!==y[N]){if(E!==1||N!==1)do if(E--,N--,0>N||m[E]!==y[N]){var O=`
`+m[E].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=E&&0<=N);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?X(s):""}function Pe(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case me:return"Portal";case A:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case se:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case b:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case we:return o=s.displayName||null,o!==null?o:Le(s.type)||"Memo";case G:o=s._payload,s=s._init;try{return Le(s(o))}catch{}}return null}function qe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Gt(s){var o=Ke(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Gi(s){s._valueTracker||(s._valueTracker=Gt(s))}function ma(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=Ke(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function es(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qi(s,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function tu(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Xi(s,o){o=o.checked,o!=null&&W(s,"checked",o,!1)}function ri(s,o){Xi(s,o);var l=Ue(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?mt(s,o.type,l):o.hasOwnProperty("defaultValue")&&mt(s,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ga(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function mt(s,o,l){(o!=="number"||es(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var ht=Array.isArray;function Dn(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ya(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function va(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(ht(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Ue(l)}}function nu(s,o){var l=Ue(o.value),h=Ue(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ts(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function _a(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?_a(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ns,ru=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ns.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function si(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},su=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(s){su.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),rs[o]=rs[s]})});function ss(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||rs.hasOwnProperty(s)&&rs[s]?(""+o).trim():o+"px"}function Ji(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=ss(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var wa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function On(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Zi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=null;function eo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cr=null,Ar=null,at=null;function xa(s){if(s=Ga(s)){if(typeof Cr!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Nu(o),Cr(s.stateNode,s.type,o))}}function os(s){Ar?at?at.push(s):at=[s]:Ar=s}function as(){if(Ar){var s=Ar,o=at;if(at=Ar=null,xa(s),o)for(s=0;s<o.length;s++)xa(o[s])}}function iu(s,o){return s(o)}function ou(){}var Jn=!1;function au(s,o,l){if(Jn)return s(o,l);Jn=!0;try{return iu(s,o,l)}finally{Jn=!1,(Ar!==null||at!==null)&&(ou(),as())}}function ii(s,o){var l=s.stateNode;if(l===null)return null;var h=Nu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ls=!1;if(d)try{var us={};Object.defineProperty(us,"passive",{get:function(){ls=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{ls=!1}function lu(s,o,l,h,m,y,E,N,O){var q=Array.prototype.slice.call(arguments,3);try{o.apply(l,q)}catch(ee){this.onError(ee)}}var kr=!1,Zn=null,to=!1,En=null,uu={onError:function(s){kr=!0,Zn=s}};function cu(s,o,l,h,m,y,E,N,O){kr=!1,Zn=null,lu.apply(uu,arguments)}function Ea(s,o,l,h,m,y,E,N,O){if(cu.apply(this,arguments),kr){if(kr){var q=Zn;kr=!1,Zn=null}else throw Error(t(198));to||(to=!0,En=q)}}function Vn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ta(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function hu(s){if(Vn(s)!==s)throw Error(t(188))}function du(s){var o=s.alternate;if(!o){if(o=Vn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return hu(m),s;if(y===h)return hu(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var E=!1,N=m.child;N;){if(N===l){E=!0,l=m,h=y;break}if(N===h){E=!0,h=m,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,h=m;break}if(N===h){E=!0,h=y,l=m;break}N=N.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function fu(s){return s=du(s),s!==null?oi(s):null}function oi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=oi(s);if(o!==null)return o;s=s.sibling}return null}var Ia=e.unstable_scheduleCallback,no=e.unstable_cancelCallback,ai=e.unstable_shouldYield,Rr=e.unstable_requestPaint,Je=e.unstable_now,Kh=e.unstable_getCurrentPriorityLevel,ro=e.unstable_ImmediatePriority,Sa=e.unstable_UserBlockingPriority,li=e.unstable_NormalPriority,ba=e.unstable_LowPriority,so=e.unstable_IdlePriority,ui=null,un=null;function pu(s){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ui,s,void 0,(s.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:ci,er=Math.log,Tn=Math.LN2;function ci(s){return s>>>=0,s===0?32:31-(er(s)/Tn|0)|0}var tr=64,cs=4194304;function ze(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Nr(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var N=E&~m;N!==0?h=ze(N):(y&=E,y!==0&&(h=ze(y)))}else E=l&~m,E!==0?h=ze(E):y!==0&&(h=ze(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-cn(o),m=1<<l,h|=s[l],o&=~m;return h}function hi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-cn(y),N=1<<E,O=m[E];O===-1?((N&l)===0||(N&h)!==0)&&(m[E]=hi(N,o)):O<=o&&(s.expiredLanes|=N),y&=~N}}function Ca(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Aa(){var s=tr;return tr<<=1,(tr&4194240)===0&&(tr=64),s}function ka(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function fi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-cn(o),s[o]=l}function Gh(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-cn(l),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~y}}function Ra(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-cn(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var Me=0;function nr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Na,io,Pa,ja,La,rr=!1,oo=[],sr=null,ir=null,Rt=null,pi=new Map,Pr=new Map,hn=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hs(s,o){switch(s){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":pi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(o.pointerId)}}function Mn(s,o,l,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Ga(o),o!==null&&io(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function gu(s,o,l,h,m){switch(o){case"focusin":return sr=Mn(sr,s,o,l,h,m),!0;case"dragenter":return ir=Mn(ir,s,o,l,h,m),!0;case"mouseover":return Rt=Mn(Rt,s,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return pi.set(y,Mn(pi.get(y)||null,s,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Pr.set(y,Mn(Pr.get(y)||null,s,o,l,h,m)),!0}return!1}function ao(s){var o=vi(s.target);if(o!==null){var l=Vn(o);if(l!==null){if(o=l.tag,o===13){if(o=Ta(l),o!==null){s.blockedOn=o,La(s.priority,function(){Pa(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ge(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=lo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);is=h,l.target.dispatchEvent(h),is=null}else return o=Ga(l),o!==null&&io(o),s.blockedOn=l,!1;o.shift()}return!0}function yu(s,o,l){Ge(s)&&l.delete(o)}function Qh(){rr=!1,sr!==null&&Ge(sr)&&(sr=null),ir!==null&&Ge(ir)&&(ir=null),Rt!==null&&Ge(Rt)&&(Rt=null),pi.forEach(yu),Pr.forEach(yu)}function ds(s,o){s.blockedOn===o&&(s.blockedOn=null,rr||(rr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qh)))}function fs(s){function o(m){return ds(m,s)}if(0<oo.length){ds(oo[0],s);for(var l=1;l<oo.length;l++){var h=oo[l];h.blockedOn===s&&(h.blockedOn=null)}}for(sr!==null&&ds(sr,s),ir!==null&&ds(ir,s),Rt!==null&&ds(Rt,s),pi.forEach(o),Pr.forEach(o),l=0;l<hn.length;l++)h=hn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<hn.length&&(l=hn[0],l.blockedOn===null);)ao(l),l.blockedOn===null&&hn.shift()}var jr=re.ReactCurrentBatchConfig,Lr=!0;function or(s,o,l,h){var m=Me,y=jr.transition;jr.transition=null;try{Me=1,Da(s,o,l,h)}finally{Me=m,jr.transition=y}}function vu(s,o,l,h){var m=Me,y=jr.transition;jr.transition=null;try{Me=4,Da(s,o,l,h)}finally{Me=m,jr.transition=y}}function Da(s,o,l,h){if(Lr){var m=lo(s,o,l,h);if(m===null)od(s,o,h,ar,l),hs(s,h);else if(gu(m,s,o,l,h))h.stopPropagation();else if(hs(s,h),o&4&&-1<mu.indexOf(s)){for(;m!==null;){var y=Ga(m);if(y!==null&&Na(y),y=lo(s,o,l,h),y===null&&od(s,o,h,ar,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else od(s,o,h,null,l)}}var ar=null;function lo(s,o,l,h){if(ar=null,s=eo(h),s=vi(s),s!==null)if(o=Vn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ta(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ar=s,null}function uo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kh()){case ro:return 1;case Sa:return 4;case li:case ba:return 16;case so:return 536870912;default:return 16}default:return 16}}var dn=null,co=null,Dr=null;function _u(){if(Dr)return Dr;var s,o=co,l=o.length,h,m="value"in dn?dn.value:dn.textContent,y=m.length;for(s=0;s<l&&o[s]===m[s];s++);var E=l-s;for(h=1;h<=E&&o[l-h]===m[y-h];h++);return Dr=m.slice(s,1<h?1-h:void 0)}function mi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function lr(){return!0}function Oa(){return!1}function Mt(s){function o(l,h,m,y,E){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Oa,this.isPropagationStopped=Oa,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Mt(ur),ps=le({},ur,{view:0,detail:0}),ho=Mt(ps),fo,po,fn,yi=le({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fn&&(fn&&s.type==="mousemove"?(fo=s.screenX-fn.screenX,po=s.screenY-fn.screenY):po=fo=0,fn=s),fo)},movementY:function(s){return"movementY"in s?s.movementY:po}}),Va=Mt(yi),wu=le({},yi,{dataTransfer:0}),xu=Mt(wu),mo=le({},ps,{relatedTarget:0}),Nt=Mt(mo),Eu=le({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Mt(Eu),ms=le({},ur,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Mt(ms),v=le({},ur,{data:0}),w=Mt(v),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=H[s])?!!o[s]:!1}function Re(){return oe}var dt=le({},ps,{key:function(s){if(s.key){var o=I[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=mi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?B[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(s){return s.type==="keypress"?mi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),We=Mt(dt),gt=le({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=Mt(gt),Or=le({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),cr=Mt(Or),hr=le({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),go=Mt(hr),Ma=le({},yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),iE=Mt(Ma),oE=[9,13,27,32],Xh=d&&"CompositionEvent"in window,Fa=null;d&&"documentMode"in document&&(Fa=document.documentMode);var aE=d&&"TextEvent"in window&&!Fa,Bm=d&&(!Xh||Fa&&8<Fa&&11>=Fa),zm=" ",qm=!1;function Hm(s,o){switch(s){case"keyup":return oE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yo=!1;function lE(s,o){switch(s){case"compositionend":return Wm(o);case"keypress":return o.which!==32?null:(qm=!0,zm);case"textInput":return s=o.data,s===zm&&qm?null:s;default:return null}}function uE(s,o){if(yo)return s==="compositionend"||!Xh&&Hm(s,o)?(s=_u(),Dr=co=dn=null,yo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Bm&&o.locale!=="ko"?null:o.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!cE[s.type]:o==="textarea"}function Gm(s,o,l,h){os(h),o=Au(o,"onChange"),0<o.length&&(l=new gi("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var Ua=null,$a=null;function hE(s){dg(s,0)}function Iu(s){var o=Eo(s);if(ma(o))return s}function dE(s,o){if(s==="change")return o}var Qm=!1;if(d){var Yh;if(d){var Jh="oninput"in document;if(!Jh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Jh=typeof Xm.oninput=="function"}Yh=Jh}else Yh=!1;Qm=Yh&&(!document.documentMode||9<document.documentMode)}function Ym(){Ua&&(Ua.detachEvent("onpropertychange",Jm),$a=Ua=null)}function Jm(s){if(s.propertyName==="value"&&Iu($a)){var o=[];Gm(o,$a,s,eo(s)),au(hE,o)}}function fE(s,o,l){s==="focusin"?(Ym(),Ua=o,$a=l,Ua.attachEvent("onpropertychange",Jm)):s==="focusout"&&Ym()}function pE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Iu($a)}function mE(s,o){if(s==="click")return Iu(o)}function gE(s,o){if(s==="input"||s==="change")return Iu(o)}function yE(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Fn=typeof Object.is=="function"?Object.is:yE;function Ba(s,o){if(Fn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!p.call(o,m)||!Fn(s[m],o[m]))return!1}return!0}function Zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function eg(s,o){var l=Zm(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zm(l)}}function tg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?tg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ng(){for(var s=window,o=es();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=es(s.document)}return o}function Zh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function vE(s){var o=ng(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&tg(l.ownerDocument.documentElement,l)){if(h!==null&&Zh(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=eg(l,y);var E=eg(l,h);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _E=d&&"documentMode"in document&&11>=document.documentMode,vo=null,ed=null,za=null,td=!1;function rg(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;td||vo==null||vo!==es(h)||(h=vo,"selectionStart"in h&&Zh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),za&&Ba(za,h)||(za=h,h=Au(ed,"onSelect"),0<h.length&&(o=new gi("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=vo)))}function Su(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var _o={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},nd={},sg={};d&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function bu(s){if(nd[s])return nd[s];if(!_o[s])return s;var o=_o[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in sg)return nd[s]=o[l];return s}var ig=bu("animationend"),og=bu("animationiteration"),ag=bu("animationstart"),lg=bu("transitionend"),ug=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(s,o){ug.set(s,o),a(o,[s])}for(var rd=0;rd<cg.length;rd++){var sd=cg[rd],wE=sd.toLowerCase(),xE=sd[0].toUpperCase()+sd.slice(1);gs(wE,"on"+xE)}gs(ig,"onAnimationEnd"),gs(og,"onAnimationIteration"),gs(ag,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(lg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function hg(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,Ea(h,o,void 0,s),s.currentTarget=null}function dg(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var E=h.length-1;0<=E;E--){var N=h[E],O=N.instance,q=N.currentTarget;if(N=N.listener,O!==y&&m.isPropagationStopped())break e;hg(m,N,q),y=O}else for(E=0;E<h.length;E++){if(N=h[E],O=N.instance,q=N.currentTarget,N=N.listener,O!==y&&m.isPropagationStopped())break e;hg(m,N,q),y=O}}}if(to)throw s=En,to=!1,En=null,s}function Ze(s,o){var l=o[dd];l===void 0&&(l=o[dd]=new Set);var h=s+"__bubble";l.has(h)||(fg(o,s,2,!1),l.add(h))}function id(s,o,l){var h=0;o&&(h|=4),fg(l,s,h,o)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ha(s){if(!s[Cu]){s[Cu]=!0,r.forEach(function(l){l!=="selectionchange"&&(EE.has(l)||id(l,!1,s),id(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Cu]||(o[Cu]=!0,id("selectionchange",!1,o))}}function fg(s,o,l,h){switch(uo(o)){case 1:var m=or;break;case 4:m=vu;break;default:m=Da}l=m.bind(null,o,l,s),m=void 0,!ls||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function od(s,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var N=h.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;E=E.return}for(;N!==null;){if(E=vi(N),E===null)return;if(O=E.tag,O===5||O===6){h=y=E;continue e}N=N.parentNode}}h=h.return}au(function(){var q=y,ee=eo(l),ne=[];e:{var Z=ug.get(s);if(Z!==void 0){var he=gi,pe=s;switch(s){case"keypress":if(mi(l)===0)break e;case"keydown":case"keyup":he=We;break;case"focusin":pe="focus",he=Nt;break;case"focusout":pe="blur",he=Nt;break;case"beforeblur":case"afterblur":he=Nt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=cr;break;case ig:case og:case ag:he=Tu;break;case lg:he=go;break;case"scroll":he=ho;break;case"wheel":he=iE;break;case"copy":case"cut":case"paste":he=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=pn}var ge=(o&4)!==0,ft=!ge&&s==="scroll",$=ge?Z!==null?Z+"Capture":null:Z;ge=[];for(var V=q,z;V!==null;){z=V;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,$!==null&&(ie=ii(V,$),ie!=null&&ge.push(Wa(V,ie,z)))),ft)break;V=V.return}0<ge.length&&(Z=new he(Z,pe,null,l,ee),ne.push({event:Z,listeners:ge}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",Z&&l!==is&&(pe=l.relatedTarget||l.fromElement)&&(vi(pe)||pe[Vr]))break e;if((he||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=q,pe=pe?vi(pe):null,pe!==null&&(ft=Vn(pe),pe!==ft||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=q),he!==pe)){if(ge=Va,ie="onMouseLeave",$="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(ge=pn,ie="onPointerLeave",$="onPointerEnter",V="pointer"),ft=he==null?Z:Eo(he),z=pe==null?Z:Eo(pe),Z=new ge(ie,V+"leave",he,l,ee),Z.target=ft,Z.relatedTarget=z,ie=null,vi(ee)===q&&(ge=new ge($,V+"enter",pe,l,ee),ge.target=z,ge.relatedTarget=ft,ie=ge),ft=ie,he&&pe)t:{for(ge=he,$=pe,V=0,z=ge;z;z=wo(z))V++;for(z=0,ie=$;ie;ie=wo(ie))z++;for(;0<V-z;)ge=wo(ge),V--;for(;0<z-V;)$=wo($),z--;for(;V--;){if(ge===$||$!==null&&ge===$.alternate)break t;ge=wo(ge),$=wo($)}ge=null}else ge=null;he!==null&&pg(ne,Z,he,ge,!1),pe!==null&&ft!==null&&pg(ne,ft,pe,ge,!0)}}e:{if(Z=q?Eo(q):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var ve=dE;else if(Km(Z))if(Qm)ve=gE;else{ve=pE;var xe=fE}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=mE);if(ve&&(ve=ve(s,q))){Gm(ne,ve,l,ee);break e}xe&&xe(s,Z,q),s==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&mt(Z,"number",Z.value)}switch(xe=q?Eo(q):window,s){case"focusin":(Km(xe)||xe.contentEditable==="true")&&(vo=xe,ed=q,za=null);break;case"focusout":za=ed=vo=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,rg(ne,l,ee);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":rg(ne,l,ee)}var Ee;if(Xh)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else yo?Hm(s,l)&&(be="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(be="onCompositionStart");be&&(Bm&&l.locale!=="ko"&&(yo||be!=="onCompositionStart"?be==="onCompositionEnd"&&yo&&(Ee=_u()):(dn=ee,co="value"in dn?dn.value:dn.textContent,yo=!0)),xe=Au(q,be),0<xe.length&&(be=new w(be,s,null,l,ee),ne.push({event:be,listeners:xe}),Ee?be.data=Ee:(Ee=Wm(l),Ee!==null&&(be.data=Ee)))),(Ee=aE?lE(s,l):uE(s,l))&&(q=Au(q,"onBeforeInput"),0<q.length&&(ee=new w("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:q}),ee.data=Ee))}dg(ne,o)})}function Wa(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Au(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ii(s,l),y!=null&&h.unshift(Wa(s,y,m)),y=ii(s,o),y!=null&&h.push(Wa(s,y,m))),s=s.return}return h}function wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pg(s,o,l,h,m){for(var y=o._reactName,E=[];l!==null&&l!==h;){var N=l,O=N.alternate,q=N.stateNode;if(O!==null&&O===h)break;N.tag===5&&q!==null&&(N=q,m?(O=ii(l,y),O!=null&&E.unshift(Wa(l,O,N))):m||(O=ii(l,y),O!=null&&E.push(Wa(l,O,N)))),l=l.return}E.length!==0&&s.push({event:o,listeners:E})}var TE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function mg(s){return(typeof s=="string"?s:""+s).replace(TE,`
`).replace(IE,"")}function ku(s,o,l){if(o=mg(o),mg(s)!==o&&l)throw Error(t(425))}function Ru(){}var ad=null,ld=null;function ud(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,bE=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(s){return gg.resolve(null).then(s).catch(CE)}:cd;function CE(s){setTimeout(function(){throw s})}function hd(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),fs(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);fs(o)}function ys(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function yg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var xo=Math.random().toString(36).slice(2),dr="__reactFiber$"+xo,Ka="__reactProps$"+xo,Vr="__reactContainer$"+xo,dd="__reactEvents$"+xo,AE="__reactListeners$"+xo,kE="__reactHandles$"+xo;function vi(s){var o=s[dr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Vr]||l[dr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=yg(s);s!==null;){if(l=s[dr])return l;s=yg(s)}return o}s=l,l=s.parentNode}return null}function Ga(s){return s=s[dr]||s[Vr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Eo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Nu(s){return s[Ka]||null}var fd=[],To=-1;function vs(s){return{current:s}}function et(s){0>To||(s.current=fd[To],fd[To]=null,To--)}function Qe(s,o){To++,fd[To]=s.current,s.current=o}var _s={},Ft=vs(_s),Zt=vs(!1),_i=_s;function Io(s,o){var l=s.type.contextTypes;if(!l)return _s;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function en(s){return s=s.childContextTypes,s!=null}function Pu(){et(Zt),et(Ft)}function vg(s,o,l){if(Ft.current!==_s)throw Error(t(168));Qe(Ft,o),Qe(Zt,l)}function _g(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,qe(s)||"Unknown",m));return le({},l,h)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||_s,_i=Ft.current,Qe(Ft,s),Qe(Zt,Zt.current),!0}function wg(s,o,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=_g(s,o,_i),h.__reactInternalMemoizedMergedChildContext=s,et(Zt),et(Ft),Qe(Ft,s)):et(Zt),Qe(Zt,l)}var Mr=null,Lu=!1,pd=!1;function xg(s){Mr===null?Mr=[s]:Mr.push(s)}function RE(s){Lu=!0,xg(s)}function ws(){if(!pd&&Mr!==null){pd=!0;var s=0,o=Me;try{var l=Mr;for(Me=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Mr=null,Lu=!1}catch(m){throw Mr!==null&&(Mr=Mr.slice(s+1)),Ia(ro,ws),m}finally{Me=o,pd=!1}}return null}var So=[],bo=0,Du=null,Ou=0,In=[],Sn=0,wi=null,Fr=1,Ur="";function xi(s,o){So[bo++]=Ou,So[bo++]=Du,Du=s,Ou=o}function Eg(s,o,l){In[Sn++]=Fr,In[Sn++]=Ur,In[Sn++]=wi,wi=s;var h=Fr;s=Ur;var m=32-cn(h)-1;h&=~(1<<m),l+=1;var y=32-cn(o)+m;if(30<y){var E=m-m%5;y=(h&(1<<E)-1).toString(32),h>>=E,m-=E,Fr=1<<32-cn(o)+m|l<<m|h,Ur=y+s}else Fr=1<<y|l<<m|h,Ur=s}function md(s){s.return!==null&&(xi(s,1),Eg(s,1,0))}function gd(s){for(;s===Du;)Du=So[--bo],So[bo]=null,Ou=So[--bo],So[bo]=null;for(;s===wi;)wi=In[--Sn],In[Sn]=null,Ur=In[--Sn],In[Sn]=null,Fr=In[--Sn],In[Sn]=null}var mn=null,gn=null,nt=!1,Un=null;function Tg(s,o){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Ig(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,mn=s,gn=ys(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,mn=s,gn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=wi!==null?{id:Fr,overflow:Ur}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,mn=s,gn=null,!0):!1;default:return!1}}function yd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function vd(s){if(nt){var o=gn;if(o){var l=o;if(!Ig(s,o)){if(yd(s))throw Error(t(418));o=ys(l.nextSibling);var h=mn;o&&Ig(s,o)?Tg(h,l):(s.flags=s.flags&-4097|2,nt=!1,mn=s)}}else{if(yd(s))throw Error(t(418));s.flags=s.flags&-4097|2,nt=!1,mn=s}}}function Sg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mn=s}function Vu(s){if(s!==mn)return!1;if(!nt)return Sg(s),nt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ud(s.type,s.memoizedProps)),o&&(o=gn)){if(yd(s))throw bg(),Error(t(418));for(;o;)Tg(s,o),o=ys(o.nextSibling)}if(Sg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){gn=ys(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}gn=null}}else gn=mn?ys(s.stateNode.nextSibling):null;return!0}function bg(){for(var s=gn;s;)s=ys(s.nextSibling)}function Co(){gn=mn=null,nt=!1}function _d(s){Un===null?Un=[s]:Un.push(s)}var NE=re.ReactCurrentBatchConfig;function Qa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(E){var N=m.refs;E===null?delete N[y]:N[y]=E},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Mu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Cg(s){var o=s._init;return o(s._payload)}function Ag(s){function o($,V){if(s){var z=$.deletions;z===null?($.deletions=[V],$.flags|=16):z.push(V)}}function l($,V){if(!s)return null;for(;V!==null;)o($,V),V=V.sibling;return null}function h($,V){for($=new Map;V!==null;)V.key!==null?$.set(V.key,V):$.set(V.index,V),V=V.sibling;return $}function m($,V){return $=As($,V),$.index=0,$.sibling=null,$}function y($,V,z){return $.index=z,s?(z=$.alternate,z!==null?(z=z.index,z<V?($.flags|=2,V):z):($.flags|=2,V)):($.flags|=1048576,V)}function E($){return s&&$.alternate===null&&($.flags|=2),$}function N($,V,z,ie){return V===null||V.tag!==6?(V=hf(z,$.mode,ie),V.return=$,V):(V=m(V,z),V.return=$,V)}function O($,V,z,ie){var ve=z.type;return ve===P?ee($,V,z.props.children,ie,z.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===G&&Cg(ve)===V.type)?(ie=m(V,z.props),ie.ref=Qa($,V,z),ie.return=$,ie):(ie=lc(z.type,z.key,z.props,null,$.mode,ie),ie.ref=Qa($,V,z),ie.return=$,ie)}function q($,V,z,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=df(z,$.mode,ie),V.return=$,V):(V=m(V,z.children||[]),V.return=$,V)}function ee($,V,z,ie,ve){return V===null||V.tag!==7?(V=ki(z,$.mode,ie,ve),V.return=$,V):(V=m(V,z),V.return=$,V)}function ne($,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return V=hf(""+V,$.mode,z),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ye:return z=lc(V.type,V.key,V.props,null,$.mode,z),z.ref=Qa($,null,V),z.return=$,z;case me:return V=df(V,$.mode,z),V.return=$,V;case G:var ie=V._init;return ne($,ie(V._payload),z)}if(ht(V)||ue(V))return V=ki(V,$.mode,z,null),V.return=$,V;Mu($,V)}return null}function Z($,V,z,ie){var ve=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:N($,V,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ye:return z.key===ve?O($,V,z,ie):null;case me:return z.key===ve?q($,V,z,ie):null;case G:return ve=z._init,Z($,V,ve(z._payload),ie)}if(ht(z)||ue(z))return ve!==null?null:ee($,V,z,ie,null);Mu($,z)}return null}function he($,V,z,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(z)||null,N(V,$,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ye:return $=$.get(ie.key===null?z:ie.key)||null,O(V,$,ie,ve);case me:return $=$.get(ie.key===null?z:ie.key)||null,q(V,$,ie,ve);case G:var xe=ie._init;return he($,V,z,xe(ie._payload),ve)}if(ht(ie)||ue(ie))return $=$.get(z)||null,ee(V,$,ie,ve,null);Mu(V,ie)}return null}function pe($,V,z,ie){for(var ve=null,xe=null,Ee=V,be=V=0,Ct=null;Ee!==null&&be<z.length;be++){Ee.index>be?(Ct=Ee,Ee=null):Ct=Ee.sibling;var Be=Z($,Ee,z[be],ie);if(Be===null){Ee===null&&(Ee=Ct);break}s&&Ee&&Be.alternate===null&&o($,Ee),V=y(Be,V,be),xe===null?ve=Be:xe.sibling=Be,xe=Be,Ee=Ct}if(be===z.length)return l($,Ee),nt&&xi($,be),ve;if(Ee===null){for(;be<z.length;be++)Ee=ne($,z[be],ie),Ee!==null&&(V=y(Ee,V,be),xe===null?ve=Ee:xe.sibling=Ee,xe=Ee);return nt&&xi($,be),ve}for(Ee=h($,Ee);be<z.length;be++)Ct=he(Ee,$,be,z[be],ie),Ct!==null&&(s&&Ct.alternate!==null&&Ee.delete(Ct.key===null?be:Ct.key),V=y(Ct,V,be),xe===null?ve=Ct:xe.sibling=Ct,xe=Ct);return s&&Ee.forEach(function(ks){return o($,ks)}),nt&&xi($,be),ve}function ge($,V,z,ie){var ve=ue(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var xe=ve=null,Ee=V,be=V=0,Ct=null,Be=z.next();Ee!==null&&!Be.done;be++,Be=z.next()){Ee.index>be?(Ct=Ee,Ee=null):Ct=Ee.sibling;var ks=Z($,Ee,Be.value,ie);if(ks===null){Ee===null&&(Ee=Ct);break}s&&Ee&&ks.alternate===null&&o($,Ee),V=y(ks,V,be),xe===null?ve=ks:xe.sibling=ks,xe=ks,Ee=Ct}if(Be.done)return l($,Ee),nt&&xi($,be),ve;if(Ee===null){for(;!Be.done;be++,Be=z.next())Be=ne($,Be.value,ie),Be!==null&&(V=y(Be,V,be),xe===null?ve=Be:xe.sibling=Be,xe=Be);return nt&&xi($,be),ve}for(Ee=h($,Ee);!Be.done;be++,Be=z.next())Be=he(Ee,$,be,Be.value,ie),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?be:Be.key),V=y(Be,V,be),xe===null?ve=Be:xe.sibling=Be,xe=Be);return s&&Ee.forEach(function(cT){return o($,cT)}),nt&&xi($,be),ve}function ft($,V,z,ie){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ye:e:{for(var ve=z.key,xe=V;xe!==null;){if(xe.key===ve){if(ve=z.type,ve===P){if(xe.tag===7){l($,xe.sibling),V=m(xe,z.props.children),V.return=$,$=V;break e}}else if(xe.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===G&&Cg(ve)===xe.type){l($,xe.sibling),V=m(xe,z.props),V.ref=Qa($,xe,z),V.return=$,$=V;break e}l($,xe);break}else o($,xe);xe=xe.sibling}z.type===P?(V=ki(z.props.children,$.mode,ie,z.key),V.return=$,$=V):(ie=lc(z.type,z.key,z.props,null,$.mode,ie),ie.ref=Qa($,V,z),ie.return=$,$=ie)}return E($);case me:e:{for(xe=z.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){l($,V.sibling),V=m(V,z.children||[]),V.return=$,$=V;break e}else{l($,V);break}else o($,V);V=V.sibling}V=df(z,$.mode,ie),V.return=$,$=V}return E($);case G:return xe=z._init,ft($,V,xe(z._payload),ie)}if(ht(z))return pe($,V,z,ie);if(ue(z))return ge($,V,z,ie);Mu($,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,V!==null&&V.tag===6?(l($,V.sibling),V=m(V,z),V.return=$,$=V):(l($,V),V=hf(z,$.mode,ie),V.return=$,$=V),E($)):l($,V)}return ft}var Ao=Ag(!0),kg=Ag(!1),Fu=vs(null),Uu=null,ko=null,wd=null;function xd(){wd=ko=Uu=null}function Ed(s){var o=Fu.current;et(Fu),s._currentValue=o}function Td(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function Ro(s,o){Uu=s,wd=ko=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(tn=!0),s.firstContext=null)}function bn(s){var o=s._currentValue;if(wd!==s)if(s={context:s,memoizedValue:o,next:null},ko===null){if(Uu===null)throw Error(t(308));ko=s,Uu.dependencies={lanes:0,firstContext:s}}else ko=ko.next=s;return o}var Ei=null;function Id(s){Ei===null?Ei=[s]:Ei.push(s)}function Rg(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Id(o)):(l.next=m.next,m.next=l),o.interleaved=l,$r(s,h)}function $r(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var xs=!1;function Sd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ng(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Br(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Es(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,$r(s,l)}return m=h.interleaved,m===null?(o.next=o,Id(h)):(o.next=m.next,m.next=o),h.interleaved=o,$r(s,l)}function $u(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ra(s,l)}}function Pg(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Bu(s,o,l,h){var m=s.updateQueue;xs=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var O=N,q=O.next;O.next=null,E===null?y=q:E.next=q,E=O;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==E&&(N===null?ee.firstBaseUpdate=q:N.next=q,ee.lastBaseUpdate=O))}if(y!==null){var ne=m.baseState;E=0,ee=q=O=null,N=y;do{var Z=N.lane,he=N.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=s,ge=N;switch(Z=o,he=l,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){ne=pe.call(he,ne,Z);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,Z=typeof pe=="function"?pe.call(he,ne,Z):pe,Z==null)break e;ne=le({},ne,Z);break e;case 2:xs=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[N]:Z.push(N))}else he={eventTime:he,lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(q=ee=he,O=ne):ee=ee.next=he,E|=Z;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(O=ne),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do E|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Si|=E,s.lanes=E,s.memoizedState=ne}}function jg(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Xa={},fr=vs(Xa),Ya=vs(Xa),Ja=vs(Xa);function Ti(s){if(s===Xa)throw Error(t(174));return s}function bd(s,o){switch(Qe(Ja,o),Qe(Ya,s),Qe(fr,Xa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Yi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Yi(o,s)}et(fr),Qe(fr,o)}function No(){et(fr),et(Ya),et(Ja)}function Lg(s){Ti(Ja.current);var o=Ti(fr.current),l=Yi(o,s.type);o!==l&&(Qe(Ya,s),Qe(fr,l))}function Cd(s){Ya.current===s&&(et(fr),et(Ya))}var rt=vs(0);function zu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ad=[];function kd(){for(var s=0;s<Ad.length;s++)Ad[s]._workInProgressVersionPrimary=null;Ad.length=0}var qu=re.ReactCurrentDispatcher,Rd=re.ReactCurrentBatchConfig,Ii=0,st=null,xt=null,St=null,Hu=!1,Za=!1,el=0,PE=0;function Ut(){throw Error(t(321))}function Nd(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Fn(s[l],o[l]))return!1;return!0}function Pd(s,o,l,h,m,y){if(Ii=y,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qu.current=s===null||s.memoizedState===null?OE:VE,s=l(h,m),Za){y=0;do{if(Za=!1,el=0,25<=y)throw Error(t(301));y+=1,St=xt=null,o.updateQueue=null,qu.current=ME,s=l(h,m)}while(Za)}if(qu.current=Gu,o=xt!==null&&xt.next!==null,Ii=0,St=xt=st=null,Hu=!1,o)throw Error(t(300));return s}function jd(){var s=el!==0;return el=0,s}function pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=s:St=St.next=s,St}function Cn(){if(xt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var o=St===null?st.memoizedState:St.next;if(o!==null)St=o,xt=s;else{if(s===null)throw Error(t(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},St===null?st.memoizedState=St=s:St=St.next=s}return St}function tl(s,o){return typeof o=="function"?o(s):o}function Ld(s){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=xt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var N=E=null,O=null,q=y;do{var ee=q.lane;if((Ii&ee)===ee)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:s(h,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(N=O=ne,E=h):O=O.next=ne,st.lanes|=ee,Si|=ee}q=q.next}while(q!==null&&q!==y);O===null?E=h:O.next=N,Fn(h,o.memoizedState)||(tn=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=O,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do y=m.lane,st.lanes|=y,Si|=y,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Dd(s){var o=Cn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=s(y,E.action),E=E.next;while(E!==m);Fn(y,o.memoizedState)||(tn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Dg(){}function Og(s,o){var l=st,h=Cn(),m=o(),y=!Fn(h.memoizedState,m);if(y&&(h.memoizedState=m,tn=!0),h=h.queue,Od(Fg.bind(null,l,h,s),[s]),h.getSnapshot!==o||y||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,nl(9,Mg.bind(null,l,h,m,o),void 0,null),bt===null)throw Error(t(349));(Ii&30)!==0||Vg(l,o,m)}return m}function Vg(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Mg(s,o,l,h){o.value=l,o.getSnapshot=h,Ug(o)&&$g(s)}function Fg(s,o,l){return l(function(){Ug(o)&&$g(s)})}function Ug(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Fn(s,l)}catch{return!0}}function $g(s){var o=$r(s,1);o!==null&&qn(o,s,1,-1)}function Bg(s){var o=pr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:s},o.queue=s,s=s.dispatch=DE.bind(null,st,s),[o.memoizedState,s]}function nl(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=st.updateQueue,o===null?(o={lastEffect:null,stores:null},st.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function zg(){return Cn().memoizedState}function Wu(s,o,l,h){var m=pr();st.flags|=s,m.memoizedState=nl(1|o,l,void 0,h===void 0?null:h)}function Ku(s,o,l,h){var m=Cn();h=h===void 0?null:h;var y=void 0;if(xt!==null){var E=xt.memoizedState;if(y=E.destroy,h!==null&&Nd(h,E.deps)){m.memoizedState=nl(o,l,y,h);return}}st.flags|=s,m.memoizedState=nl(1|o,l,y,h)}function qg(s,o){return Wu(8390656,8,s,o)}function Od(s,o){return Ku(2048,8,s,o)}function Hg(s,o){return Ku(4,2,s,o)}function Wg(s,o){return Ku(4,4,s,o)}function Kg(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Gg(s,o,l){return l=l!=null?l.concat([s]):null,Ku(4,4,Kg.bind(null,o,s),l)}function Vd(){}function Qg(s,o){var l=Cn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Nd(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function Xg(s,o){var l=Cn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Nd(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function Yg(s,o,l){return(Ii&21)===0?(s.baseState&&(s.baseState=!1,tn=!0),s.memoizedState=l):(Fn(l,o)||(l=Aa(),st.lanes|=l,Si|=l,s.baseState=!0),o)}function jE(s,o){var l=Me;Me=l!==0&&4>l?l:4,s(!0);var h=Rd.transition;Rd.transition={};try{s(!1),o()}finally{Me=l,Rd.transition=h}}function Jg(){return Cn().memoizedState}function LE(s,o,l){var h=bs(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Zg(s))ey(o,l);else if(l=Rg(s,o,l,h),l!==null){var m=Xt();qn(l,s,h,m),ty(l,o,h)}}function DE(s,o,l){var h=bs(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zg(s))ey(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,N=y(E,l);if(m.hasEagerState=!0,m.eagerState=N,Fn(N,E)){var O=o.interleaved;O===null?(m.next=m,Id(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}l=Rg(s,o,m,h),l!==null&&(m=Xt(),qn(l,s,h,m),ty(l,o,h))}}function Zg(s){var o=s.alternate;return s===st||o!==null&&o===st}function ey(s,o){Za=Hu=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function ty(s,o,l){if((l&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ra(s,l)}}var Gu={readContext:bn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},OE={readContext:bn,useCallback:function(s,o){return pr().memoizedState=[s,o===void 0?null:o],s},useContext:bn,useEffect:qg,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Wu(4194308,4,Kg.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Wu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Wu(4,2,s,o)},useMemo:function(s,o){var l=pr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=pr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=LE.bind(null,st,s),[h.memoizedState,s]},useRef:function(s){var o=pr();return s={current:s},o.memoizedState=s},useState:Bg,useDebugValue:Vd,useDeferredValue:function(s){return pr().memoizedState=s},useTransition:function(){var s=Bg(!1),o=s[0];return s=jE.bind(null,s[1]),pr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=st,m=pr();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),bt===null)throw Error(t(349));(Ii&30)!==0||Vg(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,qg(Fg.bind(null,h,y,s),[s]),h.flags|=2048,nl(9,Mg.bind(null,h,y,l,o),void 0,null),l},useId:function(){var s=pr(),o=bt.identifierPrefix;if(nt){var l=Ur,h=Fr;l=(h&~(1<<32-cn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=el++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=PE++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},VE={readContext:bn,useCallback:Qg,useContext:bn,useEffect:Od,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Xg,useReducer:Ld,useRef:zg,useState:function(){return Ld(tl)},useDebugValue:Vd,useDeferredValue:function(s){var o=Cn();return Yg(o,xt.memoizedState,s)},useTransition:function(){var s=Ld(tl)[0],o=Cn().memoizedState;return[s,o]},useMutableSource:Dg,useSyncExternalStore:Og,useId:Jg,unstable_isNewReconciler:!1},ME={readContext:bn,useCallback:Qg,useContext:bn,useEffect:Od,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:Wg,useMemo:Xg,useReducer:Dd,useRef:zg,useState:function(){return Dd(tl)},useDebugValue:Vd,useDeferredValue:function(s){var o=Cn();return xt===null?o.memoizedState=s:Yg(o,xt.memoizedState,s)},useTransition:function(){var s=Dd(tl)[0],o=Cn().memoizedState;return[s,o]},useMutableSource:Dg,useSyncExternalStore:Og,useId:Jg,unstable_isNewReconciler:!1};function $n(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Md(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:le({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qu={isMounted:function(s){return(s=s._reactInternals)?Vn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=Xt(),m=bs(s),y=Br(h,m);y.payload=o,l!=null&&(y.callback=l),o=Es(s,y,m),o!==null&&(qn(o,s,m,h),$u(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=Xt(),m=bs(s),y=Br(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Es(s,y,m),o!==null&&(qn(o,s,m,h),$u(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Xt(),h=bs(s),m=Br(l,h);m.tag=2,o!=null&&(m.callback=o),o=Es(s,m,h),o!==null&&(qn(o,s,h,l),$u(o,s,h))}};function ny(s,o,l,h,m,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):o.prototype&&o.prototype.isPureReactComponent?!Ba(l,h)||!Ba(m,y):!0}function ry(s,o,l){var h=!1,m=_s,y=o.contextType;return typeof y=="object"&&y!==null?y=bn(y):(m=en(o)?_i:Ft.current,h=o.contextTypes,y=(h=h!=null)?Io(s,m):_s),o=new o(l,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function sy(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Qu.enqueueReplaceState(o,o.state,null)}function Fd(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Sd(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=bn(y):(y=en(o)?_i:Ft.current,m.context=Io(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Md(s,o,y,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Qu.enqueueReplaceState(m,m.state,null),Bu(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Po(s,o){try{var l="",h=o;do l+=Pe(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Ud(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function $d(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var FE=typeof WeakMap=="function"?WeakMap:Map;function iy(s,o,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){nc||(nc=!0,nf=h),$d(s,o)},l}function oy(s,o,l){l=Br(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){$d(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){$d(s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),l}function ay(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new FE;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=ZE.bind(null,s,o,l),o.then(s,s))}function ly(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function uy(s,o,l,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Br(-1,1),o.tag=2,Es(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var UE=re.ReactCurrentOwner,tn=!1;function Qt(s,o,l,h){o.child=s===null?kg(o,null,l,h):Ao(o,s.child,l,h)}function cy(s,o,l,h,m){l=l.render;var y=o.ref;return Ro(o,m),h=Pd(s,o,l,h,y,m),l=jd(),s!==null&&!tn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,zr(s,o,m)):(nt&&l&&md(o),o.flags|=1,Qt(s,o,h,m),o.child)}function hy(s,o,l,h,m){if(s===null){var y=l.type;return typeof y=="function"&&!cf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,dy(s,o,y,h,m)):(s=lc(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(E,h)&&s.ref===o.ref)return zr(s,o,m)}return o.flags|=1,s=As(y,h),s.ref=o.ref,s.return=o,o.child=s}function dy(s,o,l,h,m){if(s!==null){var y=s.memoizedProps;if(Ba(y,h)&&s.ref===o.ref)if(tn=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(tn=!0);else return o.lanes=s.lanes,zr(s,o,m)}return Bd(s,o,l,h,m)}function fy(s,o,l){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Lo,yn),yn|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Qe(Lo,yn),yn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Qe(Lo,yn),yn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Qe(Lo,yn),yn|=h;return Qt(s,o,m,l),o.child}function py(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Bd(s,o,l,h,m){var y=en(l)?_i:Ft.current;return y=Io(o,y),Ro(o,m),l=Pd(s,o,l,h,y,m),h=jd(),s!==null&&!tn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,zr(s,o,m)):(nt&&h&&md(o),o.flags|=1,Qt(s,o,l,m),o.child)}function my(s,o,l,h,m){if(en(l)){var y=!0;ju(o)}else y=!1;if(Ro(o,m),o.stateNode===null)Yu(s,o),ry(o,l,h),Fd(o,l,h,m),h=!0;else if(s===null){var E=o.stateNode,N=o.memoizedProps;E.props=N;var O=E.context,q=l.contextType;typeof q=="object"&&q!==null?q=bn(q):(q=en(l)?_i:Ft.current,q=Io(o,q));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==h||O!==q)&&sy(o,E,h,q),xs=!1;var Z=o.memoizedState;E.state=Z,Bu(o,h,E,m),O=o.memoizedState,N!==h||Z!==O||Zt.current||xs?(typeof ee=="function"&&(Md(o,l,ee,h),O=o.memoizedState),(N=xs||ny(o,l,N,h,Z,O,q))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),E.props=h,E.state=O,E.context=q,h=N):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Ng(s,o),N=o.memoizedProps,q=o.type===o.elementType?N:$n(o.type,N),E.props=q,ne=o.pendingProps,Z=E.context,O=l.contextType,typeof O=="object"&&O!==null?O=bn(O):(O=en(l)?_i:Ft.current,O=Io(o,O));var he=l.getDerivedStateFromProps;(ee=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==ne||Z!==O)&&sy(o,E,h,O),xs=!1,Z=o.memoizedState,E.state=Z,Bu(o,h,E,m);var pe=o.memoizedState;N!==ne||Z!==pe||Zt.current||xs?(typeof he=="function"&&(Md(o,l,he,h),pe=o.memoizedState),(q=xs||ny(o,l,q,h,Z,pe,O)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,O)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),E.props=h,E.state=pe,E.context=O,h=q):(typeof E.componentDidUpdate!="function"||N===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),h=!1)}return zd(s,o,l,h,y,m)}function zd(s,o,l,h,m,y){py(s,o);var E=(o.flags&128)!==0;if(!h&&!E)return m&&wg(o,l,!1),zr(s,o,y);h=o.stateNode,UE.current=o;var N=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&E?(o.child=Ao(o,s.child,null,y),o.child=Ao(o,null,N,y)):Qt(s,o,N,y),o.memoizedState=h.state,m&&wg(o,l,!0),o.child}function gy(s){var o=s.stateNode;o.pendingContext?vg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&vg(s,o.context,!1),bd(s,o.containerInfo)}function yy(s,o,l,h,m){return Co(),_d(m),o.flags|=256,Qt(s,o,l,h),o.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Hd(s){return{baseLanes:s,cachePool:null,transitions:null}}function vy(s,o,l){var h=o.pendingProps,m=rt.current,y=!1,E=(o.flags&128)!==0,N;if((N=E)||(N=s!==null&&s.memoizedState===null?!1:(m&2)!==0),N?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Qe(rt,m&1),s===null)return vd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,s=h.fallback,y?(h=o.mode,y=o.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=uc(E,h,0,null),s=ki(s,h,l,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Hd(l),o.memoizedState=qd,s):Wd(o,E));if(m=s.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return $E(s,o,E,h,N,m,l);if(y){y=h.fallback,E=o.mode,m=s.child,N=m.sibling;var O={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=As(m,O),h.subtreeFlags=m.subtreeFlags&14680064),N!==null?y=As(N,y):(y=ki(y,E,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,E=s.child.memoizedState,E=E===null?Hd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,o.memoizedState=qd,h}return y=s.child,s=y.sibling,h=As(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Wd(s,o){return o=uc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Xu(s,o,l,h){return h!==null&&_d(h),Ao(o,s.child,null,l),s=Wd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function $E(s,o,l,h,m,y,E){if(l)return o.flags&256?(o.flags&=-257,h=Ud(Error(t(422))),Xu(s,o,E,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=uc({mode:"visible",children:h.children},m,0,null),y=ki(y,m,E,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Ao(o,s.child,null,E),o.child.memoizedState=Hd(E),o.memoizedState=qd,y);if((o.mode&1)===0)return Xu(s,o,E,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;return h=N,y=Error(t(419)),h=Ud(y,h,void 0),Xu(s,o,E,h)}if(N=(E&s.childLanes)!==0,tn||N){if(h=bt,h!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|E))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,$r(s,m),qn(h,s,m,-1))}return uf(),h=Ud(Error(t(421))),Xu(s,o,E,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=eT.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,gn=ys(m.nextSibling),mn=o,nt=!0,Un=null,s!==null&&(In[Sn++]=Fr,In[Sn++]=Ur,In[Sn++]=wi,Fr=s.id,Ur=s.overflow,wi=o),o=Wd(o,h.children),o.flags|=4096,o)}function _y(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Td(s.return,o,l)}function Kd(s,o,l,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function wy(s,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Qt(s,o,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_y(s,l,o);else if(s.tag===19)_y(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Qe(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&zu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Kd(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&zu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Kd(o,!0,l,null,y);break;case"together":Kd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function zr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Si|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=As(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=As(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function BE(s,o,l){switch(o.tag){case 3:gy(o),Co();break;case 5:Lg(o);break;case 1:en(o.type)&&ju(o);break;case 4:bd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Qe(Fu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Qe(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?vy(s,o,l):(Qe(rt,rt.current&1),s=zr(s,o,l),s!==null?s.sibling:null);Qe(rt,rt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(s.flags&128)!==0){if(h)return wy(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,fy(s,o,l)}return zr(s,o,l)}var xy,Gd,Ey,Ty;xy=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Gd=function(){},Ey=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Ti(fr.current);var y=null;switch(l){case"input":m=Qi(s,m),h=Qi(s,h),y=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":m=ya(s,m),h=ya(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Ru)}On(l,h);var E;l=null;for(q in m)if(!h.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var N=m[q];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var O=h[q];if(N=m!=null?m[q]:void 0,h.hasOwnProperty(q)&&O!==N&&(O!=null||N!=null))if(q==="style")if(N){for(E in N)!N.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in O)O.hasOwnProperty(E)&&N[E]!==O[E]&&(l||(l={}),l[E]=O[E])}else l||(y||(y=[]),y.push(q,l)),l=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,N=N?N.__html:void 0,O!=null&&N!==O&&(y=y||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&Ze("scroll",s),y||N===O||(y=[])):(y=y||[]).push(q,O))}l&&(y=y||[]).push("style",l);var q=y;(o.updateQueue=q)&&(o.flags|=4)}},Ty=function(s,o,l,h){l!==h&&(o.flags|=4)};function rl(s,o){if(!nt)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function $t(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function zE(s,o,l){var h=o.pendingProps;switch(gd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return en(o.type)&&Pu(),$t(o),null;case 3:return h=o.stateNode,No(),et(Zt),et(Ft),kd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Vu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Un!==null&&(of(Un),Un=null))),Gd(s,o),$t(o),null;case 5:Cd(o);var m=Ti(Ja.current);if(l=o.type,s!==null&&o.stateNode!=null)Ey(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return $t(o),null}if(s=Ti(fr.current),Vu(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[dr]=o,h[Ka]=y,s=(o.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(m=0;m<qa.length;m++)Ze(qa[m],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":tu(h,y),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",h);break;case"textarea":va(h,y),Ze("invalid",h)}On(l,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var N=y[E];E==="children"?typeof N=="string"?h.textContent!==N&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,N,s),m=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,N,s),m=["children",""+N]):i.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Ze("scroll",h)}switch(l){case"input":Gi(h),ga(h,y,!0);break;case"textarea":Gi(h),ts(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ru)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_a(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[dr]=o,s[Ka]=h,xy(s,o,!1,!1),o.stateNode=s;e:{switch(E=Zi(l,h),l){case"dialog":Ze("cancel",s),Ze("close",s),m=h;break;case"iframe":case"object":case"embed":Ze("load",s),m=h;break;case"video":case"audio":for(m=0;m<qa.length;m++)Ze(qa[m],s);m=h;break;case"source":Ze("error",s),m=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),m=h;break;case"details":Ze("toggle",s),m=h;break;case"input":tu(s,h),m=Qi(s,h),Ze("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":va(s,h),m=ya(s,h),Ze("invalid",s);break;default:m=h}On(l,m),N=m;for(y in N)if(N.hasOwnProperty(y)){var O=N[y];y==="style"?Ji(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ru(s,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&si(s,O):typeof O=="number"&&si(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Ze("scroll",s):O!=null&&W(s,y,O,E))}switch(l){case"input":Gi(s),ga(s,h,!1);break;case"textarea":Gi(s),ts(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ue(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Dn(s,!!h.multiple,y,!1):h.defaultValue!=null&&Dn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ru)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $t(o),null;case 6:if(s&&o.stateNode!=null)Ty(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ti(Ja.current),Ti(fr.current),Vu(o)){if(h=o.stateNode,l=o.memoizedProps,h[dr]=o,(y=h.nodeValue!==l)&&(s=mn,s!==null))switch(s.tag){case 3:ku(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,l,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[dr]=o,o.stateNode=h}return $t(o),null;case 13:if(et(rt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(nt&&gn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)bg(),Co(),o.flags|=98560,y=!1;else if(y=Vu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[dr]=o}else Co(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else Un!==null&&(of(Un),Un=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(rt.current&1)!==0?Et===0&&(Et=3):uf())),o.updateQueue!==null&&(o.flags|=4),$t(o),null);case 4:return No(),Gd(s,o),s===null&&Ha(o.stateNode.containerInfo),$t(o),null;case 10:return Ed(o.type._context),$t(o),null;case 17:return en(o.type)&&Pu(),$t(o),null;case 19:if(et(rt),y=o.memoizedState,y===null)return $t(o),null;if(h=(o.flags&128)!==0,E=y.rendering,E===null)if(h)rl(y,!1);else{if(Et!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=zu(s),E!==null){for(o.flags|=128,rl(y,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,s=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Qe(rt,rt.current&1|2),o.child}s=s.sibling}y.tail!==null&&Je()>Do&&(o.flags|=128,h=!0,rl(y,!1),o.lanes=4194304)}else{if(!h)if(s=zu(E),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),rl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!nt)return $t(o),null}else 2*Je()-y.renderingStartTime>Do&&l!==1073741824&&(o.flags|=128,h=!0,rl(y,!1),o.lanes=4194304);y.isBackwards?(E.sibling=o.child,o.child=E):(l=y.last,l!==null?l.sibling=E:o.child=E,y.last=E)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Je(),o.sibling=null,l=rt.current,Qe(rt,h?l&1|2:l&1),o):($t(o),null);case 22:case 23:return lf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(yn&1073741824)!==0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function qE(s,o){switch(gd(o),o.tag){case 1:return en(o.type)&&Pu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return No(),et(Zt),et(Ft),kd(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Cd(o),null;case 13:if(et(rt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Co()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(rt),null;case 4:return No(),null;case 10:return Ed(o.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var Ju=!1,Bt=!1,HE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function jo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(s,o,h)}else l.current=null}function Qd(s,o,l){try{l()}catch(h){lt(s,o,h)}}var Iy=!1;function WE(s,o){if(ad=Lr,s=ng(),Zh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,N=-1,O=-1,q=0,ee=0,ne=s,Z=null;t:for(;;){for(var he;ne!==l||m!==0&&ne.nodeType!==3||(N=E+m),ne!==y||h!==0&&ne.nodeType!==3||(O=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(he=ne.firstChild)!==null;)Z=ne,ne=he;for(;;){if(ne===s)break t;if(Z===l&&++q===m&&(N=E),Z===y&&++ee===h&&(O=E),(he=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=he}l=N===-1||O===-1?null:{start:N,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ld={focusedElem:s,selectionRange:l},Lr=!1,fe=o;fe!==null;)if(o=fe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,fe=s;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,ft=pe.memoizedState,$=o.stateNode,V=$.getSnapshotBeforeUpdate(o.elementType===o.type?ge:$n(o.type,ge),ft);$.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){lt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,fe=s;break}fe=o.return}return pe=Iy,Iy=!1,pe}function sl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Qd(o,l,y)}m=m.next}while(m!==h)}}function Zu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Xd(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Sy(s){var o=s.alternate;o!==null&&(s.alternate=null,Sy(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[dr],delete o[Ka],delete o[dd],delete o[AE],delete o[kE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function by(s){return s.tag===5||s.tag===3||s.tag===4}function Cy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||by(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Yd(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ru));else if(h!==4&&(s=s.child,s!==null))for(Yd(s,o,l),s=s.sibling;s!==null;)Yd(s,o,l),s=s.sibling}function Jd(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Jd(s,o,l),s=s.sibling;s!==null;)Jd(s,o,l),s=s.sibling}var Pt=null,Bn=!1;function Ts(s,o,l){for(l=l.child;l!==null;)Ay(s,o,l),l=l.sibling}function Ay(s,o,l){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ui,l)}catch{}switch(l.tag){case 5:Bt||jo(l,o);case 6:var h=Pt,m=Bn;Pt=null,Ts(s,o,l),Pt=h,Bn=m,Pt!==null&&(Bn?(s=Pt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(Bn?(s=Pt,l=l.stateNode,s.nodeType===8?hd(s.parentNode,l):s.nodeType===1&&hd(s,l),fs(s)):hd(Pt,l.stateNode));break;case 4:h=Pt,m=Bn,Pt=l.stateNode.containerInfo,Bn=!0,Ts(s,o,l),Pt=h,Bn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Qd(l,o,E),m=m.next}while(m!==h)}Ts(s,o,l);break;case 1:if(!Bt&&(jo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(N){lt(l,o,N)}Ts(s,o,l);break;case 21:Ts(s,o,l);break;case 22:l.mode&1?(Bt=(h=Bt)||l.memoizedState!==null,Ts(s,o,l),Bt=h):Ts(s,o,l);break;default:Ts(s,o,l)}}function ky(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new HE),o.forEach(function(h){var m=tT.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function zn(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=s,E=o,N=E;e:for(;N!==null;){switch(N.tag){case 5:Pt=N.stateNode,Bn=!1;break e;case 3:Pt=N.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=N.stateNode.containerInfo,Bn=!0;break e}N=N.return}if(Pt===null)throw Error(t(160));Ay(y,E,m),Pt=null,Bn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(q){lt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ry(o,s),o=o.sibling}function Ry(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(zn(o,s),mr(s),h&4){try{sl(3,s,s.return),Zu(3,s)}catch(ge){lt(s,s.return,ge)}try{sl(5,s,s.return)}catch(ge){lt(s,s.return,ge)}}break;case 1:zn(o,s),mr(s),h&512&&l!==null&&jo(l,l.return);break;case 5:if(zn(o,s),mr(s),h&512&&l!==null&&jo(l,l.return),s.flags&32){var m=s.stateNode;try{si(m,"")}catch(ge){lt(s,s.return,ge)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,N=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&Xi(m,y),Zi(N,E);var q=Zi(N,y);for(E=0;E<O.length;E+=2){var ee=O[E],ne=O[E+1];ee==="style"?Ji(m,ne):ee==="dangerouslySetInnerHTML"?ru(m,ne):ee==="children"?si(m,ne):W(m,ee,ne,q)}switch(N){case"input":ri(m,y);break;case"textarea":nu(m,y);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?Dn(m,!!y.multiple,he,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Dn(m,!!y.multiple,y.defaultValue,!0):Dn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ka]=y}catch(ge){lt(s,s.return,ge)}}break;case 6:if(zn(o,s),mr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ge){lt(s,s.return,ge)}}break;case 3:if(zn(o,s),mr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{fs(o.containerInfo)}catch(ge){lt(s,s.return,ge)}break;case 4:zn(o,s),mr(s);break;case 13:zn(o,s),mr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(tf=Je())),h&4&&ky(s);break;case 22:if(ee=l!==null&&l.memoizedState!==null,s.mode&1?(Bt=(q=Bt)||ee,zn(o,s),Bt=q):zn(o,s),mr(s),h&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ee&&(s.mode&1)!==0)for(fe=s,ee=s.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(Z=fe,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:sl(4,Z,Z.return);break;case 1:jo(Z,Z.return);var pe=Z.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Z,l=Z.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ge){lt(h,l,ge)}}break;case 5:jo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){jy(ne);continue}}he!==null?(he.return=Z,fe=he):jy(ne)}ee=ee.sibling}e:for(ee=null,ne=s;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,q?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=ne.stateNode,O=ne.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,N.style.display=ss("display",E))}catch(ge){lt(s,s.return,ge)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(ge){lt(s,s.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:zn(o,s),mr(s),h&4&&ky(s);break;case 21:break;default:zn(o,s),mr(s)}}function mr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(by(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(si(m,""),h.flags&=-33);var y=Cy(s);Jd(s,y,m);break;case 3:case 4:var E=h.stateNode.containerInfo,N=Cy(s);Yd(s,N,E);break;default:throw Error(t(161))}}catch(O){lt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function KE(s,o,l){fe=s,Ny(s)}function Ny(s,o,l){for(var h=(s.mode&1)!==0;fe!==null;){var m=fe,y=m.child;if(m.tag===22&&h){var E=m.memoizedState!==null||Ju;if(!E){var N=m.alternate,O=N!==null&&N.memoizedState!==null||Bt;N=Ju;var q=Bt;if(Ju=E,(Bt=O)&&!q)for(fe=m;fe!==null;)E=fe,O=E.child,E.tag===22&&E.memoizedState!==null?Ly(m):O!==null?(O.return=E,fe=O):Ly(m);for(;y!==null;)fe=y,Ny(y),y=y.sibling;fe=m,Ju=N,Bt=q}Py(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,fe=y):Py(s)}}function Py(s){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Bt||Zu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Bt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:$n(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&jg(o,y,h);break;case 3:var E=o.updateQueue;if(E!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}jg(o,E,l)}break;case 5:var N=o.stateNode;if(l===null&&o.flags&4){l=N;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&fs(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||o.flags&512&&Xd(o)}catch(Z){lt(o,o.return,Z)}}if(o===s){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function jy(s){for(;fe!==null;){var o=fe;if(o===s){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Ly(s){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Zu(4,o)}catch(O){lt(o,l,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){lt(o,m,O)}}var y=o.return;try{Xd(o)}catch(O){lt(o,y,O)}break;case 5:var E=o.return;try{Xd(o)}catch(O){lt(o,E,O)}}}catch(O){lt(o,o.return,O)}if(o===s){fe=null;break}var N=o.sibling;if(N!==null){N.return=o.return,fe=N;break}fe=o.return}}var GE=Math.ceil,ec=re.ReactCurrentDispatcher,Zd=re.ReactCurrentOwner,An=re.ReactCurrentBatchConfig,$e=0,bt=null,yt=null,jt=0,yn=0,Lo=vs(0),Et=0,il=null,Si=0,tc=0,ef=0,ol=null,nn=null,tf=0,Do=1/0,qr=null,nc=!1,nf=null,Is=null,rc=!1,Ss=null,sc=0,al=0,rf=null,ic=-1,oc=0;function Xt(){return($e&6)!==0?Je():ic!==-1?ic:ic=Je()}function bs(s){return(s.mode&1)===0?1:($e&2)!==0&&jt!==0?jt&-jt:NE.transition!==null?(oc===0&&(oc=Aa()),oc):(s=Me,s!==0||(s=window.event,s=s===void 0?16:uo(s.type)),s)}function qn(s,o,l,h){if(50<al)throw al=0,rf=null,Error(t(185));fi(s,l,h),(($e&2)===0||s!==bt)&&(s===bt&&(($e&2)===0&&(tc|=l),Et===4&&Cs(s,jt)),rn(s,h),l===1&&$e===0&&(o.mode&1)===0&&(Do=Je()+500,Lu&&ws()))}function rn(s,o){var l=s.callbackNode;di(s,o);var h=Nr(s,s===bt?jt:0);if(h===0)l!==null&&no(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&no(l),o===1)s.tag===0?RE(Oy.bind(null,s)):xg(Oy.bind(null,s)),bE(function(){($e&6)===0&&ws()}),l=null;else{switch(nr(h)){case 1:l=ro;break;case 4:l=Sa;break;case 16:l=li;break;case 536870912:l=so;break;default:l=li}l=qy(l,Dy.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Dy(s,o){if(ic=-1,oc=0,($e&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Oo()&&s.callbackNode!==l)return null;var h=Nr(s,s===bt?jt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=ac(s,h);else{o=h;var m=$e;$e|=2;var y=My();(bt!==s||jt!==o)&&(qr=null,Do=Je()+500,Ci(s,o));do try{YE();break}catch(N){Vy(s,N)}while(!0);xd(),ec.current=y,$e=m,yt!==null?o=0:(bt=null,jt=0,o=Et)}if(o!==0){if(o===2&&(m=Ca(s),m!==0&&(h=m,o=sf(s,m))),o===1)throw l=il,Ci(s,0),Cs(s,h),rn(s,Je()),l;if(o===6)Cs(s,h);else{if(m=s.current.alternate,(h&30)===0&&!QE(m)&&(o=ac(s,h),o===2&&(y=Ca(s),y!==0&&(h=y,o=sf(s,y))),o===1))throw l=il,Ci(s,0),Cs(s,h),rn(s,Je()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ai(s,nn,qr);break;case 3:if(Cs(s,h),(h&130023424)===h&&(o=tf+500-Je(),10<o)){if(Nr(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Xt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=cd(Ai.bind(null,s,nn,qr),o);break}Ai(s,nn,qr);break;case 4:if(Cs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var E=31-cn(h);y=1<<E,E=o[E],E>m&&(m=E),h&=~y}if(h=m,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*GE(h/1960))-h,10<h){s.timeoutHandle=cd(Ai.bind(null,s,nn,qr),h);break}Ai(s,nn,qr);break;case 5:Ai(s,nn,qr);break;default:throw Error(t(329))}}}return rn(s,Je()),s.callbackNode===l?Dy.bind(null,s):null}function sf(s,o){var l=ol;return s.current.memoizedState.isDehydrated&&(Ci(s,o).flags|=256),s=ac(s,o),s!==2&&(o=nn,nn=l,o!==null&&of(o)),s}function of(s){nn===null?nn=s:nn.push.apply(nn,s)}function QE(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Fn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(s,o){for(o&=~ef,o&=~tc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-cn(o),h=1<<l;s[l]=-1,o&=~h}}function Oy(s){if(($e&6)!==0)throw Error(t(327));Oo();var o=Nr(s,0);if((o&1)===0)return rn(s,Je()),null;var l=ac(s,o);if(s.tag!==0&&l===2){var h=Ca(s);h!==0&&(o=h,l=sf(s,h))}if(l===1)throw l=il,Ci(s,0),Cs(s,o),rn(s,Je()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ai(s,nn,qr),rn(s,Je()),null}function af(s,o){var l=$e;$e|=1;try{return s(o)}finally{$e=l,$e===0&&(Do=Je()+500,Lu&&ws())}}function bi(s){Ss!==null&&Ss.tag===0&&($e&6)===0&&Oo();var o=$e;$e|=1;var l=An.transition,h=Me;try{if(An.transition=null,Me=1,s)return s()}finally{Me=h,An.transition=l,$e=o,($e&6)===0&&ws()}}function lf(){yn=Lo.current,et(Lo)}function Ci(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,SE(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch(gd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pu();break;case 3:No(),et(Zt),et(Ft),kd();break;case 5:Cd(h);break;case 4:No();break;case 13:et(rt);break;case 19:et(rt);break;case 10:Ed(h.type._context);break;case 22:case 23:lf()}l=l.return}if(bt=s,yt=s=As(s.current,null),jt=yn=o,Et=0,il=null,ef=tc=Si=0,nn=ol=null,Ei!==null){for(o=0;o<Ei.length;o++)if(l=Ei[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=m,h.next=E}l.pending=h}Ei=null}return s}function Vy(s,o){do{var l=yt;try{if(xd(),qu.current=Gu,Hu){for(var h=st.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Hu=!1}if(Ii=0,St=xt=st=null,Za=!1,el=0,Zd.current=null,l===null||l.return===null){Et=1,il=o,yt=null;break}e:{var y=s,E=l.return,N=l,O=o;if(o=jt,N.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,ee=N,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=ly(E);if(he!==null){he.flags&=-257,uy(he,E,N,y,o),he.mode&1&&ay(y,q,o),o=he,O=q;var pe=o.updateQueue;if(pe===null){var ge=new Set;ge.add(O),o.updateQueue=ge}else pe.add(O);break e}else{if((o&1)===0){ay(y,q,o),uf();break e}O=Error(t(426))}}else if(nt&&N.mode&1){var ft=ly(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),uy(ft,E,N,y,o),_d(Po(O,N));break e}}y=O=Po(O,N),Et!==4&&(Et=2),ol===null?ol=[y]:ol.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var $=iy(y,O,o);Pg(y,$);break e;case 1:N=O;var V=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Is===null||!Is.has(z)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=oy(y,N,o);Pg(y,ie);break e}}y=y.return}while(y!==null)}Uy(l)}catch(ve){o=ve,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function My(){var s=ec.current;return ec.current=Gu,s===null?Gu:s}function uf(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||(Si&268435455)===0&&(tc&268435455)===0||Cs(bt,jt)}function ac(s,o){var l=$e;$e|=2;var h=My();(bt!==s||jt!==o)&&(qr=null,Ci(s,o));do try{XE();break}catch(m){Vy(s,m)}while(!0);if(xd(),$e=l,ec.current=h,yt!==null)throw Error(t(261));return bt=null,jt=0,Et}function XE(){for(;yt!==null;)Fy(yt)}function YE(){for(;yt!==null&&!ai();)Fy(yt)}function Fy(s){var o=zy(s.alternate,s,yn);s.memoizedProps=s.pendingProps,o===null?Uy(s):yt=o,Zd.current=null}function Uy(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=zE(l,o,yn),l!==null){yt=l;return}}else{if(l=qE(l,o),l!==null){l.flags&=32767,yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Et=6,yt=null;return}}if(o=o.sibling,o!==null){yt=o;return}yt=o=s}while(o!==null);Et===0&&(Et=5)}function Ai(s,o,l){var h=Me,m=An.transition;try{An.transition=null,Me=1,JE(s,o,l,h)}finally{An.transition=m,Me=h}return null}function JE(s,o,l,h){do Oo();while(Ss!==null);if(($e&6)!==0)throw Error(t(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(Gh(s,y),s===bt&&(yt=bt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,qy(li,function(){return Oo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=An.transition,An.transition=null;var E=Me;Me=1;var N=$e;$e|=4,Zd.current=null,WE(s,l),Ry(l,s),vE(ld),Lr=!!ad,ld=ad=null,s.current=l,KE(l),Rr(),$e=N,Me=E,An.transition=y}else s.current=l;if(rc&&(rc=!1,Ss=s,sc=m),y=s.pendingLanes,y===0&&(Is=null),pu(l.stateNode),rn(s,Je()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(nc)throw nc=!1,s=nf,nf=null,s;return(sc&1)!==0&&s.tag!==0&&Oo(),y=s.pendingLanes,(y&1)!==0?s===rf?al++:(al=0,rf=s):al=0,ws(),null}function Oo(){if(Ss!==null){var s=nr(sc),o=An.transition,l=Me;try{if(An.transition=null,Me=16>s?16:s,Ss===null)var h=!1;else{if(s=Ss,Ss=null,sc=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,fe=s.current;fe!==null;){var y=fe,E=y.child;if((fe.flags&16)!==0){var N=y.deletions;if(N!==null){for(var O=0;O<N.length;O++){var q=N[O];for(fe=q;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:sl(8,ee,y)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var Z=ee.sibling,he=ee.return;if(Sy(ee),ee===q){fe=null;break}if(Z!==null){Z.return=he,fe=Z;break}fe=he}}}var pe=y.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var ft=ge.sibling;ge.sibling=null,ge=ft}while(ge!==null)}}fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:sl(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,fe=$;break e}fe=y.return}}var V=s.current;for(fe=V;fe!==null;){E=fe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,fe=z;else e:for(E=V;fe!==null;){if(N=fe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Zu(9,N)}}catch(ve){lt(N,N.return,ve)}if(N===E){fe=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,fe=ie;break e}fe=N.return}}if($e=m,ws(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ui,s)}catch{}h=!0}return h}finally{Me=l,An.transition=o}}return!1}function $y(s,o,l){o=Po(l,o),o=iy(s,o,1),s=Es(s,o,1),o=Xt(),s!==null&&(fi(s,1,o),rn(s,o))}function lt(s,o,l){if(s.tag===3)$y(s,s,l);else for(;o!==null;){if(o.tag===3){$y(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Is===null||!Is.has(h))){s=Po(l,s),s=oy(o,s,1),o=Es(o,s,1),s=Xt(),o!==null&&(fi(o,1,s),rn(o,s));break}}o=o.return}}function ZE(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=Xt(),s.pingedLanes|=s.suspendedLanes&l,bt===s&&(jt&l)===l&&(Et===4||Et===3&&(jt&130023424)===jt&&500>Je()-tf?Ci(s,0):ef|=l),rn(s,o)}function By(s,o){o===0&&((s.mode&1)===0?o=1:(o=cs,cs<<=1,(cs&130023424)===0&&(cs=4194304)));var l=Xt();s=$r(s,o),s!==null&&(fi(s,o,l),rn(s,l))}function eT(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),By(s,l)}function tT(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),By(s,l)}var zy;zy=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||Zt.current)tn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return tn=!1,BE(s,o,l);tn=(s.flags&131072)!==0}else tn=!1,nt&&(o.flags&1048576)!==0&&Eg(o,Ou,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Yu(s,o),s=o.pendingProps;var m=Io(o,Ft.current);Ro(o,l),m=Pd(null,o,h,s,m,l);var y=jd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,en(h)?(y=!0,ju(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sd(o),m.updater=Qu,o.stateNode=m,m._reactInternals=o,Fd(o,h,s,l),o=zd(null,o,h,!0,y,l)):(o.tag=0,nt&&y&&md(o),Qt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Yu(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=rT(h),s=$n(h,s),m){case 0:o=Bd(null,o,h,s,l);break e;case 1:o=my(null,o,h,s,l);break e;case 11:o=cy(null,o,h,s,l);break e;case 14:o=hy(null,o,h,$n(h.type,s),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:$n(h,m),Bd(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:$n(h,m),my(s,o,h,m,l);case 3:e:{if(gy(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Ng(s,o),Bu(o,h,null,l);var E=o.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Po(Error(t(423)),o),o=yy(s,o,h,l,m);break e}else if(h!==m){m=Po(Error(t(424)),o),o=yy(s,o,h,l,m);break e}else for(gn=ys(o.stateNode.containerInfo.firstChild),mn=o,nt=!0,Un=null,l=kg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),h===m){o=zr(s,o,l);break e}Qt(s,o,h,l)}o=o.child}return o;case 5:return Lg(o),s===null&&vd(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,E=m.children,ud(h,m)?E=null:y!==null&&ud(h,y)&&(o.flags|=32),py(s,o),Qt(s,o,E,l),o.child;case 6:return s===null&&vd(o),null;case 13:return vy(s,o,l);case 4:return bd(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Ao(o,null,h,l):Qt(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:$n(h,m),cy(s,o,h,m,l);case 7:return Qt(s,o,o.pendingProps,l),o.child;case 8:return Qt(s,o,o.pendingProps.children,l),o.child;case 12:return Qt(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,E=m.value,Qe(Fu,h._currentValue),h._currentValue=E,y!==null)if(Fn(y.value,E)){if(y.children===m.children&&!Zt.current){o=zr(s,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var N=y.dependencies;if(N!==null){E=y.child;for(var O=N.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=Br(-1,l&-l),O.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),q.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Td(y.return,l,o),N.lanes|=l;break}O=O.next}}else if(y.tag===10)E=y.type===o.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),Td(E,l,o),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===o){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Qt(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ro(o,l),m=bn(m),h=h(m),o.flags|=1,Qt(s,o,h,l),o.child;case 14:return h=o.type,m=$n(h,o.pendingProps),m=$n(h.type,m),hy(s,o,h,m,l);case 15:return dy(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:$n(h,m),Yu(s,o),o.tag=1,en(h)?(s=!0,ju(o)):s=!1,Ro(o,l),ry(o,h,m),Fd(o,h,m,l),zd(null,o,h,!0,s,l);case 19:return wy(s,o,l);case 22:return fy(s,o,l)}throw Error(t(156,o.tag))};function qy(s,o){return Ia(s,o)}function nT(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,o,l,h){return new nT(s,o,l,h)}function cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rT(s){if(typeof s=="function")return cf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===b)return 11;if(s===we)return 14}return 2}function As(s,o){var l=s.alternate;return l===null?(l=kn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function lc(s,o,l,h,m,y){var E=2;if(h=s,typeof s=="function")cf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case P:return ki(l.children,m,y,o);case S:E=8,m|=8;break;case A:return s=kn(12,l,o,m|2),s.elementType=A,s.lanes=y,s;case R:return s=kn(13,l,o,m),s.elementType=R,s.lanes=y,s;case se:return s=kn(19,l,o,m),s.elementType=se,s.lanes=y,s;case ae:return uc(l,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:E=10;break e;case L:E=9;break e;case b:E=11;break e;case we:E=14;break e;case G:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=kn(E,l,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function ki(s,o,l,h){return s=kn(7,s,h,o),s.lanes=l,s}function uc(s,o,l,h){return s=kn(22,s,h,o),s.elementType=ae,s.lanes=l,s.stateNode={isHidden:!1},s}function hf(s,o,l){return s=kn(6,s,null,o),s.lanes=l,s}function df(s,o,l){return o=kn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function sT(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ka(0),this.expirationTimes=ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ff(s,o,l,h,m,y,E,N,O){return s=new sT(s,o,l,N,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=kn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(y),s}function iT(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function Hy(s){if(!s)return _s;s=s._reactInternals;e:{if(Vn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(en(l))return _g(s,l,o)}return o}function Wy(s,o,l,h,m,y,E,N,O){return s=ff(l,h,!0,s,m,y,E,N,O),s.context=Hy(null),l=s.current,h=Xt(),m=bs(l),y=Br(h,m),y.callback=o??null,Es(l,y,m),s.current.lanes=m,fi(s,m,h),rn(s,h),s}function cc(s,o,l,h){var m=o.current,y=Xt(),E=bs(m);return l=Hy(l),o.context===null?o.context=l:o.pendingContext=l,o=Br(y,E),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Es(m,o,E),s!==null&&(qn(s,m,E,y),$u(s,m,E)),E}function hc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ky(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function pf(s,o){Ky(s,o),(s=s.alternate)&&Ky(s,o)}function oT(){return null}var Gy=typeof reportError=="function"?reportError:function(s){console.error(s)};function mf(s){this._internalRoot=s}dc.prototype.render=mf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));cc(s,o,null,null)},dc.prototype.unmount=mf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;bi(function(){cc(null,s,null,null)}),o[Vr]=null}};function dc(s){this._internalRoot=s}dc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ja();s={blockedOn:null,target:s,priority:o};for(var l=0;l<hn.length&&o!==0&&o<hn[l].priority;l++);hn.splice(l,0,s),l===0&&ao(s)}};function gf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qy(){}function aT(s,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var q=hc(E);y.call(q)}}var E=Wy(o,h,s,0,null,!1,!1,"",Qy);return s._reactRootContainer=E,s[Vr]=E.current,Ha(s.nodeType===8?s.parentNode:s),bi(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var N=h;h=function(){var q=hc(O);N.call(q)}}var O=ff(s,0,!1,null,null,!1,!1,"",Qy);return s._reactRootContainer=O,s[Vr]=O.current,Ha(s.nodeType===8?s.parentNode:s),bi(function(){cc(o,O,l,h)}),O}function pc(s,o,l,h,m){var y=l._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var N=m;m=function(){var O=hc(E);N.call(O)}}cc(o,E,s,m)}else E=aT(l,o,s,m,h);return hc(E)}Na=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=ze(o.pendingLanes);l!==0&&(Ra(o,l|1),rn(o,Je()),($e&6)===0&&(Do=Je()+500,ws()))}break;case 13:bi(function(){var h=$r(s,1);if(h!==null){var m=Xt();qn(h,s,1,m)}}),pf(s,1)}},io=function(s){if(s.tag===13){var o=$r(s,134217728);if(o!==null){var l=Xt();qn(o,s,134217728,l)}pf(s,134217728)}},Pa=function(s){if(s.tag===13){var o=bs(s),l=$r(s,o);if(l!==null){var h=Xt();qn(l,s,o,h)}pf(s,o)}},ja=function(){return Me},La=function(s,o){var l=Me;try{return Me=s,o()}finally{Me=l}},Cr=function(s,o,l){switch(o){case"input":if(ri(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Nu(h);if(!m)throw Error(t(90));ma(h),ri(h,m)}}}break;case"textarea":nu(s,l);break;case"select":o=l.value,o!=null&&Dn(s,!!l.multiple,o,!1)}},iu=af,ou=bi;var lT={usingClientEntryPoint:!1,Events:[Ga,Eo,Nu,os,as,af]},ll={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=fu(s),s===null?null:s.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||oT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{ui=mc.inject(uT),un=mc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT,sn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(o))throw Error(t(200));return iT(s,o,null,l)},sn.createRoot=function(s,o){if(!gf(s))throw Error(t(299));var l=!1,h="",m=Gy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ff(s,1,!1,null,null,l,!1,h,m),s[Vr]=o.current,Ha(s.nodeType===8?s.parentNode:s),new mf(o)},sn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=fu(o),s=s===null?null:s.stateNode,s},sn.flushSync=function(s){return bi(s)},sn.hydrate=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!0,l)},sn.hydrateRoot=function(s,o,l){if(!gf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",E=Gy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),o=Wy(o,null,s,1,l??null,m,!1,y,E),s[Vr]=o.current,Ha(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new dc(o)},sn.render=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!1,l)},sn.unmountComponentAtNode=function(s){if(!fc(s))throw Error(t(40));return s._reactRootContainer?(bi(function(){pc(null,null,s,!1,function(){s._reactRootContainer=null,s[Vr]=null})}),!0):!1},sn.unstable_batchedUpdates=af,sn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!fc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pc(s,o,l,!1,h)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var r0;function vT(){if(r0)return _f.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_f.exports=yT(),_f.exports}var s0;function _T(){if(s0)return gc;s0=1;var n=vT();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var wT=_T();const xT=E_(wT);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function ET(n={}){function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return qf("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Cl(i)}return IT(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TT(){return Math.random().toString(36).substring(2,10)}function o0(n,e){return{usr:n.state,key:n.key,idx:e}}function qf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:t,key:e&&e.key||r||TT()}}function Cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function oa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function IT(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d="POP",p=null,g=_();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function _(){return(u.state||{idx:null}).idx}function x(){d="POP";let D=_(),K=D==null?null:D-g;g=D,p&&p({action:d,location:U.location,delta:K})}function T(D,K){d="PUSH";let Q=qf(U.location,D,K);g=_()+1;let W=o0(Q,g),re=U.createHref(Q);try{u.pushState(W,"",re)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;i.location.assign(re)}a&&p&&p({action:d,location:U.location,delta:1})}function k(D,K){d="REPLACE";let Q=qf(U.location,D,K);g=_();let W=o0(Q,g),re=U.createHref(Q);u.replaceState(W,"",re),a&&p&&p({action:d,location:U.location,delta:0})}function C(D){return ST(D)}let U={get action(){return d},get location(){return n(i,u)},listen(D){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(i0,x),p=D,()=>{i.removeEventListener(i0,x),p=null}},createHref(D){return e(i,D)},createURL:C,encodeLocation(D){let K=C(D);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:k,go(D){return u.go(D)}};return U}function ST(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Cl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function T_(n,e,t="/"){return bT(n,e,t,!1)}function bT(n,e,t,r){let i=typeof e=="string"?oa(e):e,a=Gr(i.pathname||"/",t);if(a==null)return null;let u=I_(n);CT(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let g=MT(a);d=OT(u[p],g,r)}return d}function I_(n,e=[],t=[],r="",i=!1){let a=(u,d,p=i,g)=>{let _={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&p)return;it(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let x=Kr([r,_.relativePath]),T=t.concat(_);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),I_(u.children,e,T,x,p)),!(u.path==null&&!u.index)&&e.push({path:x,score:LT(x,u.index),routesMeta:T})};return n.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,d);else for(let g of S_(u.path))a(u,d,!0,g)}),e}function S_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=S_(r.join("/")),d=[];return d.push(...u.map(p=>p===""?a:[a,p].join("/"))),i&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function CT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AT=/^:[\w-]+$/,kT=3,RT=2,NT=1,PT=10,jT=-2,a0=n=>n==="*";function LT(n,e){let t=n.split("/"),r=t.length;return t.some(a0)&&(r+=jT),e&&(r+=RT),t.filter(i=>!a0(i)).reduce((i,a)=>i+(AT.test(a)?kT:a===""?NT:PT),r)}function DT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function OT(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",u=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",x=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!x&&g&&t&&!r[r.length-1].route.index&&(x=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Kr([a,x.pathname]),pathnameBase:BT(Kr([a,x.pathnameBase])),route:T}),x.pathnameBase!=="/"&&(a=Kr([a,x.pathnameBase]))}return u}function zc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VT(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((g,{paramName:_,isOptional:x},T)=>{if(_==="*"){let C=d[T]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const k=d[T];return x&&!k?g[_]=void 0:g[_]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function VT(n,e=!1,t=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function MT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function FT(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?oa(n):n;return{pathname:t?t.startsWith("/")?t:UT(t,e):e,search:zT(r),hash:qT(i)}}function UT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $T(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function b_(n){let e=$T(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function C_(n,e,t,r=!1){let i;typeof n=="string"?i=oa(n):(i={...n},it(!i.pathname||!i.pathname.includes("?"),Ef("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Ef("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Ef("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),x-=1;i.pathname=T.join("/")}d=x>=0?e[x]:"/"}let p=FT(i,d),g=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),BT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var A_=["POST","PUT","PATCH","DELETE"];new Set(A_);var WT=["GET",...A_];new Set(WT);var aa=M.createContext(null);aa.displayName="DataRouter";var gh=M.createContext(null);gh.displayName="DataRouterState";M.createContext(!1);var k_=M.createContext({isTransitioning:!1});k_.displayName="ViewTransition";var KT=M.createContext(new Map);KT.displayName="Fetchers";var GT=M.createContext(null);GT.displayName="Await";var br=M.createContext(null);br.displayName="Navigation";var $l=M.createContext(null);$l.displayName="Location";var Zr=M.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var kp=M.createContext(null);kp.displayName="RouteError";function QT(n,{relative:e}={}){it(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(br),{hash:i,pathname:a,search:u}=zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Kr([t,a])),r.createHref({pathname:d,search:u,hash:i})}function Bl(){return M.useContext($l)!=null}function Ys(){return it(Bl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext($l).location}var R_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N_(n){M.useContext(br).static||M.useLayoutEffect(n)}function P_(){let{isDataRoute:n}=M.useContext(Zr);return n?lI():XT()}function XT(){it(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(aa),{basename:e,navigator:t}=M.useContext(br),{matches:r}=M.useContext(Zr),{pathname:i}=Ys(),a=JSON.stringify(b_(r)),u=M.useRef(!1);return N_(()=>{u.current=!0}),M.useCallback((p,g={})=>{if(Gn(u.current,R_),!u.current)return;if(typeof p=="number"){t.go(p);return}let _=C_(p,JSON.parse(a),i,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,a,i,n])}M.createContext(null);function zl(n,{relative:e}={}){let{matches:t}=M.useContext(Zr),{pathname:r}=Ys(),i=JSON.stringify(b_(t));return M.useMemo(()=>C_(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function YT(n,e){return j_(n,e)}function j_(n,e,t,r,i){var Q;it(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(br),{matches:u}=M.useContext(Zr),d=u[u.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",x=d&&d.route;{let W=x&&x.path||"";L_(g,!x||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=Ys(),k;if(e){let W=typeof e=="string"?oa(e):e;it(_==="/"||((Q=W.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),k=W}else k=T;let C=k.pathname||"/",U=C;if(_!=="/"){let W=_.replace(/^\//,"").split("/");U="/"+C.replace(/^\//,"").split("/").slice(W.length).join("/")}let D=T_(n,{pathname:U});Gn(x||D!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Gn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=nI(D&&D.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Kr([_,a.encodeLocation?a.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:Kr([_,a.encodeLocation?a.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,t,r,i);return e&&K?M.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},K):K}function JT(){let n=aI(),e=HT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:i},t):null,u)}var ZT=M.createElement(JT,null),eI=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?M.createElement(Zr.Provider,{value:this.props.routeContext},M.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tI({routeContext:n,match:e,children:t}){let r=M.useContext(aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Zr.Provider,{value:n},t)}function nI(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:x,errors:T}=t,k=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||k){d=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((g,_,x)=>{let T,k=!1,C=null,U=null;t&&(T=u&&_.route.id?u[_.route.id]:void 0,C=_.route.errorElement||ZT,d&&(p<0&&x===0?(L_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,U=null):p===x&&(k=!0,U=_.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,x+1)),K=()=>{let Q;return T?Q=C:k?Q=U:_.route.Component?Q=M.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,M.createElement(tI,{match:_,routeContext:{outlet:g,matches:D,isDataRoute:t!=null},children:Q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?M.createElement(eI,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:K(),routeContext:{outlet:null,matches:D,isDataRoute:!0},unstable_onError:r}):K()},null)}function Rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(n){let e=M.useContext(aa);return it(e,Rp(n)),e}function sI(n){let e=M.useContext(gh);return it(e,Rp(n)),e}function iI(n){let e=M.useContext(Zr);return it(e,Rp(n)),e}function Np(n){let e=iI(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oI(){return Np("useRouteId")}function aI(){var r;let n=M.useContext(kp),e=sI("useRouteError"),t=Np("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function lI(){let{router:n}=rI("useNavigate"),e=Np("useNavigate"),t=M.useRef(!1);return N_(()=>{t.current=!0}),M.useCallback(async(i,a={})=>{Gn(t.current,R_),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var l0={};function L_(n,e,t){!e&&!l0[n]&&(l0[n]=!0,Gn(!1,t))}M.memo(uI);function uI({routes:n,future:e,state:t,unstable_onError:r}){return j_(n,void 0,t,r,e)}function Ac(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){it(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=oa(t));let{pathname:p="/",search:g="",hash:_="",state:x=null,key:T="default"}=t,k=M.useMemo(()=>{let C=Gr(p,u);return C==null?null:{location:{pathname:C,search:g,hash:_,state:x,key:T},navigationType:r}},[u,p,g,_,x,T,r]);return Gn(k!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:M.createElement(br.Provider,{value:d},M.createElement($l.Provider,{children:e,value:k}))}function hI({children:n,location:e}){return YT(Hf(n),e)}function Hf(n,e=[]){let t=[];return M.Children.forEach(n,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){t.push.apply(t,Hf(r.props.children,a));return}it(r.type===Ac,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Hf(r.props.children,a)),t.push(u)}),t}var kc="get",Rc="application/x-www-form-urlencoded";function yh(n){return n!=null&&typeof n.tagName=="string"}function dI(n){return yh(n)&&n.tagName.toLowerCase()==="button"}function fI(n){return yh(n)&&n.tagName.toLowerCase()==="form"}function pI(n){return yh(n)&&n.tagName.toLowerCase()==="input"}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}function Wf(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function yI(n,e){let t=Wf(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(a=>{t.append(i,a)})}),t}var yc=null;function vI(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(n){return n!=null&&!_I.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):n}function wI(n,e){let t,r,i,a,u;if(fI(n)){let d=n.getAttribute("action");r=d?Gr(d,e):null,t=n.getAttribute("method")||kc,i=Tf(n.getAttribute("enctype"))||Rc,a=new FormData(n)}else if(dI(n)||pI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?Gr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kc,i=Tf(n.getAttribute("formenctype"))||Tf(d.getAttribute("enctype"))||Rc,a=new FormData(d,n),!vI()){let{name:g,type:_,value:x}=n;if(_==="image"){let T=g?`${g}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else g&&a.append(g,x)}}else{if(yh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kc,r=null,i=Rc,u=n}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xI(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Gr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function EI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function II(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await EI(a,t);return u.links?u.links():[]}return[]}));return AI(r.flat(1).filter(TI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function u0(n,e,t,r,i,a){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,g)=>u(p,g)||d(p,g)):a==="data"?e.filter((p,g)=>{var x;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(u(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function SI(n,e,{includeHydrateFallback:t}={}){return bI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function bI(n){return[...new Set(n)]}function CI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function AI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(CI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function D_(){let n=M.useContext(aa);return Pp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kI(){let n=M.useContext(gh);return Pp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jp=M.createContext(void 0);jp.displayName="FrameworkContext";function O_(){let n=M.useContext(jp);return Pp(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,e){let t=M.useContext(jp),[r,i]=M.useState(!1),[a,u]=M.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:x}=e,T=M.useRef(null);M.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let U=K=>{K.forEach(Q=>{u(Q.isIntersecting)})},D=new IntersectionObserver(U,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[n]),M.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let k=()=>{i(!0)},C=()=>{i(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:cl(d,k),onBlur:cl(p,C),onMouseEnter:cl(g,k),onMouseLeave:cl(_,C),onTouchStart:cl(x,k)}]:[!1,T,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NI({page:n,...e}){let{router:t}=D_(),r=M.useMemo(()=>T_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(jI,{page:n,matches:r,...e}):null}function PI(n){let{manifest:e,routeModules:t}=O_(),[r,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return II(n,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[n,e,t]),r}function jI({page:n,matches:e,...t}){let r=Ys(),{manifest:i,routeModules:a}=O_(),{basename:u}=D_(),{loaderData:d,matches:p}=kI(),g=M.useMemo(()=>u0(n,e,p,i,r,"data"),[n,e,p,i,r]),_=M.useMemo(()=>u0(n,e,p,i,r,"assets"),[n,e,p,i,r]),x=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,U=!1;if(e.forEach(K=>{var W;let Q=i.routes[K.route.id];!Q||!Q.hasLoader||(!g.some(re=>re.route.id===K.route.id)&&K.route.id in d&&((W=a[K.route.id])!=null&&W.shouldRevalidate)||Q.hasClientLoader?U=!0:C.add(K.route.id))}),C.size===0)return[];let D=xI(n,u,"data");return U&&C.size>0&&D.searchParams.set("_routes",e.filter(K=>C.has(K.route.id)).map(K=>K.route.id).join(",")),[D.pathname+D.search]},[u,d,r,i,g,e,n,a]),T=M.useMemo(()=>SI(_,i),[_,i]),k=PI(_);return M.createElement(M.Fragment,null,x.map(C=>M.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>M.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),k.map(({key:C,link:U})=>M.createElement("link",{key:C,nonce:t.nonce,...U})))}function LI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V_&&(window.__reactRouterVersion="7.9.4")}catch{}function DI({basename:n,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=ET({window:t,v5Compat:!0}));let i=r.current,[a,u]=M.useState({action:i.action,location:i.location}),d=M.useCallback(p=>{M.startTransition(()=>u(p))},[u]);return M.useLayoutEffect(()=>i.listen(d),[i,d]),M.createElement(cI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:d,target:p,to:g,preventScrollReset:_,viewTransition:x,...T},k){let{basename:C}=M.useContext(br),U=typeof g=="string"&&M_.test(g),D,K=!1;if(typeof g=="string"&&U&&(D=g,V_))try{let A=new URL(window.location.href),j=g.startsWith("//")?new URL(A.protocol+g):new URL(g),L=Gr(j.pathname,C);j.origin===A.origin&&L!=null?g=L+j.search+j.hash:K=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=QT(g,{relative:i}),[W,re,ye]=RI(r,T),me=FI(g,{replace:u,state:d,target:p,preventScrollReset:_,relative:i,viewTransition:x});function P(A){e&&e(A),A.defaultPrevented||me(A)}let S=M.createElement("a",{...T,...ye,href:D||Q,onClick:K||a?e:P,ref:LI(k,re),target:p,"data-discover":!U&&t==="render"?"true":void 0});return W&&!U?M.createElement(M.Fragment,null,S,M.createElement(NI,{page:Q})):S});F_.displayName="Link";var OI=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:d,children:p,...g},_){let x=zl(u,{relative:g.relative}),T=Ys(),k=M.useContext(gh),{navigator:C,basename:U}=M.useContext(br),D=k!=null&&HI(x)&&d===!0,K=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,Q=T.pathname,W=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&U&&(W=Gr(W,U)||W);const re=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ye=Q===K||!i&&Q.startsWith(K)&&Q.charAt(re)==="/",me=W!=null&&(W===K||!i&&W.startsWith(K)&&W.charAt(K.length)==="/"),P={isActive:ye,isPending:me,isTransitioning:D},S=ye?e:void 0,A;typeof r=="function"?A=r(P):A=[r,ye?"active":null,me?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(P):a;return M.createElement(F_,{...g,"aria-current":S,className:A,ref:_,style:j,to:u,viewTransition:d},typeof p=="function"?p(P):p)});OI.displayName="NavLink";var VI=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:u=kc,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:x,...T},k)=>{let C=zI(),U=qI(d,{relative:g}),D=u.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&M_.test(d),Q=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let re=W.nativeEvent.submitter,ye=(re==null?void 0:re.getAttribute("formmethod"))||u;C(re||W.currentTarget,{fetcherKey:e,method:ye,navigate:t,replace:i,state:a,relative:g,preventScrollReset:_,viewTransition:x})};return M.createElement("form",{ref:k,method:D,action:U,onSubmit:r?p:Q,...T,"data-discover":!K&&n==="render"?"true":void 0})});VI.displayName="Form";function MI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U_(n){let e=M.useContext(aa);return it(e,MI(n)),e}function FI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let d=P_(),p=Ys(),g=zl(n,{relative:a});return M.useCallback(_=>{if(gI(_,e)){_.preventDefault();let x=t!==void 0?t:Cl(p)===Cl(g);d(n,{replace:x,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[p,d,g,t,r,e,n,i,a,u])}function UI(n){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Wf(n)),t=M.useRef(!1),r=Ys(),i=M.useMemo(()=>yI(r.search,t.current?null:e.current),[r.search]),a=P_(),u=M.useCallback((d,p)=>{const g=Wf(typeof d=="function"?d(new URLSearchParams(i)):d);t.current=!0,a("?"+g,p)},[a,i]);return[i,u]}var $I=0,BI=()=>`__${String(++$I)}__`;function zI(){let{router:n}=U_("useSubmit"),{basename:e}=M.useContext(br),t=oI();return M.useCallback(async(r,i={})=>{let{action:a,method:u,encType:d,formData:p,body:g}=wI(r,e);if(i.navigate===!1){let _=i.fetcherKey||BI();await n.fetch(_,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:p,body:g,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function qI(n,{relative:e}={}){let{basename:t}=M.useContext(br),r=M.useContext(Zr);it(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...zl(n||".",{relative:e})},u=Ys();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(x=>x).forEach(x=>d.append("index",x));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Kr([t,a.pathname])),Cl(a)}function HI(n,{relative:e}={}){let t=M.useContext(k_);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U_("useViewTransitionState"),i=zl(n,{relative:e});if(!t.isTransitioning)return!1;let a=Gr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Gr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zc(i.pathname,u)!=null||zc(i.pathname,a)!=null}const Ce=n=>typeof n=="string",hl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},c0=n=>n==null?"":""+n,WI=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},KI=/###/g,h0=n=>n&&n.indexOf("###")>-1?n.replace(KI,"."):n,d0=n=>!n||Ce(n),vl=(n,e,t)=>{const r=Ce(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(d0(n))return{};const a=h0(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return d0(n)?{}:{obj:n,k:h0(r[i])}},f0=(n,e,t)=>{const{obj:r,k:i}=vl(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=vl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=vl(n,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},GI=(n,e,t,r)=>{const{obj:i,k:a}=vl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},qc=(n,e)=>{const{obj:t,k:r}=vl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},QI=(n,e,t)=>{const r=qc(n,t);return r!==void 0?r:qc(e,t)},$_=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Ce(n[r])||n[r]instanceof String||Ce(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):$_(n[r],e[r],t):n[r]=e[r]);return n},Vo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var XI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const YI=n=>Ce(n)?n.replace(/[&<>"'\/]/g,e=>XI[e]):n;class JI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const ZI=[" ",",","?","!",";"],e2=new JI(20),t2=(n,e,t)=>{e=e||"",t=t||"";const r=ZI.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const i=e2.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!i.test(n);if(!a){const u=n.indexOf(t);u>0&&!i.test(n.substring(0,u))&&(a=!0)}return a},Kf=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let u,d="";for(let p=a;p<r.length;++p)if(p!==a&&(d+=t),d+=r[p],u=i[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&p<r.length-1)continue;a+=p-a+1;break}i=u}return i},Al=n=>n==null?void 0:n.replace("_","-"),n2={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let r2=class Gf{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||n2,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Ce(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Gf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Gf(this.logger,e)}};var yr=new r2;class vh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let u=0;u<a;u++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let u=0;u<a;u++)i.apply(i,[e,...t])})}}class p0 extends vh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var g,_;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):Ce(r)&&a?d.push(...r.split(a)):d.push(r)));const p=qc(this.data,d);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),p||!u||!Ce(r)?p:Kf((_=(g=this.data)==null?void 0:g[e])==null?void 0:_[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),i=t,t=d[1]),this.addNamespaces(t),f0(this.data,d,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Ce(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=t,t=d[1]),this.addNamespaces(t);let p=qc(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?$_(p,r,a):p={...p,...r},f0(this.data,d,p),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var B_={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var u;e=((u=this.processors[a])==null?void 0:u.process(e,t,r,i))??e}),e}};const z_=Symbol("i18next/PATH_KEY");function s2(){const n=[],e=Object.create(null);let t;return e.get=(r,i)=>{var a;return(a=t==null?void 0:t.revoke)==null||a.call(t),i===z_?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function Qf(n,e){const{[z_]:t}=n(s2());return t.join((e==null?void 0:e.keySeparator)??".")}const m0={},If=n=>!Ce(n)&&typeof n!="boolean"&&typeof n!="number";class Hc extends vh{constructor(e,t={}){super(),WI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=If(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!t2(e,r,i);if(u&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Ce(a)?[a]:a};const g=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(g[0])>-1)&&(a=g.shift()),e=g.join(i)}return{key:e,namespaces:Ce(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Qf(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,u=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],i),g=p[p.length-1];let _=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const x=i.lng||this.language,T=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((x==null?void 0:x.toLowerCase())==="cimode")return T?a?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:x,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:`${g}${_}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:x,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:d;const k=this.resolve(e,i);let C=k==null?void 0:k.res;const U=(k==null?void 0:k.usedKey)||d,D=(k==null?void 0:k.exactUsedKey)||d,K=["[object Number]","[object Function]","[object RegExp]"],Q=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,W=!this.i18nFormat||this.i18nFormat.handleAsObject,re=i.count!==void 0&&!Ce(i.count),ye=Hc.hasDefaultValue(i),me=re?this.pluralResolver.getSuffix(x,i.count,i):"",P=i.ordinal&&re?this.pluralResolver.getSuffix(x,i.count,{ordinal:!1}):"",S=re&&!i.ordinal&&i.count===0,A=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${me}`]||i[`defaultValue${P}`]||i.defaultValue;let j=C;W&&!C&&ye&&(j=A);const L=If(j),b=Object.prototype.toString.apply(j);if(W&&j&&L&&K.indexOf(b)<0&&!(Ce(Q)&&Array.isArray(j))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(U,j,{...i,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(k.res=R,k.usedParams=this.getUsedParamsDetails(i),k):R}if(u){const R=Array.isArray(j),se=R?[]:{},we=R?D:U;for(const G in j)if(Object.prototype.hasOwnProperty.call(j,G)){const ae=`${we}${u}${G}`;ye&&!C?se[G]=this.translate(ae,{...i,defaultValue:If(A)?A[G]:void 0,joinArrays:!1,ns:p}):se[G]=this.translate(ae,{...i,joinArrays:!1,ns:p}),se[G]===ae&&(se[G]=j[G])}C=se}}else if(W&&Ce(Q)&&Array.isArray(C))C=C.join(Q),C&&(C=this.extendTranslation(C,e,i,r));else{let R=!1,se=!1;!this.isValidLookup(C)&&ye&&(R=!0,C=A),this.isValidLookup(C)||(se=!0,C=d);const G=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&se?void 0:C,ae=ye&&A!==C&&this.options.updateMissing;if(se||R||ae){if(this.logger.log(ae?"updateKey":"missingKey",x,g,d,ae?A:C),u){const F=this.resolve(d,{...i,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let F=0;F<ue.length;F++)te.push(ue[F]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const le=(F,X,Se)=>{var Pe;const Ae=ye&&Se!==C?Se:G;this.options.missingKeyHandler?this.options.missingKeyHandler(F,g,X,Ae,ae,i):(Pe=this.backendConnector)!=null&&Pe.saveMissing&&this.backendConnector.saveMissing(F,g,X,Ae,ae,i),this.emit("missingKey",F,g,X,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?te.forEach(F=>{const X=this.pluralResolver.getSuffixes(F,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Se=>{le([F],d+Se,i[`defaultValue${Se}`]||A)})}):le(te,d,A))}C=this.extendTranslation(C,e,i,k,r),se&&C===d&&this.options.appendNamespaceToMissingKey&&(C=`${g}${_}${d}`),(se||R)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,R?C:void 0,i))}return a?(k.res=C,k.usedParams=this.getUsedParamsDetails(i),k):C}extendTranslation(e,t,r,i,a){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const _=Ce(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(_){const k=e.match(this.interpolator.nestingRegexp);x=k&&k.length}let T=r.replace&&!Ce(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(T={...this.options.interpolation.defaultVariables,...T}),e=this.interpolator.interpolate(e,T,r.lng||this.language||i.usedLng,r),_){const k=e.match(this.interpolator.nestingRegexp),C=k&&k.length;x<C&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...k)=>(a==null?void 0:a[0])===k[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${k[0]} in key: ${t[0]}`),null):this.translate(...k,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=Ce(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=B_.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,u,d;return Ce(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),_=g.key;i=_;let x=g.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const T=t.count!==void 0&&!Ce(t.count),k=T&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Ce(t.context)||typeof t.context=="number")&&t.context!=="",U=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);x.forEach(D=>{var K,Q;this.isValidLookup(r)||(d=D,!m0[`${U[0]}-${D}`]&&((K=this.utils)!=null&&K.hasLoadedNamespace)&&!((Q=this.utils)!=null&&Q.hasLoadedNamespace(d))&&(m0[`${U[0]}-${D}`]=!0,this.logger.warn(`key "${i}" for languages "${U.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(W=>{var me;if(this.isValidLookup(r))return;u=W;const re=[_];if((me=this.i18nFormat)!=null&&me.addLookupKeys)this.i18nFormat.addLookupKeys(re,_,W,D,t);else{let P;T&&(P=this.pluralResolver.getSuffix(W,t.count,t));const S=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(T&&(t.ordinal&&P.indexOf(A)===0&&re.push(_+P.replace(A,this.options.pluralSeparator)),re.push(_+P),k&&re.push(_+S)),C){const j=`${_}${this.options.contextSeparator||"_"}${t.context}`;re.push(j),T&&(t.ordinal&&P.indexOf(A)===0&&re.push(j+P.replace(A,this.options.pluralSeparator)),re.push(j+P),k&&re.push(j+S))}}let ye;for(;ye=re.pop();)this.isValidLookup(r)||(a=ye,r=this.getResource(W,D,ye,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Ce(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class g0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yr.create("languageUtils")}getScriptPartFromCode(e){if(e=Al(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Al(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ce(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(u=>{if(u===a)return u;if(!(u.indexOf("-")<0&&a.indexOf("-")<0)&&(u.indexOf("-")>0&&a.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===a||u.indexOf(a)===0&&a.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ce(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=u=>{u&&(this.isSupportedCode(u)?i.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Ce(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Ce(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{i.indexOf(u)<0&&a(this.formatLanguageCode(u))}),i}}const y0={zero:0,one:1,two:2,few:3,many:4,other:5},v0={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class i2{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=yr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Al(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),v0;if(!e.match(/-|_/))return v0;const p=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(p,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>y0[i]-y0[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const _0=(n,e,t,r=".",i=!0)=>{let a=QI(n,e,t);return!a&&i&&Ce(t)&&(a=Kf(n,t,r),a===void 0&&(a=Kf(e,t,r))),a},Sf=n=>n.replace(/\$/g,"$$$$");class o2{constructor(e={}){var t;this.logger=yr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:x,nestingPrefix:T,nestingPrefixEscaped:k,nestingSuffix:C,nestingSuffixEscaped:U,nestingOptionsSeparator:D,maxReplaces:K,alwaysFormat:Q}=e.interpolation;this.escape=t!==void 0?t:YI,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Vo(a):u||"{{",this.suffix=d?Vo(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=T?Vo(T):k||Vo("$t("),this.nestingSuffix=C?Vo(C):U||Vo(")"),this.nestingOptionsSeparator=D||",",this.maxReplaces=K||1e3,this.alwaysFormat=Q!==void 0?Q:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var k;let a,u,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=C=>{if(C.indexOf(this.formatSeparator)<0){const Q=_0(t,p,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,r,{...i,...t,interpolationkey:C}):Q}const U=C.split(this.formatSeparator),D=U.shift().trim(),K=U.join(this.formatSeparator).trim();return this.format(_0(t,p,D,this.options.keySeparator,this.options.ignoreJSONStructure),K,r,{...i,...t,interpolationkey:D})};this.resetRegExp();const _=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,x=((k=i==null?void 0:i.interpolation)==null?void 0:k.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Sf(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Sf(this.escape(C)):Sf(C)}].forEach(C=>{for(d=0;a=C.regex.exec(e);){const U=a[1].trim();if(u=g(U),u===void 0)if(typeof _=="function"){const K=_(e,a,i);u=Ce(K)?K:""}else if(i&&Object.prototype.hasOwnProperty.call(i,U))u="";else if(x){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${U} for interpolating ${e}`),u="";else!Ce(u)&&!this.useRawValueToEscape&&(u=c0(u));const D=C.safeValue(u);if(e=e.replace(a[0],D),x?(C.regex.lastIndex+=u.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,u;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const x=p.split(new RegExp(`${_}[ ]*{`));let T=`{${x[1]}`;p=x[0],T=this.interpolate(T,u);const k=T.match(/'/g),C=T.match(/"/g);(((k==null?void 0:k.length)??0)%2===0&&!C||C.length%2!==0)&&(T=T.replace(/'/g,'"'));try{u=JSON.parse(T),g&&(u={...g,...u})}catch(U){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,U),`${p}${_}${T}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,p};for(;i=this.nestingRegexp.exec(e);){let p=[];u={...r},u=u.replace&&!Ce(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(g!==-1&&(p=i[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),i[1]=i[1].slice(0,g)),a=t(d.call(this,i[1].trim(),u),u),a&&i[0]===e&&!Ce(a))return a;Ce(a)||(a=c0(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),p.length&&(a=p.reduce((_,x)=>this.format(_,x,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const a2=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(u=>{if(u){const[d,...p]=u.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();t[_]||(t[_]=g),g==="false"&&(t[_]=!1),g==="true"&&(t[_]=!0),isNaN(g)||(t[_]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},w0=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(Al(r),i),e[u]=d),d(t)}},l2=n=>(e,t,r)=>n(Al(t),r)(e);class u2{constructor(e={}){this.logger=yr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?w0:l2;this.formats={number:r((i,a)=>{const u=new Intl.NumberFormat(i,{...a});return d=>u.format(d)}),currency:r((i,a)=>{const u=new Intl.NumberFormat(i,{...a,style:"currency"});return d=>u.format(d)}),datetime:r((i,a)=>{const u=new Intl.DateTimeFormat(i,{...a});return d=>u.format(d)}),relativetime:r((i,a)=>{const u=new Intl.RelativeTimeFormat(i,{...a});return d=>u.format(d,a.range||"day")}),list:r((i,a)=>{const u=new Intl.ListFormat(i,{...a});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=w0(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(p=>p.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,p)=>{var x;const{formatName:g,formatOptions:_}=a2(p);if(this.formats[g]){let T=d;try{const k=((x=i==null?void 0:i.formatParams)==null?void 0:x[i.interpolationkey])||{},C=k.locale||k.lng||i.locale||i.lng||r;T=this.formats[g](d,C,{..._,...i,...k})}catch(k){this.logger.warn(k)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const c2=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class h2 extends vh{constructor(e,t,r,i={}){var a,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=yr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(u=(a=this.backend)==null?void 0:a.init)==null||u.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},u={},d={},p={};return e.forEach(g=>{let _=!0;t.forEach(x=>{const T=`${g}|${x}`;!r.reload&&this.store.hasResourceBundle(g,x)?this.state[T]=2:this.state[T]<0||(this.state[T]===1?u[T]===void 0&&(u[T]=!0):(this.state[T]=1,_=!1,u[T]===void 0&&(u[T]=!0),a[T]===void 0&&(a[T]=!0),p[x]===void 0&&(p[x]=!0)))}),_||(d[g]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const i=e.split("|"),a=i[0],u=i[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(p=>{GI(p.loaded,[a],u),c2(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(x=>{d[g][x]===void 0&&(d[g][x]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,i=0,a=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:u});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(g&&_&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,u)},a);return}u(g,_)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,t,d)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ce(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ce(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,i,a,u={},d=()=>{}){var p,g,_,x,T;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((x=(_=this.services)==null?void 0:_.utils)!=null&&x.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((T=this.backend)!=null&&T.create){const k={...u,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let U;C.length===5?U=C(e,t,r,i,k):U=C(e,t,r,i),U&&typeof U.then=="function"?U.then(D=>d(null,D)).catch(d):d(null,U)}catch(U){d(U)}else C(e,t,r,i,d,k)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const x0=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Ce(n[1])&&(e.defaultValue=n[1]),Ce(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),E0=n=>{var e,t;return Ce(n.ns)&&(n.ns=[n.ns]),Ce(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Ce(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},vc=()=>{},d2=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class kl extends vh{constructor(e={},t){if(super(),this.options=E0(e),this.services={},this.logger=yr,this.modules={external:[]},d2(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ce(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=x0();this.options={...r,...this.options,...E0(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?yr.init(i(this.modules.logger),this.options):yr.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=u2;const _=new g0(this.options);this.store=new p0(this.options.resources,this.options);const x=this.services;x.logger=yr,x.resourceStore=this.store,x.languageUtils=_,x.pluralResolver=new i2(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(x.formatter=i(g),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new o2(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new h2(i(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(k,...C)=>{this.emit(k,...C)}),this.modules.languageDetector&&(x.languageDetector=i(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=i(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new Hc(this.services,this.options),this.translator.on("*",(k,...C)=>{this.emit(k,...C)}),this.modules.external.forEach(k=>{k.init&&k.init(this)})}if(this.format=this.options.interpolation.format,t||(t=vc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=hl(),p=()=>{const g=(_,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(x),t(_,x)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,t=vc){var a,u;let r=t;const i=Ce(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(x=>{x!=="cimode"&&d.indexOf(x)<0&&d.push(x)})};i?p(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>p(_)),(u=(a=this.options.preload)==null?void 0:a.forEach)==null||u.call(a,g=>p(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const i=hl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=vc),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&B_.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=hl();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,p)=>{p?this.isLanguageChangingTo===e&&(i(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},u=d=>{var _,x;!e&&!d&&this.services.languageDetector&&(d=[]);const p=Ce(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Ce(d)?[d]:d);g&&(this.language||i(g),this.translator.language||this.translator.changeLanguage(g),(x=(_=this.services.languageDetector)==null?void 0:_.cacheUserLanguage)==null||x.call(_,g)),this.loadResources(g,T=>{a(T,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const i=(a,u,...d)=>{let p;typeof u!="object"?p=this.options.overloadTranslationOptionHandler([a,u].concat(d)):p={...u},p.lng=p.lng||i.lng,p.lngs=p.lngs||i.lngs,p.ns=p.ns||i.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||i.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(a)?_=a.map(x=>(typeof x=="function"&&(x=Qf(x,{...this.options,...u})),`${p.keyPrefix}${g}${x}`)):(typeof a=="function"&&(a=Qf(a,{...this.options,...u})),_=p.keyPrefix?`${p.keyPrefix}${g}${a}`:a),this.t(_,p)};return Ce(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!i||u(a,e)))}loadNamespaces(e,t){const r=hl();return this.options.ns?(Ce(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=hl();Ce(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(u=>i.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=i.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new g0(x0());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new kl(e,t)}cloneInstance(e={},t=vc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new kl(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,x)=>(_[x]={...p[g][x]},_),p[g]),p),{});a.store=new p0(d,i),a.services.resourceStore=a.store}return a.translator=new Hc(a.services,i),a.translator.on("*",(d,...p)=>{a.emit(d,...p)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Kt=kl.createInstance();Kt.createInstance=kl.createInstance;Kt.createInstance;Kt.dir;Kt.init;Kt.loadResources;Kt.reloadResources;Kt.use;Kt.changeLanguage;Kt.getFixedT;Kt.t;Kt.exists;Kt.setDefaultNamespace;Kt.hasLoadedNamespace;Kt.loadNamespaces;Kt.loadLanguages;const f2=(n,e,t,r)=>{var a,u,d,p;const i=[t,{code:e,...r||{}}];if((u=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&u.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);ji(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(p=(d=n==null?void 0:n.services)==null?void 0:d.logger)!=null&&p.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},T0={},Xf=(n,e,t,r)=>{ji(t)&&T0[t]||(ji(t)&&(T0[t]=new Date),f2(n,e,t,r))},q_=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Yf=(n,e,t)=>{n.loadNamespaces(e,q_(n,t))},I0=(n,e,t,r)=>{if(ji(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Yf(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,q_(n,r))},p2=(n,e,t={})=>!e.languages||!e.languages.length?(Xf(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),ji=n=>typeof n=="string",m2=n=>typeof n=="object"&&n!==null,g2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,y2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},v2=n=>y2[n],_2=n=>n.replace(g2,v2);let Jf={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_2};const w2=(n={})=>{Jf={...Jf,...n}},x2=()=>Jf;let H_;const E2=n=>{H_=n},T2=()=>H_,I2={type:"3rdParty",init(n){w2(n.options.react),E2(n)}},S2=M.createContext();class b2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const C2=(n,e)=>{const t=M.useRef();return M.useEffect(()=>{t.current=n},[n,e]),t.current},W_=(n,e,t,r)=>n.getFixedT(e,t,r),A2=(n,e,t,r)=>M.useCallback(W_(n,e,t,r),[n,e,t,r]),_h=(n,e={})=>{var re,ye,me,P;const{i18n:t}=e,{i18n:r,defaultNS:i}=M.useContext(S2)||{},a=t||r||T2();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new b2),!a){Xf(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(j,L)=>ji(L)?L:m2(L)&&ji(L.defaultValue)?L.defaultValue:Array.isArray(j)?j[j.length-1]:j,A=[S,{},!1];return A.t=S,A.i18n={},A.ready=!1,A}(re=a.options.react)!=null&&re.wait&&Xf(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...x2(),...a.options.react,...e},{useSuspense:d,keyPrefix:p}=u;let g=i||((ye=a.options)==null?void 0:ye.defaultNS);g=ji(g)?[g]:g||["translation"],(P=(me=a.reportNamespaces).addUsedNamespaces)==null||P.call(me,g);const _=(a.isInitialized||a.initializedStoreOnce)&&g.every(S=>p2(S,a,u)),x=A2(a,e.lng||null,u.nsMode==="fallback"?g:g[0],p),T=()=>x,k=()=>W_(a,e.lng||null,u.nsMode==="fallback"?g:g[0],p),[C,U]=M.useState(T);let D=g.join();e.lng&&(D=`${e.lng}${D}`);const K=C2(D),Q=M.useRef(!0);M.useEffect(()=>{const{bindI18n:S,bindI18nStore:A}=u;Q.current=!0,!_&&!d&&(e.lng?I0(a,e.lng,g,()=>{Q.current&&U(k)}):Yf(a,g,()=>{Q.current&&U(k)})),_&&K&&K!==D&&Q.current&&U(k);const j=()=>{Q.current&&U(k)};return S&&(a==null||a.on(S,j)),A&&(a==null||a.store.on(A,j)),()=>{Q.current=!1,a&&S&&(S==null||S.split(" ").forEach(L=>a.off(L,j))),A&&a&&A.split(" ").forEach(L=>a.store.off(L,j))}},[a,D]),M.useEffect(()=>{Q.current&&_&&U(T)},[a,p,_]);const W=[C,a,_];if(W.t=C,W.i18n=a,W.ready=_,_||!_&&!d)return W;throw new Promise(S=>{e.lng?I0(a,e.lng,g,()=>S()):Yf(a,g,()=>S())})},{slice:k2,forEach:R2}=[];function N2(n){return R2.call(k2.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function P2(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const S0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,j2=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!S0.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!S0.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},b0={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=j2(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var L2={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return b0.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document<"u"&&b0.create(t,n,r,i,a)}},D2={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const u=i.substring(1).split("&");for(let d=0;d<u.length;d++){const p=u[d].indexOf("=");p>0&&u[d].substring(0,p)===e&&(t=u[d].substring(p+1))}}return t}},O2={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const u=a.substring(1);if(e){const d=u.split("&");for(let p=0;p<d.length;p++){const g=d[p].indexOf("=");g>0&&d[p].substring(0,g)===e&&(r=d[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const d=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(i=d[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Mo=null;const C0=()=>{if(Mo!==null)return Mo;try{if(Mo=typeof window<"u"&&window.localStorage!==null,!Mo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Mo=!1}return Mo};var V2={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&C0())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&C0()&&window.localStorage.setItem(t,n)}};let Fo=null;const A0=()=>{if(Fo!==null)return Fo;try{if(Fo=typeof window<"u"&&window.sessionStorage!==null,!Fo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Fo=!1}return Fo};var M2={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&A0())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&A0()&&window.sessionStorage.setItem(t,n)}},F2={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},U2={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},$2={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},B2={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let K_=!1;try{document.cookie,K_=!0}catch{}const G_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];K_||G_.splice(1,1);const z2=()=>({order:G_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Q_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=N2(t,this.options||{},z2()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(L2),this.addDetector(D2),this.addDetector(V2),this.addDetector(M2),this.addDetector(F2),this.addDetector(U2),this.addDetector($2),this.addDetector(B2),this.addDetector(O2)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!P2(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Q_.type="languageDetector";const q2={translation:{hero_subtitle:"Colloque Scientifique sur les Technologies de l'Information et de la Communication",date_value:"20-21-22 Mai 2026",theme_value:"Technologies de l'Information et de la Communication pour le Dveloppement Durable en Afrique",place_value:"ESATIC, Abidjan, Cte d'Ivoire",organizer_value:"Organis par LASTIC",hero_submit:"Soumettre un article",hero_register:"S'inscrire",hero_partner:"Devenir partenaire",section_about_title:" Propos",about_paragraph:"Le Colloque Scientifique sur les Technologies de l'Information et de la Communication (CoSTIC) est un vnement majeur qui rassemble chercheurs, professionnels et tudiants autour des enjeux du numrique en Afrique.",timeline_title:"Calendrier",tl_1_date:"1 Novembre 2025",tl_1_desc:"Lancement de l'appel  communications",tl_2_date:"28 Fvrier 2026",tl_2_desc:"Soumission des articles (date limite)",tl_3_date:"30 Mars 2026",tl_3_desc:"Notification aux auteurs",tl_4_date:"15 Avril 2026",tl_4_desc:"Soumission des versions finales",tl_5_date:"20-21-22 Mai 2026",tl_5_desc:"Colloque CoSTIC 2026 (ESATIC  Abidjan)",place_title:"Lieu et Date",date_label:"Date",place_label:"Lieu",goals_title:"Objectifs",general_objective_title:"Objectif Gnral",general_objective_text:"Crer un espace d'change et de partage des connaissances en matire de technologies de l'information et de la communication pour le dveloppement durable de l'Afrique.",specific_objectives_title:"Objectifs Spcifiques",so_1:"Promouvoir la recherche en TIC en Afrique",so_2:"Favoriser les changes entre chercheurs et professionnels",so_3:"Encourager l'innovation technologique",so_4:"Renforcer les capacits en TIC",cfp_title:"Appel  Communications",theme_general_title:"Thme Gnral",theme_general_text:"Technologies de l'Information et de la Communication pour le Dveloppement Durable en Afrique",submission_modalities_title:"Modalits de Soumission",modality_format_title:"Format",modality_format_desc:"Articles de 6-8 pages en franais ou anglais",modality_lang_title:"Langues",modality_lang_desc:"Franais et Anglais",modality_pub_title:"Publication",modality_pub_desc:"Actes du colloque et revue scientifique",models_title:"Modles de Soumission",models_desc:"Tlchargez les modles de soumission",model_word:"Modle Word",model_latex:"Modle LaTeX",submission_form_title:"Formulaire de Soumission",label_author_name:"Nom de l'auteur",label_author_email:"Email de l'auteur",label_affiliation:"Affiliation",label_article_title:"Titre de l'article",label_theme_select:"Track/Thmatique",theme_placeholder:"Slectionnez un track...",track_other:"Autre",track_download:"Autre - Liste complte des tracks",label_file_upload:"Fichier PDF",submit_article_btn:"Soumettre l'article",submitting_text:"Soumission en cours...",registration_title:"Inscription",registration_intro:"Inscrivez-vous au colloque CoSTIC 2026 et participez  cet vnement exceptionnel.",label_name:"Nom complet",label_email:"Email",label_participant_type:"Type de participant",option_researcher:"Chercheur",option_student:"tudiant",summary_title:"Rsum",summary_category:"Catgorie",summary_total:"Total",pay_btn:"Payer maintenant",registering_text:"Inscription en cours...",payment_note:"Paiement scuris via Paystack",participants_title:"Participants",committee_title:"Comit Scientifique",committee_paragraph:"Notre comit scientifique est compos d'experts reconnus dans le domaine des TIC.",committee_thematic_title:"Rpartition Thmatique du Comit",thematic_math:"Mathmatiques & Recherche Oprationnelle",thematic_ai:"Intelligence Artificielle & Data Science",thematic_ai_responsibles:"Dr(MC) Mamadou Diarra, Prof. Leila Nasraoui",thematic_networks:"Rseaux & Tlcommunications",thematic_networks_responsibles:"Prof. Yvon Kermarec, Prof. Babacar",thematic_cyber:"Cyberscurit & Systmes d'Information",thematic_cyber_responsibles:"Dr(MC) Kamagat Beman, Dr(MC) Soro tienne",thematic_governance:"Gouvernance & Politiques Numriques",thematic_governance_responsibles:"Prof. Oumtanaga Souleymane, Prof. Asseu Olivier",thematic_coordination:"Coordination Scientifique & valuation",thematic_coordination_responsibles:"Dr(MC) Moustapha Diaby, Prof. Coulibaly Adama",partnerships_title:"Partenariats",partnerships_paragraph:"Nous remercions nos partenaires pour leur soutien.",partner_card_1_title:"Partenaires Institutionnels",partner_card_1_desc:"Ministres et institutions publiques",partner_card_2_title:"Partenaires Technologiques",partner_card_2_desc:"Entreprises du secteur TIC",partner_card_3_title:"Partenaires Acadmiques",partner_card_3_desc:"Universits et centres de recherche",publications_title:"Publications",proceedings_title:"Actes du Colloque",proceedings_text:"Les actes du colloque seront publis et indexs dans les bases de donnes scientifiques.",proceedings_soon:"Bientt disponible",journal_title:"Revue Scientifique",journal_text:"Les meilleurs articles seront publis dans une revue scientifique spcialise.",outcomes_title:"Rsultats Attendus",context_title:"Contexte et Justification",context_heading:"Pourquoi CoSTIC 2026 ?",context_paragraph:"L'Afrique fait face  des dfis majeurs en matire de dveloppement numrique. CoSTIC 2026 vise  crer un espace de rflexion et d'change pour relever ces dfis.",context_quote:"Le numrique est un levier de dveloppement pour l'Afrique. Il faut investir dans la recherche et l'innovation pour en tirer le meilleur parti.",Acceuil:"Accueil",Soumission:"Soumission","Comit Scientifique":"Comit Scientifique","A propos":" Propos","Espace administrateur":"Espace administrateur",admin_space:"Admin",ESATIC:"cole Suprieure Africaine des Technologies de l'Information et de la Communication",footer_contact:"Contact",footer_secretariat:"Secrtariat du Colloque",footer_stay_informed:"Restez inform",footer_newsletter_desc:"Inscrivez-vous  notre newsletter pour recevoir les dernires actualits du colloque.",footer_email_placeholder:"Votre adresse e-mail",footer_newsletter_error:"Erreur lors de l'inscription  la newsletter",Newsletter:"Inscription russie  la newsletter !",partner_section_title:"Devenir Partenaire",partner_intro:"Rejoignez-nous en tant que partenaire et contribuez au succs de CoSTIC 2026",partner_org_name:"Nom de l'Organisation",partner_country:"Pays",partner_contact_email:"Email de Contact",partner_phone:"Numro de Tlphone",partner_website:"Site Web",partner_website_placeholder:"https://www.exemple.com",partner_type:"Type de Partenaire",partner_type_institution:"Institutionnel",partner_type_company:"Entreprise",partner_type_org:"Organisation",partner_type_gov:"Gouvernemental",partner_type_media:"Mdia",partner_type_other:"Autre",partner_org_desc:"Description de l'Organisation",partner_org_desc_placeholder:"Dcrivez votre organisation, ses activits et son intrt pour le partenariat...",partner_logo_label:"Logo de l'Organisation",partner_logo_hint:"Tlchargez le logo de votre organisation (PNG, JPG, max 2MB)",partner_submit:"Soumettre la Demande de Partenariat",partner_submitting:"Soumission en cours...",partner_success:"Demande de partenariat soumise avec succs !",partner_error:"Erreur lors de la soumission. Veuillez ressayer."}},H2={translation:{hero_subtitle:"Scientific Conference on Information and Communication Technologies",date_value:"May 20-21-22, 2026",theme_value:"Information and Communication Technologies for Sustainable Development in Africa",place_value:"ESATIC, Abidjan, Cte d'Ivoire",organizer_value:"Organized by LASTIC",hero_submit:"Submit paper",hero_register:"Register",hero_partner:"Become partner",section_about_title:"About",about_paragraph:"The Scientific Conference on Information and Communication Technologies (CoSTIC) is a major event that brings together researchers, professionals and students around digital issues in Africa.",timeline_title:"Timeline",tl_1_date:"November 1, 2025",tl_1_desc:"Call for papers launch",tl_2_date:"February 28, 2026",tl_2_desc:"Paper submission deadline",tl_3_date:"March 30, 2026",tl_3_desc:"Author notification",tl_4_date:"April 15, 2026",tl_4_desc:"Final version submission",tl_5_date:"May 20-21-22, 2026",tl_5_desc:"CoSTIC 2026 Conference (ESATIC  Abidjan)",place_title:"Venue and Date",date_label:"Date",place_label:"Venue",goals_title:"Objectives",general_objective_title:"General Objective",general_objective_text:"Create a space for exchange and sharing of knowledge in information and communication technologies for sustainable development in Africa.",specific_objectives_title:"Specific Objectives",so_1:"Promote ICT research in Africa",so_2:"Foster exchanges between researchers and professionals",so_3:"Encourage technological innovation",so_4:"Strengthen ICT capacities",cfp_title:"Call for Papers",theme_general_title:"General Theme",theme_general_text:"Information and Communication Technologies for Sustainable Development in Africa",submission_modalities_title:"Submission Modalities",modality_format_title:"Format",modality_format_desc:"6-8 page articles in French or English",modality_lang_title:"Languages",modality_lang_desc:"French and English",modality_pub_title:"Publication",modality_pub_desc:"Conference proceedings and scientific journal",models_title:"Submission Templates",models_desc:"Download submission templates",model_word:"Word Template",model_latex:"LaTeX Template",submission_form_title:"Submission Form",label_author_name:"Author name",label_author_email:"Author email",label_affiliation:"Affiliation",label_article_title:"Article title",label_theme_select:"Track/Theme",theme_placeholder:"Select a track...",track_other:"Other",track_download:"Other - Complete track list",label_file_upload:"PDF File",submit_article_btn:"Submit article",submitting_text:"Submitting...",registration_title:"Registration",registration_intro:"Register for CoSTIC 2026 conference and participate in this exceptional event.",label_name:"Full name",label_email:"Email",label_participant_type:"Participant type",option_researcher:"Researcher",option_student:"Student",summary_title:"Summary",summary_category:"Category",summary_total:"Total",pay_btn:"Pay now",registering_text:"Registering...",payment_note:"Secure payment via Paystack",participants_title:"Participants",committee_title:"Scientific Committee",committee_paragraph:"Our scientific committee is composed of recognized experts in the ICT field.",committee_thematic_title:"Thematic Distribution of the Committee",thematic_math:"Mathematics & Operations Research",thematic_ai:"Artificial Intelligence & Data Science",thematic_ai_responsibles:"Dr(MC) Mamadou Diarra, Prof. Leila Nasraoui",thematic_networks:"Networks & Telecommunications",thematic_networks_responsibles:"Prof. Yvon Kermarec, Prof. Babacar",thematic_cyber:"Cybersecurity & Information Systems",thematic_cyber_responsibles:"Dr(MC) Kamagat Beman, Dr(MC) Soro tienne",thematic_governance:"Digital Governance & Policies",thematic_governance_responsibles:"Prof. Oumtanaga Souleymane, Prof. Asseu Olivier",thematic_coordination:"Scientific Coordination & Evaluation",thematic_coordination_responsibles:"Dr(MC) Moustapha Diaby, Prof. Coulibaly Adama",partnerships_title:"Partnerships",partnerships_paragraph:"We thank our partners for their support.",partner_card_1_title:"Institutional Partners",partner_card_1_desc:"Ministries and public institutions",partner_card_2_title:"Technology Partners",partner_card_2_desc:"ICT sector companies",partner_card_3_title:"Academic Partners",partner_card_3_desc:"Universities and research centers",publications_title:"Publications",proceedings_title:"Conference Proceedings",proceedings_text:"Conference proceedings will be published and indexed in scientific databases.",proceedings_soon:"Coming soon",journal_title:"Scientific Journal",journal_text:"Best articles will be published in a specialized scientific journal.",outcomes_title:"Expected Outcomes",context_title:"Context and Justification",context_heading:"Why CoSTIC 2026?",context_paragraph:"Africa faces major challenges in digital development. CoSTIC 2026 aims to create a space for reflection and exchange to address these challenges.",context_quote:"Digital is a lever for development in Africa. We must invest in research and innovation to make the most of it.",Acceuil:"Home",Soumission:"Submission","Comit Scientifique":"Scientific Committee","A propos":"About","Espace administrateur":"Administrator space",admin_space:"Admin",ESATIC:"African Higher School of Information and Communication Technologies",footer_contact:"Contact",footer_secretariat:"Conference Secretariat",footer_stay_informed:"Stay informed",footer_newsletter_desc:"Subscribe to our newsletter to receive the latest conference news.",footer_email_placeholder:"Your email address",footer_newsletter_error:"Error subscribing to newsletter",Newsletter:"Successfully subscribed to newsletter!",partner_section_title:"Become a Partner",partner_intro:"Join us as a partner and contribute to the success of CoSTIC 2026",partner_org_name:"Organization Name",partner_country:"Country",partner_contact_email:"Contact Email",partner_phone:"Phone Number",partner_website:"Website",partner_website_placeholder:"https://www.example.com",partner_type:"Partner Type",partner_type_institution:"Institutional",partner_type_company:"Company",partner_type_org:"Organization",partner_type_gov:"Government",partner_type_media:"Media",partner_type_other:"Other",partner_org_desc:"Organization Description",partner_org_desc_placeholder:"Describe your organization, its activities and interest in the partnership...",partner_logo_label:"Organization Logo",partner_logo_hint:"Upload your organization's logo (PNG, JPG, max 2MB)",partner_submit:"Submit Partnership Request",partner_submitting:"Submitting...",partner_success:"Partnership request submitted successfully!",partner_error:"Error submitting request. Please try again."}};Kt.use(Q_).use(I2).init({resources:{fr:q2,en:H2},fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1}});const W2=()=>{const[n,e]=M.useState(!1),{t,i18n:r}=_h(),i=[{name:t("Acceuil"),href:"#accueil",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:t("Soumission"),href:"#soumission",icon:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[f.jsx("path",{d:"M9 3a1 1 0 011 1v1.382a7.001 7.001 0 015 6.618 1 1 0 11-2 0 5 5 0 00-5-5H10a1 1 0 110-2H9z"}),f.jsx("path",{d:"M3 8a1 1 0 011-1h2a7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5H4a1 1 0 01-1-1z"})]})},{name:t("Comit Scientifique"),href:"#comite-scientifique",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:t("A propos"),href:"#a-propos",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return f.jsxs("header",{className:"bg-primary/80 backdrop-blur-lg shadow-md sticky top-0 z-50 font-sans",children:[f.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center gap-6",children:[f.jsx("div",{className:"flex-none",children:f.jsx("a",{href:"#accueil","aria-label":"Page d'accueil de CoSTIC 2026",className:"flex-shrink-0 ml-0",children:f.jsx("img",{src:"/img/costic_logo.png",alt:"Logo CoSTIC 2026",className:"h-12 md:h-14 w-auto object-contain select-none transition-all duration-200 hover:opacity-90 drop-shadow-md rounded-full",decoding:"async",loading:"eager",fetchPriority:"high"})})}),f.jsx("nav",{className:"hidden md:flex flex-1 items-center justify-center gap-8 min-w-0",children:i.map(a=>f.jsxs("a",{href:a.href,className:"relative text-neutral-100 font-semibold hover:text-white transition-colors duration-300 group py-2 flex items-center",children:[a.icon,f.jsx("span",{className:"truncate max-w-[12ch] md:max-w-[18ch] lg:max-w-none",children:a.name}),f.jsx("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-accent scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 ease-out"})]},a.name))}),f.jsxs("div",{className:"ml-auto hidden md:flex flex-none items-center gap-3",children:[f.jsx("a",{href:"/admin",className:"text-neutral-300 hover:text-white text-sm transition-colors duration-300 whitespace-nowrap",children:t("Espace administrateur")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>r.changeLanguage("fr"),"aria-pressed":r.resolvedLanguage==="fr",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="fr"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"FR"}),f.jsx("button",{onClick:()=>r.changeLanguage("en"),"aria-pressed":r.resolvedLanguage==="en",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="en"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"EN"})]})]}),f.jsxs("div",{className:"md:hidden flex items-center ml-auto",children:[f.jsx("a",{href:"/admin",className:"text-neutral-300 hover:text-white text-sm mr-4 whitespace-nowrap",children:t("admin_space")}),f.jsx("button",{onClick:()=>e(!n),className:"text-white focus:outline-none","aria-label":"Ouvrir le menu",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16m-7 6h7"})})})]})]}),n&&f.jsx("div",{className:"md:hidden bg-primary/95",children:f.jsxs("div",{className:"px-6 pt-4 pb-4 flex flex-col items-center space-y-4",children:[f.jsx("nav",{className:"w-full space-y-2 text-center",children:i.map(a=>f.jsxs("a",{href:a.href,onClick:()=>e(!1),className:"flex items-center justify-center text-neutral-100 font-semibold rounded-md py-3 hover:bg-secondary/20 transition-colors duration-300",children:[a.icon,f.jsx("span",{children:a.name})]},a.name))}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>r.changeLanguage("fr"),"aria-pressed":r.resolvedLanguage==="fr",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="fr"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"FR"}),f.jsx("button",{onClick:()=>r.changeLanguage("en"),"aria-pressed":r.resolvedLanguage==="en",className:`px-3 py-1 rounded-full text-sm font-bold border-2 ${r.resolvedLanguage==="en"?"bg-white text-primary border-white":"text-white border-white/50 hover:bg-white/10"}`,children:"EN"})]})]})})]})},K2=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},G2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],d=n[t++],p=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,d=u?n[i+1]:0,p=i+2<n.length,g=p?n[i+2]:0,_=a>>2,x=(a&3)<<4|d>>4;let T=(d&15)<<2|g>>6,k=g&63;p||(k=64,u||(T=64)),r.push(t[_],t[x],t[T],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const g=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||d==null||g==null||x==null)throw new Q2;const T=a<<2|d>>4;if(r.push(T),g!==64){const k=d<<4&240|g>>2;if(r.push(k),x!==64){const C=g<<6&192|x;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X2=function(n){const e=X_(n);return Y_.encodeByteArray(e,!0)},Wc=function(n){return X2(n).replace(/\./g,"")},J_=function(n){try{return Y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=()=>Y2().__FIREBASE_DEFAULTS__,Z2=()=>{if(typeof process>"u"||typeof k0>"u")return;const n=k0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&J_(n[1]);return e&&JSON.parse(e)},wh=()=>{try{return K2()||J2()||Z2()||eS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z_=n=>{var e,t;return(t=(e=wh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},ew=n=>{const e=Z_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},tw=()=>{var n;return(n=wh())==null?void 0:n.config},nw=n=>{var e;return(e=wh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wc(JSON.stringify(t)),Wc(JSON.stringify(u)),""].join(".")}const _l={};function nS(){const n={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?n.emulator.push(e):n.prod.push(e);return n}function rS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let R0=!1;function Dp(n,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||_l[n]===e||_l[n]||R0)return;_l[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=nS().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,k){T.setAttribute("width","24"),T.setAttribute("id",k),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{R0=!0,u()},T}function _(T,k){T.setAttribute("id",k),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function x(){const T=rS(r),k=t("text"),C=document.getElementById(k)||document.createElement("span"),U=t("learnmore"),D=document.getElementById(U)||document.createElement("a"),K=t("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const W=T.element;d(W),_(D,U);const re=g();p(Q,K),W.append(Q,C,D,re),document.body.appendChild(W)}a?(C.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function iS(){var e;const n=(e=wh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iw(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}function cS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class Ln extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hS,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bi.prototype.create)}}class Bi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?dS(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new Ln(i,d,r)}}function dS(n,e){return n.replace(fS,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fS=/\{\$([^}]+)}/g;function pS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(N0(a)&&N0(u)){if(!qs(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function N0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mS(n,e){const t=new gS(n,e);return t.subscribe.bind(t)}class gS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bf),i.error===void 0&&(i.error=bf),i.complete===void 0&&(i.complete=bf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1e3,_S=2,wS=14400*1e3,xS=.5;function P0(n,e=vS,t=_S){const r=e*Math.pow(t,n),i=Math.round(xS*r*(Math.random()-.5)*2);return Math.min(wS,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n){return n&&n._delegate?n._delegate:n}class jn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(n){return n===Ri?void 0:n}function IS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ES(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const bS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},CS=De.INFO,AS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},kS=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=AS[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xh{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const RS=(n,e)=>e.some(t=>n instanceof t);let j0,L0;function NS(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aw=new WeakMap,Zf=new WeakMap,lw=new WeakMap,Cf=new WeakMap,Op=new WeakMap;function jS(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ms(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&aw.set(t,n)}).catch(()=>{}),Op.set(e,n),e}function LS(n){if(Zf.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Zf.set(n,e)}let ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DS(n){ep=n(ep)}function OS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Af(this),e,...t);return lw.set(r,e.sort?e.sort():[e]),Ms(r)}:PS().includes(n)?function(...e){return n.apply(Af(this),e),Ms(aw.get(this))}:function(...e){return Ms(n.apply(Af(this),e))}}function VS(n){return typeof n=="function"?OS(n):(n instanceof IDBTransaction&&LS(n),RS(n,NS())?new Proxy(n,ep):n)}function Ms(n){if(n instanceof IDBRequest)return jS(n);if(Cf.has(n))return Cf.get(n);const e=VS(n);return e!==n&&(Cf.set(n,e),Op.set(e,n)),e}const Af=n=>Op.get(n);function uw(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),d=Ms(u);return r&&u.addEventListener("upgradeneeded",p=>{r(Ms(u.result),p.oldVersion,p.newVersion,Ms(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const MS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],kf=new Map;function D0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=FS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MS.includes(t)))return;const a=async function(u,...d){const p=this.transaction(u,i?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),i&&p.done]))[0]};return kf.set(e,a),a}DS(n=>({...n,get:(e,t,r)=>D0(e,t)||n.get(e,t,r),has:(e,t)=>!!D0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($S(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function $S(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",O0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new xh("@firebase/app"),BS="@firebase/app-compat",zS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",WS="@firebase/app-check",KS="@firebase/auth",GS="@firebase/auth-compat",QS="@firebase/database",XS="@firebase/data-connect",YS="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",eb="@firebase/installations",tb="@firebase/installations-compat",nb="@firebase/messaging",rb="@firebase/messaging-compat",sb="@firebase/performance",ib="@firebase/performance-compat",ob="@firebase/remote-config",ab="@firebase/remote-config-compat",lb="@firebase/storage",ub="@firebase/storage-compat",cb="@firebase/firestore",hb="@firebase/ai",db="@firebase/firestore-compat",fb="firebase",pb="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",mb={[tp]:"fire-core",[BS]:"fire-core-compat",[qS]:"fire-analytics",[zS]:"fire-analytics-compat",[WS]:"fire-app-check",[HS]:"fire-app-check-compat",[KS]:"fire-auth",[GS]:"fire-auth-compat",[QS]:"fire-rtdb",[XS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[eb]:"fire-iid",[tb]:"fire-iid-compat",[nb]:"fire-fcm",[rb]:"fire-fcm-compat",[sb]:"fire-perf",[ib]:"fire-perf-compat",[ob]:"fire-rc",[ab]:"fire-rc-compat",[lb]:"fire-gcs",[ub]:"fire-gcs-compat",[cb]:"fire-fst",[db]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,gb=new Map,rp=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qn(n){const e=n.name;if(rp.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,n);for(const t of Kc.values())V0(t,n);for(const t of gb.values())V0(t,n);return!0}function Zs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Bi("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=pb;function cw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:np,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fs.create("bad-app-name",{appName:String(i)});if(t||(t=tw()),!t)throw Fs.create("no-options");const a=Kc.get(i);if(a){if(qs(t,a.options)&&qs(r,a.config))return a;throw Fs.create("duplicate-app",{appName:i})}const u=new SS(i);for(const p of rp.values())u.addComponent(p);const d=new vb(t,r,u);return Kc.set(i,d),d}function Eh(n=np){const e=Kc.get(n);if(!e&&n===np&&tw())return cw();if(!e)throw Fs.create("no-app",{appName:n});return e}function ln(n,e,t){let r=mb[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(u.join(" "));return}Qn(new jn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebase-heartbeat-database",wb=1,Rl="firebase-heartbeat-store";let Rf=null;function hw(){return Rf||(Rf=uw(_b,wb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),Rf}async function xb(n){try{const t=(await hw()).transaction(Rl),r=await t.objectStore(Rl).get(dw(n));return await t.done,r}catch(e){if(e instanceof Ln)Qr.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(t.message)}}}async function M0(n,e){try{const r=(await hw()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,dw(n)),await r.done}catch(t){if(t instanceof Ln)Qr.warn(t.message);else{const r=Fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qr.warn(r.message)}}}function dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=30;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Tb){const u=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F0(),{heartbeatsToSend:r,unsentEntries:i}=Sb(this._heartbeatsCache.heartbeats),a=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Qr.warn(t),""}}}function F0(){return new Date().toISOString().substring(0,10)}function Sb(n,e=Eb){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),U0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),U0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iw()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return M0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U0(n){return Wc(JSON.stringify({version:2,heartbeats:n})).length}function Cb(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){Qn(new jn("platform-logger",e=>new US(e),"PRIVATE")),Qn(new jn("heartbeat",e=>new Ib(e),"PRIVATE")),ln(tp,O0,n),ln(tp,O0,"esm2020"),ln("fire-js","")}Ab("");var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,fw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function A(){}A.prototype=S.prototype,P.F=S.prototype,P.prototype=new A,P.prototype.constructor=P,P.D=function(j,L,b){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return S.prototype[L].apply(j,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,S,A){A||(A=0);const j=Array(16);if(typeof S=="string")for(var L=0;L<16;++L)j[L]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(L=0;L<16;++L)j[L]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=P.g[0],A=P.g[1],L=P.g[2];let b=P.g[3],R;R=S+(b^A&(L^b))+j[0]+3614090360&4294967295,S=A+(R<<7&4294967295|R>>>25),R=b+(L^S&(A^L))+j[1]+3905402710&4294967295,b=S+(R<<12&4294967295|R>>>20),R=L+(A^b&(S^A))+j[2]+606105819&4294967295,L=b+(R<<17&4294967295|R>>>15),R=A+(S^L&(b^S))+j[3]+3250441966&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(b^A&(L^b))+j[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=b+(L^S&(A^L))+j[5]+1200080426&4294967295,b=S+(R<<12&4294967295|R>>>20),R=L+(A^b&(S^A))+j[6]+2821735955&4294967295,L=b+(R<<17&4294967295|R>>>15),R=A+(S^L&(b^S))+j[7]+4249261313&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(b^A&(L^b))+j[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=b+(L^S&(A^L))+j[9]+2336552879&4294967295,b=S+(R<<12&4294967295|R>>>20),R=L+(A^b&(S^A))+j[10]+4294925233&4294967295,L=b+(R<<17&4294967295|R>>>15),R=A+(S^L&(b^S))+j[11]+2304563134&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(b^A&(L^b))+j[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=b+(L^S&(A^L))+j[13]+4254626195&4294967295,b=S+(R<<12&4294967295|R>>>20),R=L+(A^b&(S^A))+j[14]+2792965006&4294967295,L=b+(R<<17&4294967295|R>>>15),R=A+(S^L&(b^S))+j[15]+1236535329&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(L^b&(A^L))+j[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=b+(A^L&(S^A))+j[6]+3225465664&4294967295,b=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(b^S))+j[11]+643717713&4294967295,L=b+(R<<14&4294967295|R>>>18),R=A+(b^S&(L^b))+j[0]+3921069994&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^b&(A^L))+j[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=b+(A^L&(S^A))+j[10]+38016083&4294967295,b=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(b^S))+j[15]+3634488961&4294967295,L=b+(R<<14&4294967295|R>>>18),R=A+(b^S&(L^b))+j[4]+3889429448&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^b&(A^L))+j[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=b+(A^L&(S^A))+j[14]+3275163606&4294967295,b=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(b^S))+j[3]+4107603335&4294967295,L=b+(R<<14&4294967295|R>>>18),R=A+(b^S&(L^b))+j[8]+1163531501&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^b&(A^L))+j[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=b+(A^L&(S^A))+j[2]+4243563512&4294967295,b=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(b^S))+j[7]+1735328473&4294967295,L=b+(R<<14&4294967295|R>>>18),R=A+(b^S&(L^b))+j[12]+2368359562&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(A^L^b)+j[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=b+(S^A^L)+j[8]+2272392833&4294967295,b=S+(R<<11&4294967295|R>>>21),R=L+(b^S^A)+j[11]+1839030562&4294967295,L=b+(R<<16&4294967295|R>>>16),R=A+(L^b^S)+j[14]+4259657740&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^b)+j[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=b+(S^A^L)+j[4]+1272893353&4294967295,b=S+(R<<11&4294967295|R>>>21),R=L+(b^S^A)+j[7]+4139469664&4294967295,L=b+(R<<16&4294967295|R>>>16),R=A+(L^b^S)+j[10]+3200236656&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^b)+j[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=b+(S^A^L)+j[0]+3936430074&4294967295,b=S+(R<<11&4294967295|R>>>21),R=L+(b^S^A)+j[3]+3572445317&4294967295,L=b+(R<<16&4294967295|R>>>16),R=A+(L^b^S)+j[6]+76029189&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^b)+j[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=b+(S^A^L)+j[12]+3873151461&4294967295,b=S+(R<<11&4294967295|R>>>21),R=L+(b^S^A)+j[15]+530742520&4294967295,L=b+(R<<16&4294967295|R>>>16),R=A+(L^b^S)+j[2]+3299628645&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(L^(A|~b))+j[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=b+(A^(S|~L))+j[7]+1126891415&4294967295,b=S+(R<<10&4294967295|R>>>22),R=L+(S^(b|~A))+j[14]+2878612391&4294967295,L=b+(R<<15&4294967295|R>>>17),R=A+(b^(L|~S))+j[5]+4237533241&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~b))+j[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=b+(A^(S|~L))+j[3]+2399980690&4294967295,b=S+(R<<10&4294967295|R>>>22),R=L+(S^(b|~A))+j[10]+4293915773&4294967295,L=b+(R<<15&4294967295|R>>>17),R=A+(b^(L|~S))+j[1]+2240044497&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~b))+j[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=b+(A^(S|~L))+j[15]+4264355552&4294967295,b=S+(R<<10&4294967295|R>>>22),R=L+(S^(b|~A))+j[6]+2734768916&4294967295,L=b+(R<<15&4294967295|R>>>17),R=A+(b^(L|~S))+j[13]+1309151649&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~b))+j[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=b+(A^(S|~L))+j[11]+3174756917&4294967295,b=S+(R<<10&4294967295|R>>>22),R=L+(S^(b|~A))+j[2]+718787259&4294967295,L=b+(R<<15&4294967295|R>>>17),R=A+(b^(L|~S))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+b&4294967295}r.prototype.v=function(P,S){S===void 0&&(S=P.length);const A=S-this.blockSize,j=this.C;let L=this.h,b=0;for(;b<S;){if(L==0)for(;b<=A;)i(this,P,b),b+=this.blockSize;if(typeof P=="string"){for(;b<S;)if(j[L++]=P.charCodeAt(b++),L==this.blockSize){i(this,j),L=0;break}}else for(;b<S;)if(j[L++]=P[b++],L==this.blockSize){i(this,j),L=0;break}}this.h=L,this.o+=S},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;S=this.o*8;for(var A=P.length-8;A<P.length;++A)P[A]=S&255,S/=256;for(this.v(P),P=Array(16),S=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)P[S++]=this.g[A]>>>j&255;return P};function a(P,S){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=S(P)}function u(P,S){this.h=S;const A=[];let j=!0;for(let L=P.length-1;L>=0;L--){const b=P[L]|0;j&&b==S||(A[L]=b,j=!1)}this.g=A}var d={};function p(P){return-128<=P&&P<128?a(P,function(S){return new u([S|0],S<0?-1:0)}):new u([P|0],P<0?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return x;if(P<0)return D(g(-P));const S=[];let A=1;for(let j=0;P>=A;j++)S[j]=P/A|0,A*=4294967296;return new u(S,0)}function _(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return D(_(P.substring(1),S));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(S,8));let j=x;for(let b=0;b<P.length;b+=8){var L=Math.min(8,P.length-b);const R=parseInt(P.substring(b,b+L),S);L<8?(L=g(Math.pow(S,L)),j=j.j(L).add(g(R))):(j=j.j(A),j=j.add(g(R)))}return j}var x=p(0),T=p(1),k=p(16777216);n=u.prototype,n.m=function(){if(U(this))return-D(this).m();let P=0,S=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);P+=(j>=0?j:4294967296+j)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(C(this))return"0";if(U(this))return"-"+D(this).toString(P);const S=g(Math.pow(P,6));var A=this;let j="";for(;;){const L=re(A,S).g;A=K(A,L.j(S));let b=((A.g.length>0?A.g[0]:A.h)>>>0).toString(P);if(A=L,C(A))return b+j;for(;b.length<6;)b="0"+b;j=b+j}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function C(P){if(P.h!=0)return!1;for(let S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function U(P){return P.h==-1}n.l=function(P){return P=K(this,P),U(P)?-1:C(P)?0:1};function D(P){const S=P.g.length,A=[];for(let j=0;j<S;j++)A[j]=~P.g[j];return new u(A,~P.h).add(T)}n.abs=function(){return U(this)?D(this):this},n.add=function(P){const S=Math.max(this.g.length,P.g.length),A=[];let j=0;for(let L=0;L<=S;L++){let b=j+(this.i(L)&65535)+(P.i(L)&65535),R=(b>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);j=R>>>16,b&=65535,R&=65535,A[L]=R<<16|b}return new u(A,A[A.length-1]&-2147483648?-1:0)};function K(P,S){return P.add(D(S))}n.j=function(P){if(C(this)||C(P))return x;if(U(this))return U(P)?D(this).j(D(P)):D(D(this).j(P));if(U(P))return D(this.j(D(P)));if(this.l(k)<0&&P.l(k)<0)return g(this.m()*P.m());const S=this.g.length+P.g.length,A=[];for(var j=0;j<2*S;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<P.g.length;L++){const b=this.i(j)>>>16,R=this.i(j)&65535,se=P.i(L)>>>16,we=P.i(L)&65535;A[2*j+2*L]+=R*we,Q(A,2*j+2*L),A[2*j+2*L+1]+=b*we,Q(A,2*j+2*L+1),A[2*j+2*L+1]+=R*se,Q(A,2*j+2*L+1),A[2*j+2*L+2]+=b*se,Q(A,2*j+2*L+2)}for(P=0;P<S;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=S;P<2*S;P++)A[P]=0;return new u(A,0)};function Q(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function W(P,S){this.g=P,this.h=S}function re(P,S){if(C(S))throw Error("division by zero");if(C(P))return new W(x,x);if(U(P))return S=re(D(P),S),new W(D(S.g),D(S.h));if(U(S))return S=re(P,D(S)),new W(D(S.g),S.h);if(P.g.length>30){if(U(P)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,j=S;j.l(P)<=0;)A=ye(A),j=ye(j);var L=me(A,1),b=me(j,1);for(j=me(j,2),A=me(A,2);!C(j);){var R=b.add(j);R.l(P)<=0&&(L=L.add(A),b=R),j=me(j,1),A=me(A,1)}return S=K(P,L.j(S)),new W(L,S)}for(L=x;P.l(S)>=0;){for(A=Math.max(1,Math.floor(P.m()/S.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),b=g(A),R=b.j(S);U(R)||R.l(P)>0;)A-=j,b=g(A),R=b.j(S);C(b)&&(b=T),L=L.add(b),P=K(P,R)}return new W(L,P)}n.B=function(P){return re(this,P).h},n.and=function(P){const S=Math.max(this.g.length,P.g.length),A=[];for(let j=0;j<S;j++)A[j]=this.i(j)&P.i(j);return new u(A,this.h&P.h)},n.or=function(P){const S=Math.max(this.g.length,P.g.length),A=[];for(let j=0;j<S;j++)A[j]=this.i(j)|P.i(j);return new u(A,this.h|P.h)},n.xor=function(P){const S=Math.max(this.g.length,P.g.length),A=[];for(let j=0;j<S;j++)A[j]=this.i(j)^P.i(j);return new u(A,this.h^P.h)};function ye(P){const S=P.g.length+1,A=[];for(let j=0;j<S;j++)A[j]=P.i(j)<<1|P.i(j-1)>>>31;return new u(A,P.h)}function me(P,S){const A=S>>5;S%=32;const j=P.g.length-A,L=[];for(let b=0;b<j;b++)L[b]=S>0?P.i(b+A)>>>S|P.i(b+A+1)<<32-S:P.i(b+A);return new u(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Us=u}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,ml,mw,Nc,sp,gw,yw,vw;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(c,v){if(v)e:{var w=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in w))break e;w=w[B]}c=c[c.length-1],I=w[c],v=v(I),v!=I&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function p(c,v,w){return c.call.apply(c.bind,arguments)}function g(c,v,w){return g=p,g.apply(null,arguments)}function _(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function x(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(I,B,H){for(var oe=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)oe[Re-2]=arguments[Re];return v.prototype[B].apply(I,oe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const v=c.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=c[I];return w}return[]}function C(c,v){for(let I=1;I<arguments.length;I++){const B=arguments[I];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=c.length||0;const H=B.length||0;c.length=w+H;for(let oe=0;oe<H;oe++)c[w+oe]=B[oe]}else c.push(B)}}class U{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(c){u.setTimeout(()=>{throw c},0)}function K(){var c=P;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,w){const I=W.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var W=new U(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,me=!1,P=new Q,S=()=>{const c=Promise.resolve(void 0);ye=()=>{c.then(A)}};function A(){for(var c;c=K();){try{c.h.call(c.g)}catch(w){D(w)}var v=W;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}me=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function se(c,v){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(se,L),se.prototype.init=function(c,v){const w=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function ae(c,v,w,I,B){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=B,this.key=++G,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ue(c,v,w){for(const I in c)v.call(w,c[I],I,c)}function le(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function F(c){const v={};for(const w in c)v[w]=c[w];return v}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(c,v){let w,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(w in I)c[w]=I[w];for(let H=0;H<X.length;H++)w=X[H],Object.prototype.hasOwnProperty.call(I,w)&&(c[w]=I[w])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,v,w,I,B){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const oe=Le(c,v,I,B);return oe>-1?(v=c[oe],w||(v.fa=!1)):(v=new ae(v,this.src,H,!!I,B),v.fa=w,c.push(v)),v};function Pe(c,v){const w=v.type;if(w in c.g){var I=c.g[w],B=Array.prototype.indexOf.call(I,v,void 0),H;(H=B>=0)&&Array.prototype.splice.call(I,B,1),H&&(te(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Le(c,v,w,I){for(let B=0;B<c.length;++B){const H=c[B];if(!H.da&&H.listener==v&&H.capture==!!w&&H.ha==I)return B}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ke(c,v,w,I,B){if(Array.isArray(v)){for(let H=0;H<v.length;H++)Ke(c,v[H],w,I,B);return null}return w=ga(w),c&&c[we]?c.J(v,w,d(I)?!!I.capture:!1,B):Gt(c,v,w,!1,I,B)}function Gt(c,v,w,I,B,H){if(!v)throw Error("Invalid event type");const oe=d(B)?!!B.capture:!!B;let Re=Xi(c);if(Re||(c[qe]=Re=new Ae(c)),w=Re.add(v,w,I,oe,H),w.proxy)return w;if(I=Gi(),w.proxy=I,I.src=c,I.listener=w,c.addEventListener)b||(B=oe),B===void 0&&(B=!1),c.addEventListener(v.toString(),I,B);else if(c.attachEvent)c.attachEvent(Qi(v.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Gi(){function c(w){return v.call(c.src,c.listener,w)}const v=tu;return c}function ma(c,v,w,I,B){if(Array.isArray(v))for(var H=0;H<v.length;H++)ma(c,v[H],w,I,B);else I=d(I)?!!I.capture:!!I,w=ga(w),c&&c[we]?(c=c.i,H=String(v).toString(),H in c.g&&(v=c.g[H],w=Le(v,w,I,B),w>-1&&(te(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[H],c.h--)))):c&&(c=Xi(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Le(v,w,I,B)),(w=c>-1?v[c]:null)&&es(w))}function es(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[we])Pe(v.i,c);else{var w=c.type,I=c.proxy;v.removeEventListener?v.removeEventListener(w,I,c.capture):v.detachEvent?v.detachEvent(Qi(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Xi(v))?(Pe(w,c),w.h==0&&(w.src=null,v[qe]=null)):te(c)}}}function Qi(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function tu(c,v){if(c.da)c=!0;else{v=new se(v,this);const w=c.listener,I=c.ha||c.src;c.fa&&es(c),c=w.call(I,v)}return c}function Xi(c){return c=c[qe],c instanceof Ae?c:null}var ri="__closure_events_fn_"+(Math.random()*1e9>>>0);function ga(c){return typeof c=="function"?c:(c[ri]||(c[ri]=function(v){return c.handleEvent(v)}),c[ri])}function mt(){j.call(this),this.i=new Ae(this),this.M=this,this.G=null}x(mt,j),mt.prototype[we]=!0,mt.prototype.removeEventListener=function(c,v,w,I){ma(this,c,v,w,I)};function ht(c,v){var w,I=c.G;if(I)for(w=[];I;I=I.G)w.push(I);if(c=c.M,I=v.type||v,typeof v=="string")v=new L(v,c);else if(v instanceof L)v.target=v.target||c;else{var B=v;v=new L(I,c),Se(v,B)}B=!0;let H,oe;if(w)for(oe=w.length-1;oe>=0;oe--)H=v.g=w[oe],B=Dn(H,I,!0,v)&&B;if(H=v.g=c,B=Dn(H,I,!0,v)&&B,B=Dn(H,I,!1,v)&&B,w)for(oe=0;oe<w.length;oe++)H=v.g=w[oe],B=Dn(H,I,!1,v)&&B}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let I=0;I<w.length;I++)te(w[I]);delete c.g[v],c.h--}}this.G=null},mt.prototype.J=function(c,v,w,I){return this.i.add(String(c),v,!1,w,I)},mt.prototype.K=function(c,v,w,I){return this.i.add(String(c),v,!0,w,I)};function Dn(c,v,w,I){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let H=0;H<v.length;++H){const oe=v[H];if(oe&&!oe.da&&oe.capture==w){const Re=oe.listener,dt=oe.ha||oe.src;oe.fa&&Pe(c.i,oe),B=Re.call(dt,I)!==!1&&B}}return B&&!I.defaultPrevented}function ya(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function va(c){c.g=ya(()=>{c.g=null,c.i&&(c.i=!1,va(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class nu extends j{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){j.call(this),this.h=c,this.g={}}x(ts,j);var _a=[];function Yi(c){ue(c.g,function(v,w){this.g.hasOwnProperty(w)&&es(v)},c),c.g={}}ts.prototype.N=function(){ts.Z.N.call(this),Yi(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=u.JSON.stringify,ru=u.JSON.parse,si=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function rs(){}function su(){}var ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ji(){L.call(this,"d")}x(Ji,L);function wa(){L.call(this,"c")}x(wa,L);var On={},Zi=null;function is(){return Zi=Zi||new mt}On.Ia="serverreachability";function eo(c){L.call(this,On.Ia,c)}x(eo,L);function Cr(c){const v=is();ht(v,new eo(v))}On.STAT_EVENT="statevent";function Ar(c,v){L.call(this,On.STAT_EVENT,c),this.stat=v}x(Ar,L);function at(c){const v=is();ht(v,new Ar(v,c))}On.Ja="timingevent";function xa(c,v){L.call(this,On.Ja,c),this.size=v}x(xa,L);function os(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function iu(c,v,w,I,B,H){c.info(function(){if(c.g)if(H){var oe="",Re=H.split("&");for(let We=0;We<Re.length;We++){var dt=Re[We].split("=");if(dt.length>1){const gt=dt[0];dt=dt[1];const pn=gt.split("_");oe=pn.length>=2&&pn[1]=="type"?oe+(gt+"="+dt+"&"):oe+(gt+"=redacted&")}}}else oe=null;else oe=H;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+v+`
`+w+`
`+oe})}function ou(c,v,w,I,B,H,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+v+`
`+w+`
`+H+" "+oe})}function Jn(c,v,w,I){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+ii(c,w)+(I?" "+I:"")})}function au(c,v){c.info(function(){return"TIMEOUT: "+v})}as.prototype.info=function(){};function ii(c,v){if(!c.g)return v;if(!v)return null;try{const H=JSON.parse(v);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var w=H[c];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var B=I[0];if(B!="noop"&&B!="stop"&&B!="close")for(let oe=1;oe<I.length;oe++)I[oe]=""}}}}return ns(H)}catch{return v}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},us={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lu;function kr(){}x(kr,rs),kr.prototype.g=function(){return new XMLHttpRequest},lu=new kr;function Zn(c){return encodeURIComponent(String(c))}function to(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function En(c,v,w,I){this.j=c,this.i=v,this.l=w,this.S=I||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var cu={},Ea={};function Vn(c,v,w){c.M=1,c.A=Nr(Tn(v)),c.u=w,c.R=!0,Ta(c,null)}function Ta(c,v){c.F=Date.now(),oi(c),c.B=Tn(c.A);var w=c.B,I=c.S;Array.isArray(I)||(I=[String(I)]),ja(w.i,"t",I),c.C=0,w=c.j.L,c.h=new uu,c.g=wu(c.j,w?v:null,!c.u),c.P>0&&(c.O=new nu(g(c.Y,c,c.g),c.P)),v=c.V,w=c.g,I=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(_a[0]=B.toString()),B=_a);for(let H=0;H<B.length;H++){const oe=Ke(w,B[H],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Cr(),iu(c.i,c.v,c.B,c.l,c.S,c.u)}En.prototype.ba=function(c){c=c.target;const v=this.O;v&&or(c)==3?v.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Re=or(this.g),dt=this.g.ya(),We=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||vu(this.g)))){this.K||Re!=4||dt==7||(dt==8||We<=0?Cr(3):Cr(2)),no(this);var v=this.g.ca();this.X=v;var w=hu(this);if(this.o=v==200,ou(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,B=this.g;if((I=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var H=I;break t}}H=null}if(c=H)Jn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,c);else{this.o=!1,this.m=3,at(12),Rr(this),ai(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=fu(this,w),gt==Ea){Re==4&&(this.m=4,at(14),c=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==cu){this.m=4,at(15),Jn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Jn(this.i,this.l,gt,null),Je(this,gt);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||w.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)Jn(this.i,this.l,w,"[Invalid Chunked Response]"),Rr(this),ai(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),gi(oe),oe.P=!0,at(11))}}else Jn(this.i,this.l,w,null),Je(this,w);Re==4&&Rr(this),this.o&&!this.K&&(Re==4?fo(this.j,this):(this.o=!1,oi(this)))}else Da(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Rr(this),ai(this)}}}catch{}finally{}};function hu(c){if(!du(c))return c.g.la();const v=vu(c.g);if(v==="")return"";let w="";const I=v.length,B=or(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Rr(c),ai(c),"";c.h.i=new u.TextDecoder}for(let H=0;H<I;H++)c.h.h=!0,w+=c.h.i.decode(v[H],{stream:!(B&&H==I-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,v){var w=c.C,I=v.indexOf(`
`,w);return I==-1?Ea:(w=Number(v.substring(w,I)),isNaN(w)?cu:(I+=1,I+w>v.length?Ea:(v=v.slice(I,I+w),c.C=I+w,v)))}En.prototype.cancel=function(){this.K=!0,Rr(this)};function oi(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=os(g(c.aa,c),v)}function no(c){c.D&&(u.clearTimeout(c.D),c.D=null)}En.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(au(this.i,this.B),this.M!=2&&(Cr(),at(17)),Rr(this),this.m=2,ai(this)):Ia(this,this.T-c)};function ai(c){c.j.I==0||c.K||fo(c.j,c)}function Rr(c){no(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Yi(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Je(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||ba(w.h,c))){if(!c.L&&ba(w.h,c)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)ho(w),dn(w);else break e;ur(w),at(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=os(g(w.Va,w),6e3));li(w.h)<=1&&w.ta&&(w.ta=void 0)}else fn(w,11)}else if((c.L||w.g==c)&&ho(w),!R(v))for(B=w.Ba.g.parse(v),v=0;v<B.length;v++){let We=B[v];const gt=We[0];if(!(gt<=w.K))if(w.K=gt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const pn=We[3];pn!=null&&(w.ka=pn,w.j.info("VER="+w.ka));const Or=We[4];Or!=null&&(w.za=Or,w.j.info("SVER="+w.za));const cr=We[5];cr!=null&&typeof cr=="number"&&cr>0&&(I=1.5*cr,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const hr=c.g;if(hr){const go=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(go){var H=I.h;H.g||go.indexOf("spdy")==-1&&go.indexOf("quic")==-1&&go.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(so(H,H.h),H.h=null))}if(I.G){const Ma=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(I.wa=Ma,ze(I.J,I.G,Ma))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var oe=c;if(I.na=Va(I,I.L?I.ba:null,I.W),oe.L){ui(I.h,oe);var Re=oe,dt=I.O;dt&&(Re.H=dt),Re.D&&(no(Re),oi(Re)),I.g=oe}else Mt(I);w.i.length>0&&Dr(w)}else We[0]!="stop"&&We[0]!="close"||fn(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?fn(w,7):uo(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Cr(4)}catch{}}var Kh=class{constructor(c,v){this.g=c,this.map=v}};function ro(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function li(c){return c.h?1:c.g?c.g.size:0}function ba(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function so(c,v){c.g?c.g.add(v):c.h=v}function ui(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}ro.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return k(c.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cn(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const I=c[w].indexOf("=");let B,H=null;I>=0?(B=c[w].substring(0,I),H=c[w].substring(I+1)):B=c[w],v(B,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function er(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof er?(this.l=c.l,ci(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.u),this.h=c.h,cs(this,La(c.i)),this.m=c.m):c&&(v=String(c).match(pu))?(this.l=!1,ci(this,v[1]||"",!0),this.o=hi(v[2]||""),this.g=hi(v[3]||"",!0),tr(this,v[4]),this.h=hi(v[5]||"",!0),cs(this,v[6]||"",!0),this.m=hi(v[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}er.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(di(v,Aa,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(di(v,Aa,!0),"@"),c.push(Zn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(di(w,w.charAt(0)=="/"?fi:ka,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",di(w,Ra)),c.join("")},er.prototype.resolve=function(c){const v=Tn(this);let w=!!c.j;w?ci(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var I=c.h;if(w)tr(v,c.u);else if(w=!!c.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var B=v.h.lastIndexOf("/");B!=-1&&(I=v.h.slice(0,B+1)+I)}if(B=I,B==".."||B==".")I="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){I=B.lastIndexOf("/",0)==0,B=B.split("/");const H=[];for(let oe=0;oe<B.length;){const Re=B[oe++];Re=="."?I&&oe==B.length&&H.push(""):Re==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),I&&oe==B.length&&H.push("")):(H.push(Re),I=!0)}I=H.join("/")}else I=B}return w?v.h=I:w=c.i.toString()!=="",w?cs(v,La(c.i)):w=!!c.m,w&&(v.m=c.m),v};function Tn(c){return new er(c)}function ci(c,v,w){c.j=w?hi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function cs(c,v,w){v instanceof Me?(c.i=v,oo(c.i,c.l)):(w||(v=di(v,Gh)),c.i=new Me(v,c.l))}function ze(c,v,w){c.i.set(v,w)}function Nr(c){return ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function di(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Ca),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ca(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,ka=/[#\?:]/g,fi=/[#\?]/g,Gh=/[#\?@]/g,Ra=/#/g;function Me(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&cn(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Me.prototype,n.add=function(c,v){nr(this),this.i=null,c=rr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function Na(c,v){nr(c),v=rr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function io(c,v){return nr(c),v=rr(c,v),c.g.has(v)}n.forEach=function(c,v){nr(this),this.g.forEach(function(w,I){w.forEach(function(B){c.call(v,B,I,this)},this)},this)};function Pa(c,v){nr(c);let w=[];if(typeof v=="string")io(c,v)&&(w=w.concat(c.g.get(rr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}n.set=function(c,v){return nr(this),this.i=null,c=rr(this,c),io(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=Pa(this,c),c.length>0?String(c[0]):v):v};function ja(c,v,w){Na(c,v),w.length>0&&(c.i=null,c.g.set(rr(c,v),k(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const B=Zn(w);w=Pa(this,w);for(let H=0;H<w.length;H++){let oe=B;w[H]!==""&&(oe+="="+Zn(w[H])),c.push(oe)}}return this.i=c.join("&")};function La(c){const v=new Me;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function rr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function oo(c,v){v&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(w,I){const B=I.toLowerCase();I!=B&&(Na(this,I),ja(this,B,w))},c)),c.j=v}function sr(c,v){const w=new as;if(u.Image){const I=new Image;I.onload=_(Rt,w,"TestLoadImage: loaded",!0,v,I),I.onerror=_(Rt,w,"TestLoadImage: error",!1,v,I),I.onabort=_(Rt,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=_(Rt,w,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else v(!1)}function ir(c,v){const w=new as,I=new AbortController,B=setTimeout(()=>{I.abort(),Rt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:I.signal}).then(H=>{clearTimeout(B),H.ok?Rt(w,"TestPingServer: ok",!0,v):Rt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Rt(w,"TestPingServer: error",!1,v)})}function Rt(c,v,w,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(w)}catch{}}function pi(){this.g=new si}function Pr(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Pr,rs),Pr.prototype.g=function(){return new hn(this.i,this.h)};function hn(c,v){mt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(hn,mt),n=hn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Mn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?hs(this):Mn(this),this.readyState==3&&mu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,hs(this))},n.Na=function(c){this.g&&(this.response=c,hs(this))},n.ga=function(){this.g&&hs(this)};function hs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Mn(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function Mn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gu(c){let v="";return ue(c,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function ao(c,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=gu(w),typeof c=="string"?w!=null&&Zn(w):ze(c,v,w))}function Ge(c){mt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ge,mt);var yu=/^https?$/i,Qh=["POST","PUT"];n=Ge.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lu.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(H){ds(this,H);return}if(c=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)w.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())w.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),B=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Qh,v,void 0)>=0)||I||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of w)this.g.setRequestHeader(H,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){ds(this,H)}};function ds(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,fs(c),Lr(c)}function fs(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ht(this,"complete"),ht(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},n.Xa=function(){jr(this)};function jr(c){if(c.h&&typeof a<"u"){if(c.v&&or(c)==4)setTimeout(c.Ca.bind(c),0);else if(ht(c,"readystatechange"),or(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=H===0){let oe=String(c.D).match(pu)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),I=!yu.test(oe?oe.toLowerCase():"")}w=I}if(w)ht(c,"complete"),ht(c,"success");else{c.o=6;try{var B=or(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",fs(c)}}finally{Lr(c)}}}}function Lr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||ht(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}n.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ru(v)}};function vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(c){const v={};c=(c.g&&or(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(R(c[I]))continue;var w=to(c[I]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=v[B]||[];v[B]=H,H.push(w)}le(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function lo(c){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,c),this.Za=ar("retryDelaySeedMs",1e4,c),this.Ta=ar("forwardChannelMaxRetries",2,c),this.va=ar("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ro(c&&c.concurrentRequestLimit),this.Ba=new pi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=lo.prototype,n.ka=8,n.I=1,n.connect=function(c,v,w,I){at(0),this.W=c,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Va(this,null,this.W),Dr(this)};function uo(c){if(co(c),c.I==3){var v=c.V++,w=Tn(c.J);if(ze(w,"SID",c.M),ze(w,"RID",v),ze(w,"TYPE","terminate"),lr(c,w),v=new En(c,c.j,v),v.M=2,v.A=Nr(Tn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=wu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),oi(v)}yi(c)}function dn(c){c.g&&(gi(c),c.g.cancel(),c.g=null)}function co(c){dn(c),c.v&&(u.clearTimeout(c.v),c.v=null),ho(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Dr(c){if(!Sa(c.h)&&!c.m){c.m=!0;var v=c.Ea;ye||S(),me||(ye(),me=!0),P.add(v,c),c.D=0}}function _u(c,v){return li(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=os(g(c.Ea,c,v),po(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new En(this,this.j,c);let H=this.o;if(this.U&&(H?(H=F(H),Se(H,this.U)):H=this.U),this.u!==null||this.R||(B.J=H,H=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Oa(this,B,v),w=Tn(this.J),ze(w,"RID",c),ze(w,"CVER",22),this.G&&ze(w,"X-HTTP-Session-Id",this.G),lr(this,w),H&&(this.R?v="headers="+Zn(gu(H))+"&"+v:this.u&&ao(w,this.u,H)),so(this.h,B),this.Ra&&ze(w,"TYPE","init"),this.S?(ze(w,"$req",v),ze(w,"SID","null"),B.U=!0,Vn(B,w,null)):Vn(B,w,v),this.I=2}}else this.I==3&&(c?mi(this,c):this.i.length==0||Sa(this.h)||mi(this))};function mi(c,v){var w;v?w=v.l:w=c.V++;const I=Tn(c.J);ze(I,"SID",c.M),ze(I,"RID",w),ze(I,"AID",c.K),lr(c,I),c.u&&c.o&&ao(I,c.u,c.o),w=new En(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Oa(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),so(c.h,w),Vn(w,I,v)}function lr(c,v){c.H&&ue(c.H,function(w,I){ze(v,I,w)}),c.l&&ue({},function(w,I){ze(v,I,w)})}function Oa(c,v,w){w=Math.min(c.i.length,w);const I=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const dt=["count="+w];Re==-1?w>0?(Re=B[0].g,dt.push("ofs="+Re)):Re=0:dt.push("ofs="+Re);let We=!0;for(let gt=0;gt<w;gt++){var H=B[gt].g;const pn=B[gt].map;if(H-=Re,H<0)Re=Math.max(0,B[gt].g-100),We=!1;else try{H="req"+H+"_"||"";try{var oe=pn instanceof Map?pn:Object.entries(pn);for(const[Or,cr]of oe){let hr=cr;d(cr)&&(hr=ns(cr)),dt.push(H+Or+"="+encodeURIComponent(hr))}}catch(Or){throw dt.push(H+"type="+encodeURIComponent("_badmap")),Or}}catch{I&&I(pn)}}if(We){oe=dt.join("&");break e}}oe=void 0}return c=c.i.splice(0,w),v.G=c,oe}function Mt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;ye||S(),me||(ye(),me=!0),P.add(v,c),c.A=0}}function ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=os(g(c.Da,c),po(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,ps(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=os(g(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),dn(this),ps(this))};function gi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ps(c){c.g=new En(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Tn(c.na);ze(v,"RID","rpc"),ze(v,"SID",c.M),ze(v,"AID",c.K),ze(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&ze(v,"TO",c.ia),ze(v,"TYPE","xmlhttp"),lr(c,v),c.u&&c.o&&ao(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Nr(Tn(v)),w.u=null,w.R=!0,Ta(w,c)}n.Va=function(){this.C!=null&&(this.C=null,dn(this),ur(this),at(19))};function ho(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function fo(c,v){var w=null;if(c.g==v){ho(c),gi(c),c.g=null;var I=2}else if(ba(c.h,v))w=v.G,ui(c.h,v),I=1;else return;if(c.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var B=c.D;I=is(),ht(I,new xa(I,w)),Dr(c)}else Mt(c);else if(B=v.m,B==3||B==0&&v.X>0||!(I==1&&_u(c,v)||I==2&&ur(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),B){case 1:fn(c,5);break;case 4:fn(c,10);break;case 3:fn(c,6);break;default:fn(c,2)}}}function po(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function fn(c,v){if(c.j.info("Error code "+v),v==2){var w=g(c.bb,c),I=c.Ua;const B=!I;I=new er(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ci(I,"https"),Nr(I),B?sr(I.toString(),w):ir(I.toString(),w)}else at(2);c.I=0,c.l&&c.l.pa(v),yi(c),co(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function yi(c){if(c.I=0,c.ja=[],c.l){const v=un(c.h);(v.length!=0||c.i.length!=0)&&(C(c.ja,v),C(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Va(c,v,w){var I=w instanceof er?Tn(w):new er(w);if(I.g!="")v&&(I.g=v+"."+I.g),tr(I,I.u);else{var B=u.location;I=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const H=new er(null);I&&ci(H,I),v&&(H.g=v),B&&tr(H,B),w&&(H.h=w),I=H}return w=c.G,v=c.wa,w&&v&&ze(I,w,v),ze(I,"VER",c.ka),lr(c,I),I}function wu(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Ge(new Pr({ab:w})):new Ge(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}n=xu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function mo(){}mo.prototype.g=function(c,v){return new Nt(c,v)};function Nt(c,v){mt.call(this),this.g=new lo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!R(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ms(this)}x(Nt,mt),Nt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){uo(this.g)},Nt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=ns(c),c=w);v.i.push(new Kh(v.Ya++,c)),v.I==3&&Dr(v)},Nt.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,Nt.Z.N.call(this)};function Eu(c){Ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(Eu,Ji);function Tu(){wa.call(this),this.status=1}x(Tu,wa);function ms(c){this.g=c}x(ms,xu),ms.prototype.ra=function(){ht(this.g,"a")},ms.prototype.qa=function(c){ht(this.g,new Eu(c))},ms.prototype.pa=function(c){ht(this.g,new Tu)},ms.prototype.oa=function(){ht(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,vw=function(){return new mo},yw=function(){return is()},gw=On,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Nc=ls,us.COMPLETE="complete",mw=us,su.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ml=su,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,pw=Ge}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",z0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new xh("@firebase/firestore");function Uo(){return Di.logLevel}function de(n,...e){if(Di.logLevel<=De.DEBUG){const t=e.map(Vp);Di.debug(`Firestore (${la}): ${n}`,...t)}}function Xr(n,...e){if(Di.logLevel<=De.ERROR){const t=e.map(Vp);Di.error(`Firestore (${la}): ${n}`,...t)}}function Zo(n,...e){if(Di.logLevel<=De.WARN){const t=e.map(Vp);Di.warn(`Firestore (${la}): ${n}`,...t)}}function Vp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_w(n,r,t)}function _w(n,e,t){let r=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xr(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_w(e,i,r)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ln{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(qt.UNAUTHENTICATED)))}shutdown(){}}class Rb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Nb{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $s,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $s)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new ww(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class Pb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Pb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lb{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Db(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function ip(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Nf(i)===Nf(a)?Oe(i,a):Nf(i)?1:-1}return Oe(n.length,e.length)}const Ob=55296,Vb=57343;function Nf(n){const e=n.charCodeAt(0);return e>=Ob&&e<=Vb}function ea(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ie(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=gr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const r=gr.isNumericId(e),i=gr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?gr.extractNumericId(e).compare(gr.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class Xe extends gr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Xe(t)}static emptyPath(){return new Xe([])}}const Mb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends gr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return Mb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Ot([H0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Xe.fromString(e))}static fromName(e){return new _e(Xe.fromString(e).popFirst(5))}static empty(){return new _e(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,e,t){if(!t)throw new ce(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fb(n,e,t,r){if(e===!0&&r===!0)throw new ce(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W0(n){if(!_e.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K0(n){if(_e.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ew(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Th(n);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!Ew(n))throw new ce(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ce(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Q0=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q0);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:wt("string",tt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new tt(0,0))}static max(){return new ke(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function Ub(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new Hs(i,_e.empty(),e)}function $b(n){return new Hs(n.readTime,n.key,Nl)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(ke.min(),_e.empty(),Nl)}static max(){return new Hs(ke.max(),_e.empty(),Nl)}}function Bb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==zb)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let i=0,a=0,u=!1;e.forEach((d=>{++i,d.next((()=>{++a,u&&a===i&&t()}),(p=>r(p)))})),u=!0,a===i&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((i=>i?J.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let p=0;p<a;p++){const g=p;t(e[g]).next((_=>{u[g]=_,++d,d===a&&r(u)}),(_=>i(_)))}}))}static doWhile(e,t){return new J(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function Hb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ca(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Sh(n){return n==null}function Gc(n){return n===0&&1/n==-1/0}function Wb(n){return typeof n=="number"&&Number.isInteger(n)&&!Gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="";function Kb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X0(e)),e=Gb(n.get(t),e);return X0(e)}function Gb(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Tw:t+="";break;default:t+=a}}return t}function X0(n){return n+Tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ei(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Iw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Dt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new vn([])}unionWith(e){let t=new It(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Sw("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=Qb.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ks(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Cw="__type__",Aw="__previous_value__",kw="__local_write_time__";function Up(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Cw])==null?void 0:r.stringValue)===bw}function bh(n){const e=n.mapValue.fields[Aw];return Up(e)?bh(e):e}function Pl(n){const e=Ws(n.mapValue.fields[kw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t,r,i,a,u,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Qc="(default)";class jl{constructor(e,t){this.projectId=e,this.database=t||Qc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="__type__",Yb="__max__",xc={mapValue:{}},Nw="__vector__",Xc="value";function Gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Up(n)?4:Zb(n)?9007199254740991:Jb(n)?10:11:Ie(28295,{value:n})}function Sr(n,e){if(n===e)return!0;const t=Gs(n);if(t!==Gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ws(i.timestampValue),d=Ws(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Ks(i.bytesValue).isEqual(Ks(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return pt(i.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pt(i.integerValue)===pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=pt(i.doubleValue),d=pt(a.doubleValue);return u===d?Gc(u)===Gc(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(Y0(u)!==Y0(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!Sr(u[p],d[p])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Ll(n,e){return(n.values||[]).find((t=>Sr(t,e)))!==void 0}function ta(n,e){if(n===e)return 0;const t=Gs(n),r=Gs(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),p=pt(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Z0(n.timestampValue,e.timestampValue);case 4:return Z0(Pl(n),Pl(e));case 5:return ip(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Ks(a),p=Ks(u);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Oe(d[g],p[g]);if(_!==0)return _}return Oe(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Oe(pt(a.latitude),pt(u.latitude));return d!==0?d:Oe(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ev(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var T,k,C,U;const d=a.fields||{},p=u.fields||{},g=(T=d[Xc])==null?void 0:T.arrayValue,_=(k=p[Xc])==null?void 0:k.arrayValue,x=Oe(((C=g==null?void 0:g.values)==null?void 0:C.length)||0,((U=_==null?void 0:_.values)==null?void 0:U.length)||0);return x!==0?x:ev(g,_)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===xc.mapValue&&u===xc.mapValue)return 0;if(a===xc.mapValue)return 1;if(u===xc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let x=0;x<p.length&&x<_.length;++x){const T=ip(p[x],_[x]);if(T!==0)return T;const k=ta(d[p[x]],g[_[x]]);if(k!==0)return k}return Oe(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function Z0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ws(n),r=Ws(e),i=Oe(t.seconds,r.seconds);return i!==0?i:Oe(t.nanos,r.nanos)}function ev(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=ta(t[i],r[i]);if(a)return a}return Oe(t.length,r.length)}function na(n){return op(n)}function op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ws(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ks(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=op(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${op(t.fields[u])}`;return i+"}"})(n.mapValue):Ie(61005,{value:n})}function Pc(n){switch(Gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(n);return e?16+Pc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Pc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ei(r.fields,((a,u)=>{i+=a.length+Pc(u)})),i})(n.mapValue);default:throw Ie(13486,{value:n})}}function tv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ap(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function nv(n){return!!n&&"nullValue"in n}function rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jc(n){return!!n&&"mapValue"in n}function Jb(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Rw])==null?void 0:r.stringValue)===Nw}function wl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ei(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=wl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return{...n}}function Zb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Yb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=wl(u):i.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ei(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new an(wl(this.value))}}function Pw(n){const e=[];return ei(n.fields,((t,r)=>{const i=new Ot([t]);if(jc(r)){const a=Pw(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,r,i,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Ht(e,0,ke.min(),ke.min(),ke.min(),an.empty(),0)}static newFoundDocument(e,t,r,i){return new Ht(e,1,t,ke.min(),r,i,0)}static newNoDocument(e,t){return new Ht(e,2,t,ke.min(),ke.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,ke.min(),ke.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.position=e,this.inclusive=t}}function sv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t="asc"){this.field=e,this.dir=t}}function eC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class _t extends jw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nC(e,t,r):t==="array-contains"?new iC(e,r):t==="in"?new oC(e,r):t==="not-in"?new aC(e,r):t==="array-contains-any"?new lC(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rC(e,r):new sC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ta(t,this.value)):t!==null&&Gs(this.value)===Gs(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends jw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xn(e,t)}matches(e){return Lw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lw(n){return n.op==="and"}function Dw(n){return tC(n)&&Lw(n)}function tC(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function lp(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+na(n.value);if(Dw(n))return n.filters.map((e=>lp(e))).join(",");{const e=n.filters.map((t=>lp(t))).join(",");return`${n.op}(${e})`}}function Ow(n,e){return n instanceof _t?(function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)})(n,e):n instanceof Xn?(function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,d)=>a&&Ow(u,i.filters[d])),!0):!1})(n,e):void Ie(19439)}function Vw(n){return n instanceof _t?(function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`})(n):n instanceof Xn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Vw).join(" ,")+"}"})(n):"Filter"}class nC extends _t{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class rC extends _t{constructor(e,t){super(e,"in",t),this.keys=Mw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class sC extends _t{constructor(e,t){super(e,"not-in",t),this.keys=Mw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class iC extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&Ll(t.arrayValue,this.value)}}class oC extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ll(this.value.arrayValue,t)}}class aC extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ll(this.value.arrayValue,t)}}class lC extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ll(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function ov(n,e=null,t=[],r=[],i=null,a=null,u=null){return new uC(n,e,t,r,i,a,u)}function Bp(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>lp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>na(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>na(r))).join(",")),e.Te=t}return e.Te}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ow(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iv(n.startAt,e.startAt)&&iv(n.endAt,e.endAt)}function up(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t=null,r=[],i=[],a=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cC(n,e,t,r,i,a,u,d){return new ha(n,e,t,r,i,a,u,d)}function Fw(n){return new ha(n)}function av(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Uw(n){return n.collectionGroup!==null}function xl(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Ot.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dl(a,r))})),t.has(Ot.keyField().canonicalString())||e.Ie.push(new Dl(Ot.keyField(),r))}return e.Ie}function _r(n){const e=Ne(n);return e.Ee||(e.Ee=hC(e,xl(n))),e.Ee}function hC(n,e){if(n.limitType==="F")return ov(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Dl(i.field,a)}));const t=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return ov(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cp(n,e){const t=n.filters.concat([e]);return new ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hp(n,e,t){return new ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ch(n,e){return zp(_r(n),_r(e))&&n.limitType===e.limitType}function $w(n){return`${Bp(_r(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>Vw(i))).join(", ")}]`),Sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>na(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>na(i))).join(",")),`Target(${r})`})(_r(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of xl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,d,p){const g=sv(u,d,p);return u.inclusive?g<=0:g<0})(r.startAt,xl(r),i)||r.endAt&&!(function(u,d,p){const g=sv(u,d,p);return u.inclusive?g>=0:g>0})(r.endAt,xl(r),i))})(n,e)}function dC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let r=!1;for(const i of xl(n)){const a=fC(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function fC(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(a,u,d){const p=u.data.field(a),g=d.data.field(a);return p!==null&&g!==null?ta(p,g):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ei(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new ot(_e.comparator);function Yr(){return pC}const zw=new ot(_e.comparator);function gl(...n){let e=zw;for(const t of n)e=e.insert(t.key,t);return e}function qw(n){let e=zw;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ni(){return El()}function Hw(){return El()}function El(){return new qi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mC=new ot(_e.comparator),gC=new It(_e.comparator);function Ve(...n){let e=gC;for(const t of n)e=e.add(t);return e}const yC=new It(Oe);function vC(){return yC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function Ww(n){return{integerValue:""+n}}function _C(n,e){return Wb(e)?Ww(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function wC(n,e,t){return n instanceof Ol?(function(i,a){const u={fields:{[Cw]:{stringValue:bw},[kw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Up(a)&&(a=bh(a)),a&&(u.fields[Aw]=a),{mapValue:u}})(t,e):n instanceof Vl?Gw(n,e):n instanceof Ml?Qw(n,e):(function(i,a){const u=Kw(i,a),d=lv(u)+lv(i.Ae);return ap(u)&&ap(i.Ae)?Ww(d):qp(i.serializer,d)})(n,e)}function xC(n,e,t){return n instanceof Vl?Gw(n,e):n instanceof Ml?Qw(n,e):t}function Kw(n,e){return n instanceof Jc?(function(r){return ap(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ol extends kh{}class Vl extends kh{constructor(e){super(),this.elements=e}}function Gw(n,e){const t=Xw(e);for(const r of n.elements)t.some((i=>Sr(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Ml extends kh{constructor(e){super(),this.elements=e}}function Qw(n,e){let t=Xw(e);for(const r of n.elements)t=t.filter((i=>!Sr(i,r)));return{arrayValue:{values:t}}}class Jc extends kh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lv(n){return pt(n.integerValue||n.doubleValue)}function Xw(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.field=e,this.transform=t}}function TC(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Ml&&i instanceof Ml?ea(r.elements,i.elements,Sr):r instanceof Jc&&i instanceof Jc?Sr(r.Ae,i.Ae):r instanceof Ol&&i instanceof Ol})(n.transform,e.transform)}class IC{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rh{}function Yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hp(n.key,Kn.none()):new Wl(n.key,n.data,Kn.none());{const t=n.data,r=an.empty();let i=new It(Ot.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new ti(n.key,r,new vn(i.toArray()),Kn.none())}}function SC(n,e,t){n instanceof Wl?(function(i,a,u){const d=i.value.clone(),p=cv(i.fieldTransforms,a,u.transformResults);d.setAll(p),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ti?(function(i,a,u){if(!Lc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=cv(i.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(Jw(i)),p.setAll(d),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Tl(n,e,t,r){return n instanceof Wl?(function(a,u,d,p){if(!Lc(a.precondition,u))return d;const g=a.value.clone(),_=hv(a.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof ti?(function(a,u,d,p){if(!Lc(a.precondition,u))return d;const g=hv(a.fieldTransforms,p,u),_=u.data;return _.setAll(Jw(a)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(a,u,d){return Lc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function bC(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Kw(r.transform,i||null);a!=null&&(t===null&&(t=an.empty()),t.set(r.field,a))}return t||null}function uv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,((a,u)=>TC(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Rh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ti extends Rh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cv(n,e,t){const r=new Map;He(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,xC(u,d,t[i]))}return r}function hv(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,wC(a,u,e))}return r}class Hp extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&SC(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hw();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(i.key)?null:d;const p=Yw(u,d);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,((t,r)=>uv(t,r)))&&ea(this.baseMutations,e.baseMutations,((t,r)=>uv(t,r)))}}class Wp{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mC})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Wp(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Fe;function NC(n){switch(n){case Y.OK:return Ie(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function Zw(n){if(n===void 0)return Xr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return Ie(39323,{code:n})}}(Fe=vt||(vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Us([4294967295,4294967295],0);function dv(n){const e=PC().encode(n),t=new fw;return t.update(e),new Uint8Array(t.digest())}function fv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([t,r],0),new Us([i,a],0)]}class Kp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yl(`Invalid padding: ${t}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Us.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Us.fromNumber(r)));return i.compare(jC)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dv(e),[r,i]=fv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Kp(a,i,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=dv(e),[r,i]=fv(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nh(ke.min(),i,new ot(Oe),Yr(),Ve())}}class Kl{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kl(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class ex{constructor(e,t){this.targetId=e,this.Ce=t}}class tx{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pv{constructor(){this.ve=0,this.Fe=mv(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ie(38017,{changeType:a})}})),new Kl(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=mv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=Ec(),this.He=Ec(),this.Ye=new ot(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(up(a))if(r===0){const u=new _e(a.path);this.et(t,u,Ht.newNoDocument(u,ke.min()))}else He(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),p=d?this.ct(d,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,d;try{u=Ks(r).toUint8Array()}catch(p){if(p instanceof Sw)return Zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Kp(u,i,a)}catch(p){return Zo(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&up(d.target)){const p=new _e(d.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Ht.newNoDocument(p,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Ve();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Nh(e,t,this.Ye,this.je,r);return this.je=Yr(),this.Je=Ec(),this.He=Ec(),this.Ye=new ot(Oe),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ec(){return new ot(_e.comparator)}function mv(){return new ot(_e.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},OC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"};class MC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dp(n,e){return n.useProto3Json||Sh(e)?e:{value:e}}function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FC(n,e){return Zc(n,e.toTimestamp())}function wr(n){return He(!!n,49232),ke.fromTimestamp((function(t){const r=Ws(t);return new tt(r.seconds,r.nanos)})(n))}function Gp(n,e){return fp(n,e).canonicalString()}function fp(n,e){const t=(function(i){return new Xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rx(n){const e=Xe.fromString(n);return He(lx(e),10190,{key:e.toString()}),e}function pp(n,e){return Gp(n.databaseId,e.path)}function Pf(n,e){const t=rx(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(ix(t))}function sx(n,e){return Gp(n.databaseId,e)}function UC(n){const e=rx(n);return e.length===4?Xe.emptyPath():ix(e)}function mp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ix(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gv(n,e,t){return{name:pp(n,e),fields:t.value.mapValue.fields}}function $C(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,_){return g.useProto3Json?(He(_===void 0||typeof _=="string",58123),Vt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Vt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(g){const _=g.code===void 0?Y.UNKNOWN:Zw(g.code);return new ce(_,g.message||"")})(u);t=new tx(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pf(n,r.document.name),a=wr(r.document.updateTime),u=r.document.createTime?wr(r.document.createTime):ke.min(),d=new an({mapValue:{fields:r.document.fields}}),p=Ht.newFoundDocument(i,a,u,d),g=r.targetIds||[],_=r.removedTargetIds||[];t=new Dc(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pf(n,r.document),a=r.readTime?wr(r.readTime):ke.min(),u=Ht.newNoDocument(i,a),d=r.removedTargetIds||[];t=new Dc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pf(n,r.document),a=r.removedTargetIds||[];t=new Dc([],a,i,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new RC(i,a),d=r.targetId;t=new ex(d,u)}}return t}function BC(n,e){let t;if(e instanceof Wl)t={update:gv(n,e.key,e.value)};else if(e instanceof Hp)t={delete:pp(n,e.key)};else if(e instanceof ti)t={update:gv(n,e.key,e.data),updateMask:YC(e.fieldMask)};else{if(!(e instanceof CC))return Ie(16599,{Vt:e.type});t={verify:pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof Ol)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jc)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:FC(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie(27497)})(n,e.precondition)),t}function zC(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?wr(i.updateTime):wr(a);return u.isEqual(ke.min())&&(u=wr(a)),new IC(u,i.transformResults||[])})(t,e)))):[]}function qC(n,e){return{documents:[sx(n,e.path)]}}function HC(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sx(n,i);const a=(function(g){if(g.length!==0)return ax(Xn.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:Bo(T.field),direction:GC(T.dir)}})(_)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=dp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:i}}function WC(n){let e=UC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){He(r===1,65062);const _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(x){const T=ox(x);return T instanceof Xn&&Dw(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((T=>(function(C){return new Dl(zo(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(x){let T;return T=typeof x=="object"?x.value:x,Sh(T)?null:T})(t.limit));let p=null;t.startAt&&(p=(function(x){const T=!!x.before,k=x.values||[];return new Yc(k,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(x){const T=!x.before,k=x.values||[];return new Yc(k,T)})(t.endAt)),cC(e,i,u,a,d,"F",p,g)}function KC(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ox(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zo(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zo(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zo(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return _t.create(zo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Xn.create(t.compositeFilter.filters.map((r=>ox(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function GC(n){return DC[n]}function QC(n){return OC[n]}function XC(n){return VC[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function zo(n){return Ot.fromServerFormat(n.fieldPath)}function ax(n){return n instanceof _t?(function(t){if(t.op==="=="){if(rv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(nv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(nv(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:QC(t.op),value:t.value}}})(n):n instanceof Xn?(function(t){const r=t.getFilters().map((i=>ax(i)));return r.length===1?r[0]:{compositeFilter:{op:XC(t.op),filters:r}}})(n):Ie(54877,{filter:n})}function YC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,i,a=ke.min(),u=ke.min(),d=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.yt=e}}function ZC(n){const e=WC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.Cn=new tA}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Hs.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class tA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(Xe.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(ux,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",nA=1048576;function _v([n,e],[t,r]){const i=Oe(n,t);return i===0?Oe(e,r):i}class rA{constructor(e){this.Ir=e,this.buffer=new It(_v),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_v(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(vv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ca(t)?de(vv,"Ignoring IndexedDB error during garbage collection: ",t):await ua(t)}await this.Vr(3e5)}))}}class iA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Ih.ce);const r=new rA(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,d=Date.now(),this.removeTargets(e,r,t)))).next((x=>(a=x,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),Uo()<=De.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${x} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x}))))}}function oA(n,e){return new iA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.changes=new qi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Tl(r.mutation,i,vn.empty(),tt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Ni();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=gl();return a.forEach(((d,p)=>{u=u.insert(d,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Ni();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ve())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,i){let a=Yr();const u=El(),d=(function(){return El()})();return t.forEach(((p,g)=>{const _=r.get(g.key);i.has(g.key)&&(_===void 0||_.mutation instanceof ti)?a=a.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),Tl(_.mutation,g,_.mutation.getFieldMask(),tt.now())):u.set(g.key,vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((g,_)=>u.set(g,_))),t.forEach(((g,_)=>d.set(g,new lA(_,u.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=El();let i=new ot(((u,d)=>u-d)),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=r.get(p)||vn.empty();_=d.applyToLocalView(g,_),r.set(p,_);const x=(i.get(d.batchId)||Ve()).add(p);i=i.insert(d.batchId,x)}))})).next((()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,x=Hw();_.forEach((T=>{if(!a.has(T)){const k=Yw(t.get(T),r.get(T));k!==null&&x.set(T,k),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Uw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(Ni());let d=Nl,p=a;return u.next((g=>J.forEach(g,((_,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),a.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{p=p.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,p,g,Ve()))).next((_=>({batchId:d,changes:qw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((r=>{let i=gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=gl();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(p=>{const g=(function(x,T){return new ha(T,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((_=>{_.forEach(((x,T)=>{u=u.insert(x,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,Ht.newInvalidDocument(_)))}));let d=gl();return u.forEach(((p,g)=>{const _=a.get(p);_!==void 0&&Tl(_.mutation,g,vn.empty(),tt.now()),Ah(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:ZC(i.bundledQuery),readTime:wr(i.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.overlays=new ot(_e.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ni();return J.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=Ni(),a=t.length+1,u=new _e(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ot(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let _=a.get(g.largestBatchId);_===null&&(_=Ni(),a=a.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ni(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=i)););return J.resolve(d)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kC(t,r));let a=this.qr.get(t);a===void 0&&(a=Ve(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Qr=new It(At.$r),this.Ur=new It(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new At(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new At(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new _e(new Xe([])),r=new At(t,e),i=new At(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new Xe([])),r=new At(t,e),i=new At(t,e+1);let a=Ve();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new At(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(At.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AC(a,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Zr=this.Zr.add(new At(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Fp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new At(t,0),i=new At(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const d=this.Xr(u.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Oe);return t.forEach((i=>{const a=new At(i,0),u=new At(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new At(new _e(a),0);let d=new It(Oe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(p.Yr)),!0)}),u),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(i=>{const a=new At(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new At(t,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.ri=e,this.docs=(function(){return new ot(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=Yr();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ht.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Yr();const u=t.path,d=new _e(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Bb($b(_),r)<=0||(i.has(_.key)||Ah(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ie(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new mA(this)}getSize(e){return J.resolve(this.size)}}class mA extends aA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.persistence=e,this.si=new qi((t=>Bp(t)),zp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),J.waitFor(a).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new dA,this.referenceDelegate=e(this),this.Pi=new gA(this),this.indexManager=new eA,this.remoteDocumentCache=(function(i){return new pA(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new JC(t),this.Ii=new cA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new fA(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){de("MemoryPersistence","Starting transaction:",e);const i=new yA(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class yA extends qb{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const i=_e.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.pi=new qi((r=>Kb(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=oA(this,t)}static mi(e,t){return new eh(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?J.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pc(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Ve(),i=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yp(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:Hb(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new vA;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Uo()<=De.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Uo()<=De.DEBUG&&de("QueryEngine","Query:",$o(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Uo()<=De.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):J.resolve())}ys(e,t){if(av(t))return J.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=hp(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Ve(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,u,p.readTime)?this.ys(e,hp(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,i){return av(t)||i.isEqual(ke.min())?J.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?J.resolve(null):(Uo()<=De.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(t)),this.vs(e,u,t,Ub(i,Nl)).next((d=>d)))}))}Ds(e,t){let r=new It(Bw(e));return t.forEach(((i,a)=>{Ah(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Uo()<=De.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ps.getDocumentsMatchingQuery(e,t,Hs.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",wA=3e8;class xA{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ot(Oe),this.xs=new qi((a=>Bp(a)),zp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function EA(n,e,t,r){return new xA(n,e,t,r)}async function hx(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let p=Ve();for(const g of i){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of a){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:d})))}))}))}function TA(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const x=g.batch,T=x.keys();let k=J.resolve();return T.forEach((C=>{k=k.next((()=>_.getEntry(p,C))).next((U=>{const D=g.docVersions.get(C);He(D!==null,48541),U.version.compareTo(D)<0&&(x.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))}))})),k.next((()=>d.mutationQueue.removeMutationBatch(p,x)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function dx(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function IA(n,e){const t=Ne(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const d=[];e.targetChanges.forEach(((_,x)=>{const T=i.get(x);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,x))));let k=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(Vt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,r)),i=i.insert(x,k),(function(U,D,K){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=wA?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,k,_)&&d.push(t.Pi.updateTargetData(a,k))}));let p=Yr(),g=Ve();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(SA(a,u,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!r.isEqual(ke.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,g))).next((()=>p))})).then((a=>(t.Ms=i,a)))}function SA(n,e,t){let r=Ve(),i=Ve();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Yr();return t.forEach(((d,p)=>{const g=a.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):de(Jp,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function bA(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function CA(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,J.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function gp(n,e,t){const r=Ne(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!ca(u))throw u;de(Jp,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wv(n,e,t){const r=Ne(n);let i=ke.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,_){const x=Ne(p),T=x.xs.get(_);return T!==void 0?J.resolve(x.Ms.get(T)):x.Pi.getTargetData(g,_)})(r,u,_r(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:ke.min(),t?a:Ve()))).next((d=>(AA(r,dC(e),d),{documents:d,Qs:a})))))}function AA(n,e,t){let r=n.Os.get(e)||ke.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class xv{constructor(){this.activeTargetIds=vC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.Mo=new xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class Tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function yp(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",NA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=yp(),d=this.zo(e,t.toUriEncodedString());de(jf,`Sending RPC '${e}' ${u}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:g}=new URL(d),_=Js(g);return this.Jo(e,d,p,r,_).then((x=>(de(jf,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw Zo(jf,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",r),x}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+la})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=NA[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class LA extends PA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=yp();return new Promise(((d,p)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(mw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nc.NO_ERROR:const x=g.getResponseJson();de(zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case Nc.TIMEOUT:de(zt,`RPC '${e}' ${u} timed out`),p(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const T=g.getStatus();if(de(zt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const C=k==null?void 0:k.error;if(C&&C.status&&C.message){const U=(function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Q)>=0?Q:Y.UNKNOWN})(C.status);p(new ce(U,C.message))}else p(new ce(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(zt,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(i);de(zt,`RPC '${e}' ${u} sending request:`,i),g.send(t,"POST",_,r,15)}))}T_(e,t,r){const i=yp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vw(),d=yw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=a.join("");de(zt,`Creating RPC '${e}' stream ${i}: ${_}`,p);const x=u.createWebChannel(_,p);this.I_(x);let T=!1,k=!1;const C=new jA({Yo:D=>{k?de(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(T||(de(zt,`Opening RPC '${e}' stream ${i} transport.`),x.open(),T=!0),de(zt,`RPC '${e}' stream ${i} sending:`,D),x.send(D))},Zo:()=>x.close()}),U=(D,K,Q)=>{D.listen(K,(W=>{try{Q(W)}catch(re){setTimeout((()=>{throw re}),0)}}))};return U(x,ml.EventType.OPEN,(()=>{k||(de(zt,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),U(x,ml.EventType.CLOSE,(()=>{k||(k=!0,de(zt,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(x))})),U(x,ml.EventType.ERROR,(D=>{k||(k=!0,Zo(zt,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new ce(Y.UNAVAILABLE,"The operation could not be completed")))})),U(x,ml.EventType.MESSAGE,(D=>{var K;if(!k){const Q=D.data[0];He(!!Q,16349);const W=Q,re=(W==null?void 0:W.error)||((K=W[0])==null?void 0:K.error);if(re){de(zt,`RPC '${e}' stream ${i} received error:`,re);const ye=re.status;let me=(function(A){const j=vt[A];if(j!==void 0)return Zw(j)})(ye),P=re.message;me===void 0&&(me=Y.INTERNAL,P="Unknown error status: "+ye+" with message "+re.message),k=!0,C.a_(new ce(me,P)),x.close()}else de(zt,`RPC '${e}' stream ${i} received:`,Q),C.u_(Q)}})),U(d,gw.STAT_EVENT,(D=>{D.stat===sp.PROXY?de(zt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===sp.NOPROXY&&de(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new MC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class px{constructor(e,t,r,i,a,u,d,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DA extends px{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$C(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?wr(u.readTime):ke.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=mp(this.serializer),t.addTarget=(function(a,u){let d;const p=u.target;if(d=up(p)?{documents:qC(a,p)}:{query:HC(a,p).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=nx(a,u.resumeToken);const g=dp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(ke.min())>0){d.readTime=Zc(a,u.snapshotVersion.toTimestamp());const g=dp(a,u.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=KC(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.q_(t)}}class OA extends px{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zC(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>BC(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{}class MA extends VA{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,fp(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Y.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,fp(t,r),i,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Y.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="RemoteStore";class UA{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Hi(this)&&(de(Vi,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Gl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await jh(g)})(this))}))})),this.Ra=new FA(r,i)}}async function jh(n){if(Hi(n))for(const e of n.da)await e(!0)}async function Gl(n){for(const e of n.da)await e(!1)}function mx(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),nm(t)?tm(t):da(t).O_()&&em(t,e))}function Zp(n,e){const t=Ne(n),r=da(t);t.Ia.delete(e),r.O_()&&gx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Hi(t)&&t.Ra.set("Unknown"))}function em(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}da(n).Y_(e)}function gx(n,e){n.Va.Ue(e),da(n).Z_(e)}function tm(n){n.Va=new LC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),da(n).start(),n.Ra.ua()}function nm(n){return Hi(n)&&!da(n).x_()&&n.Ia.size>0}function Hi(n){return Ne(n).Ea.size===0}function yx(n){n.Va=void 0}async function $A(n){n.Ra.set("Online")}async function BA(n){n.Ia.forEach(((e,t)=>{em(n,e)}))}async function zA(n,e){yx(n),nm(n)?(n.Ra.ha(e),tm(n)):n.Ra.set("Unknown")}async function qA(n,e,t){if(n.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ia.delete(d),i.Va.removeTarget(d))})(n,e)}catch(r){de(Vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(n,r)}else if(e instanceof Dc?n.Va.Ze(e):e instanceof ex?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const r=await dx(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.Ia.get(g);_&&a.Ia.set(g,_.withResumeToken(p.resumeToken,u))}})),d.targetMismatches.forEach(((p,g)=>{const _=a.Ia.get(p);if(!_)return;a.Ia.set(p,_.withResumeToken(Vt.EMPTY_BYTE_STRING,_.snapshotVersion)),gx(a,p);const x=new Os(_.target,p,g,_.sequenceNumber);em(a,x)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){de(Vi,"Failed to raise snapshot:",r),await th(n,r)}}async function th(n,e,t){if(!ca(e))throw e;n.Ea.add(1),await Gl(n),n.Ra.set("Offline"),t||(t=()=>dx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Vi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jh(n)}))}function vx(n,e){return e().catch((t=>th(n,t,e)))}async function Lh(n){const e=Ne(n),t=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;HA(e);)try{const i=await bA(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,WA(e,i)}catch(i){await th(e,i)}_x(e)&&wx(e)}function HA(n){return Hi(n)&&n.Ta.length<10}function WA(n,e){n.Ta.push(e);const t=Qs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _x(n){return Hi(n)&&!Qs(n).x_()&&n.Ta.length>0}function wx(n){Qs(n).start()}async function KA(n){Qs(n).ra()}async function GA(n){const e=Qs(n);for(const t of n.Ta)e.ea(t.mutations)}async function QA(n,e,t){const r=n.Ta.shift(),i=Wp.from(r,e,t);await vx(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Lh(n)}async function XA(n,e){e&&Qs(n).X_&&await(async function(r,i){if((function(u){return NC(u)&&u!==Y.ABORTED})(i.code)){const a=r.Ta.shift();Qs(r).B_(),await vx(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Lh(r)}})(n,e),_x(n)&&wx(n)}async function Sv(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),de(Vi,"RemoteStore received new credentials");const r=Hi(t);t.Ea.add(3),await Gl(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jh(t)}async function YA(n,e){const t=Ne(n);e?(t.Ea.delete(2),await jh(t)):e||(t.Ea.add(2),await Gl(t),t.Ra.set("Unknown"))}function da(n){return n.ma||(n.ma=(function(t,r,i){const a=Ne(t);return a.sa(),new DA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:$A.bind(null,n),t_:BA.bind(null,n),r_:zA.bind(null,n),H_:qA.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),nm(n)?tm(n):n.Ra.set("Unknown")):(await n.ma.stop(),yx(n))}))),n.ma}function Qs(n){return n.fa||(n.fa=(function(t,r,i){const a=Ne(t);return a.sa(),new OA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KA.bind(null,n),r_:XA.bind(null,n),ta:GA.bind(null,n),na:QA.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Lh(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Vi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,d=new rm(e,t,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),ca(n))return new ce(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=gl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.ga=new ot(_e.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class sa{constructor(e,t,r,i,a,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new sa(e,t,Ho.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZA{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ne(t),a=i.queries;i.queries=Cv(),a.forEach(((u,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function Cv(){return new qi((n=>$w(n)),Ch)}async function ek(n,e){const t=Ne(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new JA,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const d=sm(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&im(t)}async function tk(n,e){const t=Ne(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nk(n,e){const t=Ne(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(i)&&(r=!0);u.wa=i}}r&&im(t)}function rk(n,e,t){const r=Ne(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function im(n){n.Ca.forEach((e=>{e.next()}))}var vp,Av;(Av=vp||(vp={})).Ma="default",Av.Cache="cache";class sk{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class ik{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=Bw(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new bv,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((_,x)=>{const T=i.get(_),k=Ah(this.query,x)?x:null,C=!!T&&this.mutatedKeys.has(T.key),U=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let D=!1;T&&k?T.data.isEqual(k.data)?C!==U&&(r.track({type:3,doc:k}),D=!0):this.su(T,k)||(r.track({type:2,doc:k}),D=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(d=!0)):!T&&k?(r.track({type:0,doc:k}),D=!0):T&&!k&&(r.track({type:1,doc:T}),D=!0,(p||g)&&(d=!0)),D&&(k?(u=u.add(k),a=U?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,x)=>(function(k,C){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:D})}};return U(k)-U(C)})(_.type,x.type)||this.eu(_.doc,x.doc))),this.ou(r),i=i??!1;const d=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new sa(this.query,e.tu,a,u,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Ex(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new xx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const om="SyncEngine";class ok{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ak{constructor(e){this.key=e,this.hu=!1}}class lk{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qi((d=>$w(d)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ot(_e.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uk(n,e,t=!0){const r=Ax(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Tx(r,e,t,!0),i}async function ck(n,e){const t=Ax(n);await Tx(t,e,!0,!1)}async function Tx(n,e,t,r){const i=await CA(n.localStore,_r(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await hk(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&mx(n.remoteStore,i),d}async function hk(n,e,t,r,i){n.pu=(x,T,k)=>(async function(U,D,K,Q){let W=D.view.ru(K);W.Cs&&(W=await wv(U.localStore,D.query,!1).then((({documents:P})=>D.view.ru(P,W))));const re=Q&&Q.targetChanges.get(D.targetId),ye=Q&&Q.targetMismatches.get(D.targetId)!=null,me=D.view.applyChanges(W,U.isPrimaryClient,re,ye);return Rv(U,D.targetId,me.au),me.snapshot})(n,x,T,k);const a=await wv(n.localStore,e,!0),u=new ik(e,a.Qs),d=u.ru(a.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),g=u.applyChanges(d,n.isPrimaryClient,p);Rv(n,t,g.au);const _=new ok(e,t,u);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function dk(n,e,t){const r=Ne(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Ch(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zp(r.remoteStore,i.targetId),_p(r,i.targetId)})).catch(ua)):(_p(r,i.targetId),await gp(r.localStore,i.targetId,!0))}async function fk(n,e){const t=Ne(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zp(t.remoteStore,r.targetId))}async function pk(n,e,t){const r=xk(n);try{const i=await(function(u,d){const p=Ne(u),g=tt.now(),_=d.reduce(((k,C)=>k.add(C.key)),Ve());let x,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let C=Yr(),U=Ve();return p.Ns.getEntries(k,_).next((D=>{C=D,C.forEach(((K,Q)=>{Q.isValidDocument()||(U=U.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,C))).next((D=>{x=D;const K=[];for(const Q of d){const W=bC(Q,x.get(Q.key).overlayedDocument);W!=null&&K.push(new ti(Q.key,W,Pw(W.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,K,d)})).next((D=>{T=D;const K=D.applyToLocalDocumentSet(x,U);return p.documentOverlayCache.saveOverlays(k,D.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:qw(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,d,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new ot(Oe)),g=g.insert(d,p),u.Vu[u.currentUser.toKey()]=g})(r,i.batchId,t),await Ql(r,i.changes),await Lh(r.remoteStore)}catch(i){const a=sm(i,"Failed to persist write");t.reject(a)}}async function Ix(n,e){const t=Ne(n);try{const r=await IA(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?He(u.hu,14607):i.removedDocuments.size>0&&(He(u.hu,42227),u.hu=!1))})),await Ql(t,r,e)}catch(r){await ua(r)}}function kv(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(u,d){const p=Ne(u);p.onlineState=d;let g=!1;p.queries.forEach(((_,x)=>{for(const T of x.Sa)T.va(d)&&(g=!0)})),g&&im(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mk(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new ot(_e.comparator);u=u.insert(a,Ht.newNoDocument(a,ke.min()));const d=Ve().add(a),p=new Nh(ke.min(),new Map,new ot(Oe),u,d);await Ix(r,p),r.du=r.du.remove(a),r.Au.delete(e),am(r)}else await gp(r.localStore,e,!1).then((()=>_p(r,e,t))).catch(ua)}async function gk(n,e){const t=Ne(n),r=e.batch.batchId;try{const i=await TA(t.localStore,e);bx(t,r,null),Sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(t,i)}catch(i){await ua(i)}}async function yk(n,e,t){const r=Ne(n);try{const i=await(function(u,d){const p=Ne(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((x=>(He(x!==null,37113),_=x.keys(),p.mutationQueue.removeMutationBatch(g,x)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(r.localStore,e);bx(r,e,t),Sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ql(r,i)}catch(i){await ua(i)}}function Sx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function bx(n,e,t){const r=Ne(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function _p(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Cx(n,r)}))}function Cx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Zp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),am(n))}function Rv(n,e,t){for(const r of t)r instanceof xx?(n.Ru.addReference(r.key,e),vk(n,r)):r instanceof Ex?(de(om,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Cx(n,r.key)):Ie(19791,{wu:r})}function vk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(de(om,"New document in limbo: "+t),n.Eu.add(r),am(n))}function am(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new ak(t)),n.du=n.du.insert(t,r),mx(n.remoteStore,new Os(_r(Fw(t.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function Ql(n,e,t){const r=Ne(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{u.push(r.pu(p,e,t).then((g=>{var _;if((g||t)&&r.isPrimaryClient){const x=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){i.push(g);const x=Yp.As(p.targetId,g);a.push(x)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(g,(T=>J.forEach(T.Es,(k=>_.persistence.referenceDelegate.addReference(x,T.targetId,k))).next((()=>J.forEach(T.ds,(k=>_.persistence.referenceDelegate.removeReference(x,T.targetId,k)))))))))}catch(x){if(!ca(x))throw x;de(Jp,"Failed to update sequence numbers: "+x)}for(const x of g){const T=x.targetId;if(!x.fromCache){const k=_.Ms.get(T),C=k.snapshotVersion,U=k.withLastLimboFreeSnapshotVersion(C);_.Ms=_.Ms.insert(T,U)}}})(r.localStore,a))}async function _k(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){de(om,"User change. New user:",e.toKey());const r=await hx(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new ce(Y.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(t,r.Ls)}}function wk(n,e){const t=Ne(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const d=t.Tu.get(u);i=i.unionWith(d.view.nu)}return i}}function Ax(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mk.bind(null,e),e.Pu.H_=nk.bind(null,e.eventManager),e.Pu.yu=rk.bind(null,e.eventManager),e}function xk(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yk.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return EA(this.persistence,new _A,e.initialUser,this.serializer)}Cu(e){return new cx(Xp.mi,this.serializer)}Du(e){return new kA}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class Ek extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new cx((r=>eh.mi(r,t)),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_k.bind(null,this.syncEngine),await YA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZA})()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),r=(function(a){return new LA(a)})(e.databaseInfo);return(function(a,u,d,p){return new MA(a,u,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,d){return new UA(r,i,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>kv(this.syncEngine,t,0)),(function(){return Tv.v()?new Tv:new RA})())}createSyncEngine(e,t){return(function(i,a,u,d,p,g,_){const x=new lk(i,a,u,d,p,g);return _&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const a=Ne(i);de(Vi,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class Ik{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{de(Xs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(Xs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Df(n,e){n.asyncQueue.verifyOperationInProgress(),de(Xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await hx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Nv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Sk(n);de(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Sv(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>Sv(e.remoteStore,i))),n._onlineComponents=e}async function Sk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Xs,"Using user provided OfflineComponentProvider");try{await Df(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Df(n,new nh)}}else de(Xs,"Using default OfflineComponentProvider"),await Df(n,new Ek(void 0));return n._offlineComponents}async function kx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Xs,"Using user provided OnlineComponentProvider"),await Nv(n,n._uninitializedComponentsProvider._online)):(de(Xs,"Using default OnlineComponentProvider"),await Nv(n,new wp))),n._onlineComponents}function bk(n){return kx(n).then((e=>e.syncEngine))}async function Ck(n){const e=await kx(n),t=e.eventManager;return t.onListen=uk.bind(null,e.syncEngine),t.onUnlisten=dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ck.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fk.bind(null,e.syncEngine),t}function Ak(n,e,t={}){const r=new $s;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,p,g){const _=new Tk({next:T=>{_.Nu(),u.enqueueAndForget((()=>tk(a,x))),T.fromCache&&p.source==="server"?g.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),x=new sk(d,_,{includeMetadataChanges:!0,qa:!0});return ek(a,x)})(await Ck(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="firestore.googleapis.com",jv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nx,this.ssl=jv}else this.host=e.host,this.ssl=e.ssl??jv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nA)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kb;switch(r.type){case"firstParty":return new jb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Pv.get(t);r&&(de("ComponentProvider","Removing Datastore"),Pv.delete(t),r.terminate())})(this),Promise.resolve()}}function kk(n,e,t,r={}){var g;n=Oi(n,Dh);const i=Js(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;i&&(Lp(`https://${d}`),Dp("Firestore",!0)),a.host!==Nx&&a.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:i,emulatorOptions:r};if(!qs(p,u)&&(n._setSettings(p),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=qt.MOCK_USER;else{_=rw(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new qt(T)}n._authCredentials=new Rb(new ww(_,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hl(t,Tt._jsonSchema))return new Tt(e,r||null,new _e(Xe.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:wt("string",Tt._jsonSchemaVersion),referencePath:wt("string")};class Bs extends Wi{constructor(e,t,r){super(e,t,Fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new _e(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function _n(n,e,...t){if(n=Ye(n),xw("collection","path",e),n instanceof Dh){const r=Xe.fromString(e,...t);return K0(r),new Bs(n,null,r)}{if(!(n instanceof Tt||n instanceof Bs))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return K0(r),new Bs(n.firestore,null,r)}}function Wo(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=Mp.newId()),xw("doc","path",e),n instanceof Dh){const r=Xe.fromString(e,...t);return W0(r),new Tt(n,null,new _e(r))}{if(!(n instanceof Tt||n instanceof Bs))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return W0(r),new Tt(n.firestore,n instanceof Bs?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="AsyncQueue";class Ov{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const r=Lf();r&&de(Dv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new $s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;de(Dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",Vv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=rm.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ie(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Vv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Xl extends Dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ov,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ov(e),this._firestoreClient=void 0,await e}}}function Rk(n,e){const t=typeof n=="object"?n:Eh(),r=typeof n=="string"?n:Qc,i=Zs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=ew("firestore");a&&kk(i,...a)}return i}function Px(n){if(n._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Nk(n),n._firestoreClient}function Nk(n){var r,i,a;const e=n._freezeSettings(),t=(function(d,p,g,_){return new Xb(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Rx(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Ik(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Vt.fromBase64String(e))}catch(t){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:wt("string",Nn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:wt("string",xr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Er(e.vectorValues);throw new ce(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:wt("string",Er._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^__.*__$/;class jk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class jx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class lm{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lx(this.Ac)&&Pk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Lk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ph(e)}Cc(e,t,r,i=!1){return new lm({Ac:e,methodName:t,Dc:r,path:Ot.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const e=n._freezeSettings(),t=Ph(n._databaseId);return new Lk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dk(n,e,t,r,i,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);hm("Data must be an object, but it was:",u,r);const d=Dx(r,u);let p,g;if(a.merge)p=new vn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const x of a.mergeFields){const T=xp(e,x,t);if(!u.contains(T))throw new ce(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Vx(_,T)||_.push(T)}p=new vn(_),g=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,g=u.fieldTransforms;return new jk(new an(d),p,g)}class Mh extends Vh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class cm extends Vh{_toFieldTransform(e){return new EC(e.path,new Ol)}isEqual(e){return e instanceof cm}}function Ok(n,e,t,r){const i=n.Cc(1,e,t);hm("Data must be an object, but it was:",i,r);const a=[],u=an.empty();ei(r,((p,g)=>{const _=dm(e,p,t);g=Ye(g);const x=i.yc(_);if(g instanceof Mh)a.push(_);else{const T=Yl(g,x);T!=null&&(a.push(_),u.set(_,T))}}));const d=new vn(a);return new jx(u,d,i.fieldTransforms)}function Vk(n,e,t,r,i,a){const u=n.Cc(1,e,t),d=[xp(e,r,t)],p=[i];if(a.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(xp(e,a[T])),p.push(a[T+1]);const g=[],_=an.empty();for(let T=d.length-1;T>=0;--T)if(!Vx(g,d[T])){const k=d[T];let C=p[T];C=Ye(C);const U=u.yc(k);if(C instanceof Mh)g.push(k);else{const D=Yl(C,U);D!=null&&(g.push(k),_.set(k,D))}}const x=new vn(g);return new jx(_,x,u.fieldTransforms)}function Mk(n,e,t,r=!1){return Yl(t,n.Cc(r?4:3,e))}function Yl(n,e){if(Ox(n=Ye(n)))return hm("Unsupported field value:",e,n),Dx(n,e);if(n instanceof Vh)return(function(r,i){if(!Lx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const d of r){let p=Yl(d,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _C(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=tt.fromDate(r);return{timestampValue:Zc(i.serializer,a)}}if(r instanceof tt){const a=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,a)}}if(r instanceof xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof Tt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Er)return(function(u,d){return{mapValue:{fields:{[Rw]:{stringValue:Nw},[Xc]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return qp(d.serializer,g)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Th(r)}`)})(n,e)}function Dx(n,e){const t={};return Iw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ei(n,((r,i)=>{const a=Yl(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Ox(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof xr||n instanceof Nn||n instanceof Tt||n instanceof Vh||n instanceof Er)}function hm(n,e,t){if(!Ox(t)||!Ew(t)){const r=Th(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function xp(n,e,t){if((e=Ye(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return dm(n,e);throw rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Fk=new RegExp("[~\\*/\\[\\]]");function dm(n,e,t){if(e.search(Fk)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new ce(Y.INVALID_ARGUMENT,d+n+p)}function Vx(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Uk extends Mx{data(){return super.data()}}function fm(n,e){return typeof e=="string"?dm(n,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class Fx extends pm{}function Oc(n,e,...t){let r=[];e instanceof pm&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((p=>p instanceof gm)).length,d=a.filter((p=>p instanceof mm)).length;if(u>1||u>0&&d>0)throw new ce(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class mm extends Fx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mm(e,t,r)}_apply(e){const t=this._parse(e);return Ux(e._query,t),new Wi(e.firestore,e.converter,cp(e._query,t))}_parse(e){const t=um(e.firestore);return(function(a,u,d,p,g,_,x){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Fv(x,_);const C=[];for(const U of x)C.push(Mv(p,a,U));T={arrayValue:{values:C}}}else T=Mv(p,a,x)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Fv(x,_),T=Mk(d,u,x,_==="in"||_==="not-in");return _t.create(g,_,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gm(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const d=a.getFlattenedFilters();for(const p of d)Ux(u,p),u=cp(u,p)})(e._query,t),new Wi(e.firestore,e.converter,cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends Fx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ym(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(a,u)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new ha(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Vc(n,e="asc"){const t=e,r=fm("orderBy",n);return ym._create(r,t)}function Mv(n,e,t){if(typeof(t=Ye(t))=="string"){if(t==="")throw new ce(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&t.indexOf("/")!==-1)throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!_e.isDocumentKey(r))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tv(n,new _e(r))}if(t instanceof Tt)return tv(n,t._key);throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function Fv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ux(n,e){const t=(function(i,a){for(const u of i)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Bk{convertValue(e,t="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ei(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,i,a;const t=(a=(i=(r=e.fields)==null?void 0:r[Xc].arrayValue)==null?void 0:i.values)==null?void 0:a.map((u=>pt(u.doubleValue)));return new Er(t)}convertGeoPoint(e){return new xr(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);He(lx(r),9688,{name:e});const i=new jl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends Mx{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ko._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:wt("string",Ko._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Mc extends Ko{data(e={}){return super.data(e)}}class Go{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ic(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Mc(this._firestore,this._userDataWriter,r.key,r,new Ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((d=>{const p=new Mc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ic(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Mc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ic(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,_=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:qk(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:wt("string",Go._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Hk extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function Il(n){n=Oi(n,Wi);const e=Oi(n.firestore,Xl),t=Px(e),r=new Hk(e);return $k(n._query),Ak(t,n._query).then((i=>new Go(e,r,n,i)))}function sh(n,e,t,...r){n=Oi(n,Tt);const i=Oi(n.firestore,Xl),a=um(i);let u;return u=typeof(e=Ye(e))=="string"||e instanceof Oh?Vk(a,"updateDoc",n._key,e,t,r):Ok(a,"updateDoc",n._key,e),vm(i,[u.toMutation(n._key,Kn.exists(!0))])}function Wk(n){return vm(Oi(n.firestore,Xl),[new Hp(n._key,Kn.none())])}function Vs(n,e){const t=Oi(n.firestore,Xl),r=Wo(n),i=zk(n.converter,e);return vm(t,[Dk(um(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function vm(n,e){return(function(r,i){const a=new $s;return r.asyncQueue.enqueueAndForget((async()=>pk(await bk(r),i,a))),a.promise})(Px(n),e)}function Pn(){return new cm("serverTimestamp")}(function(e,t=!0){(function(i){la=i})(zi),Qn(new jn("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Xl(new Nb(r.getProvider("auth-internal")),new Lb(u,r.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(g.options.projectId,_)})(u,i),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),ln(B0,z0,e),ln(B0,z0,"esm2020")})();var Kk="firebase",Gk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln(Kk,Gk,"app");const $x="@firebase/installations",_m="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1e4,zx=`w:${_m}`,qx="FIS_v2",Qk="https://firebaseinstallations.googleapis.com/v1",Xk=3600*1e3,Yk="installations",Jk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mi=new Bi(Yk,Jk,Zk);function Hx(n){return n instanceof Ln&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx({projectId:n}){return`${Qk}/projects/${n}/installations`}function Kx(n){return{token:n.token,requestStatus:2,expiresIn:tR(n.expiresIn),creationTime:Date.now()}}async function Gx(n,e){const r=(await e.json()).error;return Mi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Qx({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eR(n,{refreshToken:e}){const t=Qx(n);return t.append("Authorization",nR(e)),t}async function Xx(n){const e=await n();return e.status>=500&&e.status<600?n():e}function tR(n){return Number(n.replace("s","000"))}function nR(n){return`${qx} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Wx(n),i=Qx(n),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={fid:t,authVersion:qx,appId:n.appId,sdkVersion:zx},d={method:"POST",headers:i,body:JSON.stringify(u)},p=await Xx(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Kx(g.authToken)}}else throw await Gx("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^[cdef][\w-]{21}$/,Ep="";function oR(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=aR(n);return iR.test(t)?t:Ep}catch{return Ep}}function aR(n){return sR(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Map;function Zx(n,e){const t=Fh(n);e1(t,e),lR(t,e)}function e1(n,e){const t=Jx.get(n);if(t)for(const r of t)r(e)}function lR(n,e){const t=uR();t&&t.postMessage({key:n,fid:e}),cR()}let Pi=null;function uR(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=n=>{e1(n.data.key,n.data.fid)}),Pi}function cR(){Jx.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-installations-database",dR=1,Fi="firebase-installations-store";let Of=null;function wm(){return Of||(Of=uw(hR,dR,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Fi)}}})),Of}async function ih(n,e){const t=Fh(n),i=(await wm()).transaction(Fi,"readwrite"),a=i.objectStore(Fi),u=await a.get(t);return await a.put(e,t),await i.done,(!u||u.fid!==e.fid)&&Zx(n,e.fid),e}async function t1(n){const e=Fh(n),r=(await wm()).transaction(Fi,"readwrite");await r.objectStore(Fi).delete(e),await r.done}async function Uh(n,e){const t=Fh(n),i=(await wm()).transaction(Fi,"readwrite"),a=i.objectStore(Fi),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await i.done,d&&(!u||u.fid!==d.fid)&&Zx(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){let e;const t=await Uh(n.appConfig,r=>{const i=fR(r),a=pR(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===Ep?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fR(n){const e=n||{fid:oR(),registrationStatus:0};return n1(e)}function pR(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Mi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mR(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gR(n)}:{installationEntry:e}}async function mR(n,e){try{const t=await rR(n,e);return ih(n.appConfig,t)}catch(t){throw Hx(t)&&t.customData.serverCode===409?await t1(n.appConfig):await ih(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function gR(n){let e=await Uv(n.appConfig);for(;e.registrationStatus===1;)await Yx(100),e=await Uv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await xm(n);return r||t}return e}function Uv(n){return Uh(n,e=>{if(!e)throw Mi.create("installation-not-found");return n1(e)})}function n1(n){return yR(n)?{fid:n.fid,registrationStatus:0}:n}function yR(n){return n.registrationStatus===1&&n.registrationTime+Bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR({appConfig:n,heartbeatServiceProvider:e},t){const r=_R(n,t),i=eR(n,t),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const u={installation:{sdkVersion:zx,appId:n.appId}},d={method:"POST",headers:i,body:JSON.stringify(u)},p=await Xx(()=>fetch(r,d));if(p.ok){const g=await p.json();return Kx(g)}else throw await Gx("Generate Auth Token",p)}function _R(n,{fid:e}){return`${Wx(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(n,e=!1){let t;const r=await Uh(n.appConfig,a=>{if(!r1(a))throw Mi.create("not-registered");const u=a.authToken;if(!e&&ER(u))return a;if(u.requestStatus===1)return t=wR(n,e),a;{if(!navigator.onLine)throw Mi.create("app-offline");const d=IR(a);return t=xR(n,d),d}});return t?await t:r.authToken}async function wR(n,e){let t=await $v(n.appConfig);for(;t.authToken.requestStatus===1;)await Yx(100),t=await $v(n.appConfig);const r=t.authToken;return r.requestStatus===0?Em(n,e):r}function $v(n){return Uh(n,e=>{if(!r1(e))throw Mi.create("not-registered");const t=e.authToken;return SR(t)?{...e,authToken:{requestStatus:0}}:e})}async function xR(n,e){try{const t=await vR(n,e),r={...e,authToken:t};return await ih(n.appConfig,r),t}catch(t){if(Hx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await t1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ih(n.appConfig,r)}throw t}}function r1(n){return n!==void 0&&n.registrationStatus===2}function ER(n){return n.requestStatus===2&&!TR(n)}function TR(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Xk}function IR(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function SR(n){return n.requestStatus===1&&n.requestTime+Bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n){const e=n,{installationEntry:t,registrationPromise:r}=await xm(e);return r?r.catch(console.error):Em(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e=!1){const t=n;return await AR(t),(await Em(t,e)).token}async function AR(n){const{registrationPromise:e}=await xm(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){if(!n||!n.options)throw Vf("App Configuration");if(!n.name)throw Vf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Vf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Vf(n){return Mi.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="installations",RR="installations-internal",NR=n=>{const e=n.getProvider("app").getImmediate(),t=kR(e),r=Zs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},PR=n=>{const e=n.getProvider("app").getImmediate(),t=Zs(e,s1).getImmediate();return{getId:()=>bR(t),getToken:i=>CR(t,i)}};function jR(){Qn(new jn(s1,NR,"PUBLIC")),Qn(new jn(RR,PR,"PRIVATE"))}jR();ln($x,_m);ln($x,_m,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="analytics",LR="firebase_id",DR="origin",OR=60*1e3,VR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new xh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new Bi("analytics","Analytics",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(n){if(!n.startsWith(Tm)){const e=xn.create("invalid-gtag-resource",{gtagURL:n});return Jt.warn(e.message),""}return n}function i1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function UR(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function $R(n,e){const t=UR("firebase-js-sdk-policy",{createScriptURL:FR}),r=document.createElement("script"),i=`${Tm}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function BR(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function zR(n,e,t,r,i,a){const u=r[i];try{if(u)await e[u];else{const p=(await i1(t)).find(g=>g.measurementId===i);p&&await e[p.appId]}}catch(d){Jt.error(d)}n("config",i,a)}async function qR(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const d=await i1(t);for(const p of u){const g=d.find(x=>x.measurementId===p),_=g&&e[g.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){Jt.error(a)}}function HR(n,e,t,r){async function i(a,...u){try{if(a==="event"){const[d,p]=u;await qR(n,e,t,d,p)}else if(a==="config"){const[d,p]=u;await zR(n,e,t,r,d,p)}else if(a==="consent"){const[d,p]=u;n("consent",d,p)}else if(a==="get"){const[d,p,g]=u;n("get",d,p,g)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){Jt.error(d)}}return i}function WR(n,e,t,r,i){let a=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=HR(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function KR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Tm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=30,QR=1e3;class XR{constructor(e={},t=QR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const o1=new XR;function YR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function JR(n){var u;const{appId:e,apiKey:t}=n,r={method:"GET",headers:YR(t)},i=VR.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let d="";try{const p=await a.json();(u=p.error)!=null&&u.message&&(d=p.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:d})}return a.json()}async function ZR(n,e=o1,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw xn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw xn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new nN;return setTimeout(async()=>{d.abort()},OR),a1({appId:r,apiKey:i,measurementId:a},u,d,e)}async function a1(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=o1){var d;const{appId:a,measurementId:u}=n;try{await eN(r,e)}catch(p){if(u)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:a,measurementId:u};throw p}try{const p=await JR(n);return i.deleteThrottleMetadata(a),p}catch(p){const g=p;if(!tN(g)){if(i.deleteThrottleMetadata(a),u)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:a,measurementId:u};throw p}const _=Number((d=g==null?void 0:g.customData)==null?void 0:d.httpStatus)===503?P0(t,i.intervalMillis,GR):P0(t,i.intervalMillis),x={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return i.setThrottleMetadata(a,x),Jt.debug(`Calling attemptFetch again in ${_} millis`),a1(n,x,r,i)}}function eN(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tN(n){if(!(n instanceof Ln)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class nN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rN(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,u={...r,send_to:a};n("event",t,u)}}async function sN(n,e,t,r){if(r&&r.global){const i={};for(const a of Object.keys(t))i[`user_properties.${a}`]=t[a];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(){if(iw())try{await ow()}catch(n){return Jt.warn(xn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Jt.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oN(n,e,t,r,i,a,u){const d=ZR(n);d.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Jt.error(T)),e.push(d);const p=iN().then(T=>{if(T)return r.getId()}),[g,_]=await Promise.all([d,p]);KR(a)||$R(a,g.measurementId),i("js",new Date);const x=(u==null?void 0:u.config)??{};return x[DR]="firebase",x.update=!0,_!=null&&(x[LR]=_),i("config",g.measurementId,x),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},Bv=[];const zv={};let Mf="dataLayer",lN="gtag",qv,Im,Hv=!1;function uN(){const n=[];if(sw()&&n.push("This is a browser extension environment."),cS()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});Jt.warn(t.message)}}function cN(n,e,t){uN();const r=n.options.appId;if(!r)throw xn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(Qo[r]!=null)throw xn.create("already-exists",{id:r});if(!Hv){BR(Mf);const{wrappedGtag:a,gtagCore:u}=WR(Qo,Bv,zv,Mf,lN);Im=a,qv=u,Hv=!0}return Qo[r]=oN(n,Bv,zv,e,qv,Mf,t),new aN(n)}function hN(n=Eh()){n=Ye(n);const e=Zs(n,oh);return e.isInitialized()?e.getImmediate():dN(n)}function dN(n,e={}){const t=Zs(n,oh);if(t.isInitialized()){const i=t.getImmediate();if(qs(e,t.getOptions()))return i;throw xn.create("already-initialized")}return t.initialize({options:e})}function fN(n,e,t){n=Ye(n),sN(Im,Qo[n.app.options.appId],e,t).catch(r=>Jt.error(r))}function pN(n,e,t,r){n=Ye(n),rN(Im,Qo[n.app.options.appId],e,t,r).catch(i=>Jt.error(i))}const Wv="@firebase/analytics",Kv="0.10.19";function mN(){Qn(new jn(oh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cN(r,i,t)},"PUBLIC")),Qn(new jn("analytics-internal",n,"PRIVATE")),ln(Wv,Kv),ln(Wv,Kv,"esm2020");function n(e){try{const t=e.getProvider(oh).getImmediate();return{logEvent:(r,i,a)=>pN(t,r,i,a),setUserProperties:(r,i)=>fN(t,r,i)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}}}mN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebasestorage.googleapis.com",u1="storageBucket",gN=120*1e3,yN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ln{constructor(e,t,r=0){super(Ff(e),`Firebase Storage: ${t} (${Ff(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ff(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Ff(n){return"storage/"+n}function Sm(){const n="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,n)}function vN(n){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function _N(n){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,n)}function xN(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EN(n){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function TN(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IN(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function SN(n){return new ct(ut.INVALID_URL,"Invalid URL '"+n+"'.")}function bN(n){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CN(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u1+"' property when initializing the app?")}function AN(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kN(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RN(n){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tp(n){return new ct(ut.INVALID_ARGUMENT,n)}function c1(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function NN(n){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sl(n,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function dl(n){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(r.path==="")return r;throw bN(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const _="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",k=new RegExp(`^https?://${x}/${_}/b/${i}/o${T}`,"i"),C={bucket:1,path:3},U=t===l1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",K=new RegExp(`^https?://${U}/${i}/${D}`,"i"),W=[{regex:d,indices:p,postModify:a},{regex:k,indices:C,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<W.length;re++){const ye=W[re],me=ye.regex.exec(e);if(me){const P=me[ye.indices.bucket];let S=me[ye.indices.path];S||(S=""),r=new wn(P,S),ye.postModify(r);break}}if(r==null)throw SN(e);return r}}class PN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e,t){let r=1,i=null,a=null,u=!1,d=0;function p(){return d===2}let g=!1;function _(...D){g||(g=!0,e.apply(null,D))}function x(D){i=setTimeout(()=>{i=null,n(k,p())},D)}function T(){a&&clearTimeout(a)}function k(D,...K){if(g){T();return}if(D){T(),_.call(null,D,...K);return}if(p()||u){T(),_.call(null,D,...K);return}r<64&&(r*=2);let W;d===1?(d=2,W=0):W=(r+Math.random())*1e3,x(W)}let C=!1;function U(D){C||(C=!0,T(),!g&&(i!==null?(D||(d=2),clearTimeout(i),x(0)):D||(d=1)))}return x(0),a=setTimeout(()=>{u=!0,U(!0)},t),U}function LN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){return n!==void 0}function ON(n){return typeof n=="object"&&!Array.isArray(n)}function bm(n){return typeof n=="string"||n instanceof String}function Gv(n){return Cm()&&n instanceof Blob}function Cm(){return typeof Blob<"u"}function Qv(n,e,t,r){if(r<e)throw Tp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Tp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function h1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Li;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,r,i,a,u,d,p,g,_,x,T=!0,k=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=x,this.retry=T,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,U)=>{this.resolve_=C,this.reject_=U,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Li.NO_ERROR,p=a.getStatus();if(!d||VN(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Li.ABORT;r(!1,new Sc(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Sc(g,a))})},t=(r,i)=>{const a=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());DN(p)?a(p):a()}catch(p){u(p)}else if(d!==null){const p=Sm();p.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,p)):u(p)}else if(i.canceled){const p=this.appDelete_?c1():IN();u(p)}else{const p=TN();u(p)}};this.canceled_?t(!1,new Sc(!1,null,!0)):this.backoffId_=jN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function FN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function UN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $N(n,e){e&&(n["X-Firebase-GMPID"]=e)}function BN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function zN(n,e,t,r,i,a,u=!0,d=!1){const p=h1(n.urlParams),g=n.url+p,_=Object.assign({},n.headers);return $N(_,e),FN(_,t),UN(_,a),BN(_,r),new MN(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HN(...n){const e=qN();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Cm())return new Blob(n);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){if(typeof atob>"u")throw RN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,t){this.data=e,this.contentType=t||null}}function GN(n,e){switch(n){case vr.RAW:return new Uf(d1(e));case vr.BASE64:case vr.BASE64URL:return new Uf(f1(n,e));case vr.DATA_URL:return new Uf(XN(e),YN(e))}throw Sm()}function d1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QN(n){let e;try{e=decodeURIComponent(n)}catch{throw Sl(vr.DATA_URL,"Malformed data URL.")}return d1(e)}function f1(n,e){switch(n){case vr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Sl(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Sl(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=KN(e)}catch(i){throw i.message.includes("polyfill")?i:Sl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class p1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Sl(vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=JN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XN(n){const e=new p1(n);return e.base64?f1(vr.BASE64,e.rest):QN(e.rest)}function YN(n){return new p1(n).contentType}function JN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){let r=0,i="";Gv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Gv(this.data_)){const r=this.data_,i=WN(r,e,t);return i===null?null:new Ns(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ns(r,!0)}}static getBlob(...e){if(Cm()){const t=e.map(r=>r instanceof Ns?r.data_:r);return new Ns(HN.apply(null,t))}else{const t=e.map(u=>bm(u)?GN(vr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)i[a++]=u[d]}),new Ns(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(n){let e;try{e=JSON.parse(n)}catch{return null}return ON(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function eP(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function g1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n,e){return e}class Yt{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||tP}}let bc=null;function nP(n){return!bm(n)||n.length<2?n:g1(n)}function y1(){if(bc)return bc;const n=[];n.push(new Yt("bucket")),n.push(new Yt("generation")),n.push(new Yt("metageneration")),n.push(new Yt("name","fullPath",!0));function e(a,u){return nP(u)}const t=new Yt("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const i=new Yt("size");return i.xform=r,n.push(i),n.push(new Yt("timeCreated")),n.push(new Yt("updated")),n.push(new Yt("md5Hash",null,!0)),n.push(new Yt("cacheControl",null,!0)),n.push(new Yt("contentDisposition",null,!0)),n.push(new Yt("contentEncoding",null,!0)),n.push(new Yt("contentLanguage",null,!0)),n.push(new Yt("contentType",null,!0)),n.push(new Yt("metadata","customMetadata",!0)),bc=n,bc}function rP(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new wn(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function sP(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return rP(r,n),r}function v1(n,e,t){const r=m1(e);return r===null?null:sP(n,r,t)}function iP(n,e,t,r){const i=m1(e);if(i===null||!bm(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(g=>{const _=n.bucket,x=n.fullPath,T="/b/"+u(_)+"/o/"+u(x),k=$h(T,t,r),C=h1({alt:"media",token:g});return k+C})[0]}function oP(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Am{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){if(!n)throw Sm()}function aP(n,e){function t(r,i){const a=v1(n,i,e);return _1(a!==null),a}return t}function lP(n,e){function t(r,i){const a=v1(n,i,e);return _1(a!==null),iP(a,i,n.host,n._protocol)}return t}function w1(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=xN():i=wN():t.getStatus()===402?i=_N(n.bucket):t.getStatus()===403?i=EN(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function x1(n){const e=w1(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=vN(n.path)),a.serverResponse=i.serverResponse,a}return t}function uP(n,e,t){const r=e.fullServerUrl(),i=$h(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new Am(i,a,lP(n,t),u);return d.errorHandler=x1(e),d}function cP(n,e){const t=e.fullServerUrl(),r=$h(t,n.host,n._protocol),i="DELETE",a=n.maxOperationRetryTime;function u(p,g){}const d=new Am(r,i,u,a);return d.successCodes=[200,204],d.errorHandler=x1(e),d}function hP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function dP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=hP(null,e)),r}function fP(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let W="";for(let re=0;re<2;re++)W=W+Math.random().toString().slice(2);return W}const p=d();u["Content-Type"]="multipart/related; boundary="+p;const g=dP(e,r,i),_=oP(g,t),x="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",k=Ns.getBlob(x,r,T);if(k===null)throw AN();const C={name:g.fullPath},U=$h(a,n.host,n._protocol),D="POST",K=n.maxUploadRetryTime,Q=new Am(U,D,aP(n,t),K);return Q.urlParams=C,Q.headers=u,Q.body=k.uploadData(),Q.errorHandler=w1(e),Q}class pP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw dl("cannot .send() more than once");if(Js(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mP extends pP{initXhr(){this.xhr_.responseType="text"}}function km(){return new mP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ui(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g1(this._location.path)}get storage(){return this._service}get parent(){const e=ZN(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new Ui(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NN(e)}}function gP(n,e,t){n._throwIfRoot("uploadBytes");const r=fP(n.storage,n._location,y1(),new Ns(e,!0),t);return n.storage.makeRequestWithTokens(r,km).then(i=>({metadata:i,ref:n}))}function yP(n){n._throwIfRoot("getDownloadURL");const e=uP(n.storage,n._location,y1());return n.storage.makeRequestWithTokens(e,km).then(t=>{if(t===null)throw kN();return t})}function vP(n){n._throwIfRoot("deleteObject");const e=cP(n.storage,n._location);return n.storage.makeRequestWithTokens(e,km)}function _P(n,e){const t=eP(n._location.path,e),r=new wn(n._location.bucket,t);return new Ui(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n){return/^[A-Za-z]+:\/\//.test(n)}function xP(n,e){return new Ui(n,e)}function E1(n,e){if(n instanceof Rm){const t=n;if(t._bucket==null)throw CN();const r=new Ui(t,t._bucket);return e!=null?E1(r,e):r}else return e!==void 0?_P(n,e):n}function EP(n,e){if(e&&wP(e)){if(n instanceof Rm)return xP(n,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return E1(n,e)}function Xv(n,e){const t=e==null?void 0:e[u1];return t==null?null:wn.makeFromBucketSpec(t,n)}function TP(n,e,t,r={}){n.host=`${e}:${t}`;const i=Js(e);i&&(Lp(`https://${n.host}/b`),Dp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:rw(a,n.app.options.projectId))}class Rm{constructor(e,t,r,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=l1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gN,this._maxUploadRetryTime=yN,this._requests=new Set,i!=null?this._bucket=wn.makeFromBucketSpec(i,this._host):this._bucket=Xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ui(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new PN(c1());{const u=zN(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const Yv="@firebase/storage",Jv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="storage";function Nm(n,e,t){return n=Ye(n),gP(n,e,t)}function Pm(n){return n=Ye(n),yP(n)}function IP(n){return n=Ye(n),vP(n)}function ah(n,e){return n=Ye(n),EP(n,e)}function SP(n=Eh(),e){n=Ye(n);const r=Zs(n,T1).getImmediate({identifier:e}),i=ew("storage");return i&&bP(r,...i),r}function bP(n,e,t,r={}){TP(n,e,t,r)}function CP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Rm(t,r,i,e,zi)}function AP(){Qn(new jn(T1,CP,"PUBLIC").setMultipleInstances(!0)),ln(Yv,Jv,""),ln(Yv,Jv,"esm2020")}AP();function I1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=I1,S1=new Bi("auth","Firebase",I1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new xh("@firebase/auth");function RP(n,...e){lh.logLevel<=De.WARN&&lh.warn(`Auth (${zi}): ${n}`,...e)}function Fc(n,...e){lh.logLevel<=De.ERROR&&lh.error(`Auth (${zi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,...e){throw jm(n,...e)}function Tr(n,...e){return jm(n,...e)}function b1(n,e,t){const r={...kP(),[e]:t};return new Bi("auth","Firebase",r).create(e,{appName:n.name})}function zs(n){return b1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return S1.create(n,...e)}function Te(n,e,...t){if(!n)throw jm(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function Jr(n,e){n||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function NP(){return Zv()==="http:"||Zv()==="https:"}function Zv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NP()||sw()||"connection"in navigator)?navigator.onLine:!0}function jP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile=sS()||aS()}get(){return PP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e){Jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OP=new Jl(3e4,6e4);function Ki(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ni(n,e,t,r,i={}){return A1(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=ql({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...a};return oS()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Js(n.emulatorConfig.host)&&(g.credentials="include"),C1.fetch()(await k1(n,n.config.apiHost,t,d),g)})}async function A1(n,e,t){n._canInitEmulator=!1;const r={...LP,...e};try{const i=new MP(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Cc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Cc(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Cc(n,"user-disabled",u);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw b1(n,_,g);Yn(n,_)}}catch(i){if(i instanceof Ln)throw i;Yn(n,"network-request-failed",{message:String(i)})}}async function Bh(n,e,t,r,i={}){const a=await ni(n,e,t,r,i);return"mfaPendingCredential"in a&&Yn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function k1(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Lm(n.config,i):`${n.config.apiScheme}://${i}`;return DP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function VP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),OP.get())})}}function Cc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Tr(n,e,r);return i.customData._tokenResponse=t,i}function e_(n){return n!==void 0&&n.enterprise!==void 0}class FP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UP(n,e){return ni(n,"GET","/v2/recaptchaConfig",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function uh(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(n,e=!1){const t=Ye(n),r=await t.getIdToken(e),i=Dm(r);Te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:bl($f(i.auth_time)),issuedAtTime:bl($f(i.iat)),expirationTime:bl($f(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $f(n){return Number(n)*1e3}function Dm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=J_(t);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function t_(n){const e=Dm(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ln&&zP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){var x;const e=n.auth,t=await n.getIdToken(),r=await Fl(n,uh(e,{idToken:t}));Te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=(x=i.providerUserInfo)!=null&&x.length?R1(i.providerUserInfo):[],u=WP(n.providerData,a),d=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!(u!=null&&u.length),g=d?p:!1,_={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function HP(n){const e=Ye(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WP(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e){const t=await A1(n,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await k1(n,i,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return n.emulatorConfig&&Js(n.emulatorConfig.host)&&(p.credentials="include"),C1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GP(n,e){return ni(n,"POST","/v2/accounts:revokeToken",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=t_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await KP(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Xo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new qP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BP(this,e)}reload(){return HP(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(zs(this.auth));const e=await this.getIdToken();return await Fl(this,$P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:x,emailVerified:T,isAnonymous:k,providerData:C,stsTokenManager:U}=t;Te(x&&U,e,"internal-error");const D=Xo.fromJSON(this.name,U);Te(typeof x=="string",e,"internal-error"),Rs(r,e.name),Rs(i,e.name),Te(typeof T=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),Rs(a,e.name),Rs(u,e.name),Rs(d,e.name),Rs(p,e.name),Rs(g,e.name),Rs(_,e.name);const K=new Wn({uid:x,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:k,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:D,createdAt:g,lastLoginAt:_});return C&&Array.isArray(C)&&(K.providerData=C.map(Q=>({...Q}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,t,r=!1){const i=new Xo;i.updateFromServerResponse(t);const a=new Wn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Te(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?R1(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Xo;d.updateFromIdToken(r);const p=new Wn({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function Wr(n){Jr(n instanceof Function,"Expected a class definition");let e=n_.get(n);return e?(Jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,n_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N1.type="NONE";const r_=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Yo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Uc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?Wn._fromGetAccountInfoResponse(this.auth,t,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yo(Wr(r_),e,r);const i=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||Wr(r_);const u=Uc(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(u);if(_){let x;if(typeof _=="string"){const T=await uh(e,{idToken:_}).catch(()=>{});if(!T)break;x=await Wn._fromGetAccountInfoResponse(e,T,_)}else x=Wn._fromJSON(e,_);g!==a&&(d=x),a=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Yo(a,e,r):(a=p[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Yo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V1(e))return"Blackberry";if(M1(e))return"Webos";if(j1(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(O1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(n=Wt()){return/firefox\//i.test(n)}function j1(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(n=Wt()){return/crios\//i.test(n)}function D1(n=Wt()){return/iemobile/i.test(n)}function O1(n=Wt()){return/android/i.test(n)}function V1(n=Wt()){return/blackberry/i.test(n)}function M1(n=Wt()){return/webos/i.test(n)}function Om(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QP(n=Wt()){var e;return Om(n)&&!!((e=window.navigator)!=null&&e.standalone)}function XP(){return lS()&&document.documentMode===10}function F1(n=Wt()){return Om(n)||O1(n)||M1(n)||V1(n)||/windows phone/i.test(n)||D1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,e=[]){let t;switch(n){case"Browser":t=s_(Wt());break;case"Worker":t=`${s_(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const p=e(a);u(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e={}){return ni(n,"GET","/v2/passwordPolicy",Ki(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=6;class e4{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ZP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i_(this),this.idTokenSubscription=new i_(this),this.beforeStateQueue=new YP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(r=p.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(zs(this));const t=e?Ye(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JP(this),t=new e4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&RP(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fa(n){return Ye(n)}class i_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n4(n){zh=n}function $1(n){return zh.loadJS(n)}function r4(){return zh.recaptchaEnterpriseScript}function s4(){return zh.gapiScript}function i4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class o4{constructor(){this.enterprise=new a4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const l4="recaptcha-enterprise",B1="NO_RECAPTCHA";class u4{constructor(e){this.type=l4,this.auth=fa(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{UP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new FP(p);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function i(a,u,d){const p=window.grecaptcha;e_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(B1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o4().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&e_(window.grecaptcha))i(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=r4();p.length!==0&&(p+=d),$1(p).then(()=>{i(d,a,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function o_(n,e,t,r=!1,i=!1){const a=new u4(n);let u;if(i)u=B1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function a_(n,e,t,r,i){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await o_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await o_(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e){const t=Zs(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(qs(a,e??{}))return i;Yn(i,"already-initialized")}return t.initialize({options:e})}function h4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d4(n,e,t){const r=fa(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=z1(e),{host:u,port:d}=f4(e),p=d===null?"":`:${d}`,g={url:`${a}//${u}${p}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(qs(g,r.config.emulator)&&qs(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Js(u)?(Lp(`${a}//${u}${p}`),Dp("Auth",!0)):p4()}function z1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f4(n){const e=z1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:l_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:l_(u)}}}function l_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function p4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function m4(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(n,e){return Bh(n,"POST","/v1/accounts:signInWithPassword",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}async function v4(n,e){return Bh(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Vm{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ul(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,t,"signInWithPassword",g4);case"emailLink":return y4(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,r,"signUpPassword",m4);case"emailLink":return v4(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return Bh(n,"POST","/v1/accounts:signInWithIdp",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="http://localhost";class $i extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new $i(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:_4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x4(n){const e=fl(pl(n)).link,t=e?fl(pl(e)).deep_link_id:null,r=fl(pl(n)).deep_link_id;return(r?fl(pl(r)).link:null)||r||t||e||n}class Mm{constructor(e){const t=fl(pl(e)),r=t.apiKey??null,i=t.oobCode??null,a=w4(t.mode??null);Te(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=x4(e);try{return new Mm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Mm.parseLink(t);return Te(r,"argument-error"),Ul._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Zl{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $i._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return js.credential(t,r)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Zl{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Zl{constructor(){super("twitter.com")}static credential(e,t){return $i._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ds.credential(t,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Wn._fromIdTokenResponse(e,r,i),u=u_(r);return new ia({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=u_(r);return new ia({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function u_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Ln{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hh(e,t,r,i)}}function H1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(n,a,e,r):a})}async function E4(n,e,t=!1){const r=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ia._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n,e,t=!1){const{auth:r}=n;if(Rn(r.app))return Promise.reject(zs(r));const i="reauthenticate";try{const a=await Fl(n,H1(r,i,e,n),t);Te(a.idToken,r,"internal-error");const u=Dm(a.idToken);Te(u,r,"internal-error");const{sub:d}=u;return Te(n.uid===d,r,"user-mismatch"),ia._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(n,e,t=!1){if(Rn(n.app))return Promise.reject(zs(n));const r="signIn",i=await H1(n,r,e),a=await ia._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function I4(n,e){return W1(fa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(n){const e=fa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b4(n,e,t){return Rn(n.app)?Promise.reject(zs(n)):I4(Ye(n),pa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S4(n),r})}function C4(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function A4(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function k4(n,e,t,r){return Ye(n).onAuthStateChanged(e,t,r)}function R4(n){return Ye(n).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,P4=10;class G1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);XP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P4):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const j4=G1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q1.type="SESSION";const X1=Q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(u).map(async g=>g(t.origin,a)),p=await L4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((d,p)=>{const g=Fm("",20);i.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(x){const T=x;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function O4(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function V4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function F4(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",U4=1,fh="firebaseLocalStorage",Z1="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function $4(){const n=indexedDB.deleteDatabase(J1);return new eu(n).toPromise()}function bp(){const n=indexedDB.open(J1,U4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fh,{keyPath:Z1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await $4(),e(await bp()))})})}async function c_(n,e,t){const r=Hh(n,!0).put({[Z1]:e,value:t});return new eu(r).toPromise()}async function B4(n,e){const t=Hh(n,!1).get(e),r=await new eu(t).toPromise();return r===void 0?null:r.value}function h_(n,e){const t=Hh(n,!0).delete(e);return new eu(t).toPromise()}const z4=800,q4=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>q4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(F4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await V4(),!this.activeServiceWorker)return;this.sender=new D4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await c_(e,dh,"1"),await h_(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>B4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Hh(i,!1).getAll();return new eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const H4=eE;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e){return e?Wr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K4(n){return W1(n.auth,new Um(n),n.bypassAuthState)}function G4(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),T4(t,new Um(n),n.bypassAuthState)}async function Q4(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),E4(t,new Um(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:Yn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Jl(2e3,1e4);class qo extends tE{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Jr(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X4.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",$c=new Map;class J4 extends tE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await Z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z4(n,e){const t=nj(e),r=tj(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function ej(n,e){$c.set(n._key(),e)}function tj(n){return Wr(n._redirectPersistence)}function nj(n){return Uc(Y4,n.config.apiKey,n.name)}async function rj(n,e,t=!1){if(Rn(n.app))return Promise.reject(zs(n));const r=fa(n),i=W4(r,e),u=await new J4(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=600*1e3;class ij{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!nE(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Tr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sj&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uj=/^https?/;async function cj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await aj(n);for(const t of e)try{if(hj(t))return}catch{}Yn(n,"unauthorized-domain")}function hj(n){const e=Ip(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!uj.test(t))return!1;if(lj.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Jl(3e4,6e4);function f_(){const n=Ir().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fj(n){return new Promise((e,t)=>{var i,a,u;function r(){f_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f_(),t(Tr(n,"network-request-failed"))},timeout:dj.get()})}if((a=(i=Ir().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=Ir().gapi)!=null&&u.load)r();else{const d=i4("iframefcb");return Ir()[d]=()=>{gapi.load?r():t(Tr(n,"network-request-failed"))},$1(`${s4()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function pj(n){return Bc=Bc||fj(n),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Jl(5e3,15e3),gj="__/auth/iframe",yj="emulator/auth/iframe",vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_j=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wj(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lm(e,yj):`https://${n.config.authDomain}/${gj}`,r={apiKey:e.apiKey,appName:n.name,v:zi},i=_j.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ql(r).slice(1)}`}async function xj(n){const e=await pj(n),t=Ir().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:wj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vj,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},mj.get());function p(){Ir().clearTimeout(d),i(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tj=500,Ij=600,Sj="_blank",bj="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cj(n,e,t,r=Tj,i=Ij){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...Ej,width:r.toString(),height:i.toString(),top:a,left:u},g=Wt().toLowerCase();t&&(d=L1(g)?Sj:t),P1(g)&&(e=e||bj,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[k,C])=>`${T}${k}=${C},`,"");if(QP(g)&&d!=="_self")return Aj(e||"",d),new p_(null);const x=window.open(e||"",d,_);Te(x,n,"popup-blocked");try{x.focus()}catch{}return new p_(x)}function Aj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="__/auth/handler",Rj="emulator/auth/handler",Nj=encodeURIComponent("fac");async function m_(n,e,t,r,i,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:zi,eventId:i};if(e instanceof q1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",pS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,x]of Object.entries({}))u[_]=x}if(e instanceof Zl){const _=e.getScopes().filter(x=>x!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${Nj}=${encodeURIComponent(p)}`:"";return`${Pj(n)}?${ql(d).slice(1)}${g}`}function Pj({config:n}){return n.emulator?Lm(n,Rj):`https://${n.authDomain}/${kj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="webStorageSupport";class jj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X1,this._completeRedirectFn=rj,this._overrideRedirectResult=ej}async _openPopup(e,t,r,i){var u;Jr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await m_(e,t,r,Ip(),i);return Cj(e,a,Fm())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await m_(e,t,r,Ip(),i);return O4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Jr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xj(e),r=new ij(e);return t.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bf,{type:Bf},i=>{var u;const a=(u=i==null?void 0:i[0])==null?void 0:u[Bf];a!==void 0&&t(!!a),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F1()||j1()||Om()}}const Lj=jj;var g_="@firebase/auth",y_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vj(n){Qn(new jn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U1(n)},g=new t4(r,i,a,p);return h4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new jn("auth-internal",e=>{const t=fa(e.getProvider("auth").getImmediate());return(r=>new Dj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(g_,y_,Oj(n)),ln(g_,y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=300,Fj=nw("authIdTokenMaxAge")||Mj;let v_=null;const Uj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Fj)return;const i=t==null?void 0:t.token;v_!==i&&(v_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $j(n=Eh()){const e=Zs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c4(n,{popupRedirectResolver:Lj,persistence:[H4,j4,X1]}),r=nw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Uj(a.toString());A4(t,u,()=>u(t.currentUser)),C4(t,d=>u(d))}}const i=Z_("auth");return i&&d4(t,`http://${i}`),t}function Bj(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}n4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Tr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",Bj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vj("Browser");const zj={apiKey:"AIzaSyBWoMq00y7kIR6QsXO_Z_lwSC6DS2O4K5I",authDomain:"costic2026.firebaseapp.com",projectId:"costic2026",storageBucket:"costic2026.firebasestorage.app",messagingSenderId:"1024891143489",appId:"1:1024891143489:web:6bd4f6014f16c5e3088dc0",measurementId:"G-SE28R81YF2"},Wh=cw(zj);hN(Wh);const kt=Rk(Wh),ph=SP(Wh),$m=$j(Wh),qj=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[i,a]=M.useState(!1),{t:u}=_h(),d=async p=>{if(p.preventDefault(),!!n){a(!0),r("");try{await Vs(_n(kt,"newsletter_subscriptions"),{email:n,subscribedAt:Pn(),source:"Website"}),r(u("Newsletter")),e(""),setTimeout(()=>r(""),5e3)}catch(g){console.error("Erreur lors de l'inscription  la newsletter:",g),r(u("footer_newsletter_error")),setTimeout(()=>r(""),3e3)}finally{a(!1)}}};return f.jsx("footer",{className:"bg-primary text-neutral-200 font-body",children:f.jsxs("div",{className:"container mx-auto px-6 py-12",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[f.jsxs("div",{className:"mb-6 md:mb-0",children:[f.jsx("h3",{className:"text-xl font-black mb-2 relative",style:{letterSpacing:"1px"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"relative text-white",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg)",textShadow:"0 0 0px transparent"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/60 transform translate-x-1 translate-y-1",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(1px) translateY(1px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/40 transform translate-x-2 translate-y-2",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(2px) translateY(2px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/20 transform translate-x-3 translate-y-3",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"1px",transform:"perspective(300px) rotateX(3deg) translateX(3px) translateY(3px)"},children:"CoSTIC 2026"})]})}),f.jsx("p",{className:"text-sm text-neutral-300",children:u("ESATIC")})]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("h3",{className:"text-xl font-bold mb-2 text-white font-sans",children:u("footer_contact")}),f.jsx("p",{className:"text-neutral-300",children:u("footer_secretariat")}),f.jsx("a",{href:"mailto:costic2026@esatic.edu.ci",className:"text-secondary hover:text-white transition-colors duration-300 block",children:"costic2026@esatic.edu.ci"}),f.jsx("a",{href:"http://costic2026.esatic.ci",target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:text-white transition-colors duration-300",children:"http://costic2026.esatic.ci"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-2 text-white font-sans",children:u("footer_stay_informed")}),f.jsx("p",{className:"text-sm text-neutral-300 mb-4",children:u("footer_newsletter_desc")}),f.jsxs("form",{onSubmit:d,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"email",value:n,onChange:p=>e(p.target.value),placeholder:u("footer_email_placeholder")||"Votre adresse e-mail",className:"bg-secondary/20 border-2 border-secondary/50 rounded-l-lg px-4 py-3 w-full text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent transition",required:!0}),f.jsx("button",{type:"submit",disabled:i,className:"bg-secondary text-white px-4 py-3 rounded-r-lg hover:bg-secondary/90 transition-colors duration-300 border-2 border-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:i?f.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]}),t&&f.jsx("p",{className:"text-green-400 text-sm mt-2",children:t})]})]})]}),f.jsx("div",{className:"mt-10 border-t border-white/20 pt-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[f.jsx("div",{className:"text-sm text-neutral-300 mb-4 md:mb-0",children:" 2026 CoSTIC - Colloque Scientifique sur les Technologies de l'Information et de la Communication"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("a",{href:"mailto:costic2026@esatic.edu.ci",className:"text-neutral-300 hover:text-white transition-colors duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),f.jsx("a",{href:"http://costic2026.esatic.ci",target:"_blank",rel:"noopener noreferrer",className:"text-neutral-300 hover:text-white transition-colors duration-300",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})})]})})},Hn=({title:n,children:e,className:t=""})=>{const[r,i]=M.useState(!1),a=M.useRef(null);return M.useEffect(()=>{const u=new IntersectionObserver(([d])=>{d.isIntersecting&&(i(!0),u.unobserve(d.target))},{threshold:.1});return a.current&&u.observe(a.current),()=>{a.current&&u.unobserve(a.current)}},[]),f.jsx("section",{ref:a,className:`py-16 md:py-20 ${t}`,children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsx("div",{className:`transition-all duration-700 ease-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:f.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-primary mb-12 font-sans",children:n})}),e]})})},Hj=({events:n})=>f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("ul",{className:"divide-y divide-neutral-200 rounded-xl overflow-hidden border border-neutral-200 bg-white",children:n.map(e=>{const t=e.date.split(" "),r=t[0]||e.date,i=t[1]||"";return f.jsxs("li",{className:"flex items-start gap-4 p-3 md:p-4",children:[f.jsx("div",{className:"shrink-0 w-28 md:w-32",children:f.jsxs("div",{className:"rounded-lg border border-costic-blue/20 bg-pure-white px-3 py-2 text-center shadow-sm",children:[f.jsx("div",{className:"text-xs font-semibold text-costic-blue uppercase tracking-wide",children:i}),f.jsx("div",{className:"text-lg md:text-xl font-extrabold text-costic-blue leading-tight",children:r})]})}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"text-sm md:text-base font-semibold text-neutral-800 font-sans truncate",children:e.description}),e.isHighlighted&&f.jsx("span",{className:"text-[10px] md:text-xs px-2 py-0.5 rounded-full bg-accent text-white font-semibold whitespace-nowrap",children:"vnement principal"})]})})]},e.date)})})}),__=[{nom:"Prof. Coulibaly Adama",affiliation:"Universit Flix Houphout-Boigny",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/cool.jpg",titre:"Prsident - Mathmaticien"},{nom:"Prof. Asseu Olivier",affiliation:"MESRS / ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/olivier.jpg",titre:"Vice-Prsident"},{nom:"Prof. Oumtanaga Souleymane",affiliation:"INP-HB",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/oumtanaga.jpg",titre:"Professeur"},{nom:"Dr(MC) Soro tienne",affiliation:"ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/etienne.jpg",titre:"Docteur"},{nom:"Dr(MC) Moustapha Diaby",affiliation:"ESATIC / Universit de Lille",pays:"Cte d'Ivoire / France",drapeau:"",photo:"/img/diaby.jpg",titre:"Rapporteur Gnral"},{nom:"Dr(MC) Kamagat Beman",affiliation:"ESATIC",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/beman.jpg",titre:"Docteur"},{nom:"Dr(MC) Mamadou Diarra",affiliation:"UFHB",pays:"Cte d'Ivoire",drapeau:"",photo:"/img/Dr_Diarra_Mamadou.jpg",titre:"Docteur"},{nom:"Dr(MC) Sere Aboulaye",affiliation:"Universit Nazi Boni",pays:"Burkina Faso",drapeau:"",photo:"/img/sere.jpg",titre:"Docteur"},{nom:"Prof. Babacar",affiliation:"Universit Cheikh Anta Diop (UCAD)",pays:"Sngal",drapeau:"",photo:"/img/abacarr.jpg",titre:"Professeur"},{nom:"Prof. Leila Nasraoui",affiliation:"Universit de Tunis El Manar",pays:"Tunisie",drapeau:"",photo:"/img/Leila Nasraoui.jpg",titre:"Professeur"},{nom:"Prof. Yvon Kermarec",affiliation:"Institut Mines-Tlcom (IMT)",pays:"France",drapeau:"",photo:"/img/Prof. Yvon Kermarec.jpg",titre:"Professeur"}],Wj=()=>{const n=M.useRef(null),e=M.useRef(null),t=[...__,...__];return M.useEffect(()=>{const r=n.current,i=e.current;if(!r||!i)return;const a=()=>{let d=0;i.childNodes.forEach(x=>{x instanceof HTMLElement&&(d+=x.offsetWidth+32)});const p=-d,_=Math.max(10,Math.round(Math.abs(p)*.015));i.style.setProperty("--scroll-end",`${p}px`),i.style.setProperty("--scroll-duration",`${_}s`)};a();const u=new ResizeObserver(()=>a());return u.observe(r),()=>u.disconnect()},[]),f.jsx("div",{className:"relative max-w-7xl mx-auto overflow-hidden",ref:n,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-8 whitespace-nowrap",ref:e,children:t.map((r,i)=>f.jsxs("div",{className:"flex-shrink-0 w-80 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 p-6 text-center",children:[f.jsxs("div",{className:"relative mb-4",children:[f.jsx("img",{src:r.photo,alt:r.nom,className:"w-24 h-24 rounded-full mx-auto object-cover border-4 border-primary/20"}),f.jsx("div",{className:"absolute -bottom-2 -right-2 text-2xl",children:r.drapeau})]}),f.jsx("h3",{className:"text-lg font-bold text-primary mb-1 font-sans",children:r.nom}),f.jsx("p",{className:"text-sm text-secondary font-semibold mb-2",children:r.titre}),f.jsx("p",{className:"text-sm text-neutral-600 mb-1",children:r.affiliation}),f.jsxs("p",{className:"text-xs text-neutral-500 flex items-center justify-center gap-1",children:[f.jsx("span",{children:r.drapeau}),f.jsx("span",{children:r.pays})]})]},`${r.nom}-${i}`))})})},w_=[{nom:"MTND",description:"MTND",logo:"/img/ministere-transition-numerique.png",type:"Institutionnel",site:"https://www.transition-numerique.gouv.ci"},{nom:"MESR",description:"MESR",logo:"/img/mesr.jpg",type:"Institutionnel",site:"https://www.enseignement.gouv.ci"},{nom:"SNDI",description:"SNDI",logo:"/img/sndi.png",type:"Dveloppement",site:"https://www.sndi.ci"},{nom:"ARTCI",description:"ARTCI",logo:"/img/artci.png",type:"Rgulation",site:"https://www.artci.ci"},{nom:"ANSUT",description:"ANSUT",logo:"/img/ansut.png",type:"Institutionnel",site:"https://ansut.ci"},{nom:"AIGF",description:"AIGF",logo:"/img/aigf.png",type:"Institutionnel",site:"https://www.aigf.ci"},{nom:"VITIB",description:"VITIB",logo:"/img/vitib.jpg",type:"Technologie",site:"https://www.vitib.ci"},{nom:"Fondation Jeunesse Numrique",description:"Fondation Jeunesse Numrique",logo:"/img/fondation-jeunesse-numerique.png",type:"Dveloppement",site:"https://www.fondation-jeunesse-numerique.ci"},{nom:"AUF",description:"AUF",logo:"/img/AUF - Agence Universitaire de la Francophonie.png",type:"International",site:"https://www.auf.org"},{nom:"ONUDI",description:"ONUDI",logo:"/img/onudi.png",type:"International",site:"https://www.unido.org"},{nom:"Smart Africa",description:"Smart Africa Alliance",logo:"/img/smart.png",type:"International",site:"https://smartafrica.org"},{nom:"UNITEL",description:"UNITEL",logo:"/img/unitel.png",type:"Tlcoms",site:"https://www.unitel.ci"},{nom:"Huawei",description:"Technologies et Solutions TIC",logo:"/img/huawei.png",type:"Technologie",site:"https://www.huawei.com"},{nom:"Sah Analytics",description:"Technologies et Solutions TIC",logo:"/img/sah.jpg",type:"Technologie",site:"https://sahanalytics.com/"},{nom:"UIT",description:"Union internationale des tlcommunications",logo:"/img/itu.png",type:"Technologie",site:"https://www.itu.int"}],Kj=()=>{const n=M.useRef(null),e=M.useRef(null),t=[...w_,...w_];M.useEffect(()=>{const i=n.current,a=e.current;if(!i||!a)return;const u=()=>{i.clientWidth;let p=0;a.childNodes.forEach(T=>{T instanceof HTMLElement&&(p+=T.offsetWidth+32)});const g=-p,x=Math.max(8,Math.round(Math.abs(g)*.01));a.style.setProperty("--scroll-end",`${g}px`),a.style.setProperty("--scroll-duration",`${x}s`)};u();const d=new ResizeObserver(()=>u());return d.observe(i),()=>d.disconnect()},[]);const r=i=>{switch(i){case"Institutionnel":return"bg-primary/10 text-primary border-primary/20";case"Tlcoms":return"bg-secondary/10 text-secondary border-secondary/20";case"Rgulation":return"bg-blue-100 text-blue-700 border-blue-200";case"Technologie":return"bg-purple-100 text-purple-700 border-purple-200";case"nergie":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Conseil":return"bg-indigo-100 text-indigo-700 border-indigo-200";case"Formation":return"bg-green-100 text-green-700 border-green-200";case"IA":return"bg-pink-100 text-pink-700 border-pink-200";case"Recherche":return"bg-cyan-100 text-cyan-700 border-cyan-200";case"Dveloppement":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"International":return"bg-purple-100 text-purple-700 border-purple-200";case"Finance":return"bg-green-100 text-green-700 border-green-200";case"Mdia":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-neutral-100 text-neutral-700 border-neutral-200"}};return f.jsx("div",{className:"relative max-w-7xl mx-auto overflow-hidden",ref:n,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-8 whitespace-nowrap",ref:e,children:t.map((i,a)=>f.jsxs("div",{className:"flex-shrink-0 w-80 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 p-6 text-center",children:[f.jsx("div",{className:"relative mb-4",children:f.jsx("div",{className:"w-20 h-20 mx-auto bg-white rounded-lg border-2 border-neutral-200 flex items-center justify-center p-2",children:f.jsx("img",{src:i.logo,alt:i.nom,className:"max-w-full max-h-full object-contain",onError:u=>{const d=u.target;d.style.display="none",d.parentElement.innerHTML=`
                      <div class="w-full h-full bg-neutral-100 rounded-lg flex items-center justify-center">
                        <svg class="w-8 h-8 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                      </div>
                    `}})})}),f.jsx("h3",{className:"text-lg font-bold text-primary mb-2 font-sans leading-tight",children:i.nom}),f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold border ${r(i.type)} mb-2`,children:i.type}),f.jsx("p",{className:"text-sm text-neutral-600",children:i.description}),i.site&&f.jsx("a",{href:i.site,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 text-xs text-primary hover:text-primary/80 transition-colors duration-300",children:"Visiter le site "})]},`${i.nom}-${a}`))})})},zf=[{title:"Partenariats Renforcs",desc:"Renforcement des collaborations acadmiques et industrielles pour favoriser l'innovation et le transfert de technologies entre les universits et le secteur priv.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),bgImage:"/img/Partenariats Renforcs.jpg"},{title:"Rseau d'Experts",desc:"Cration d'un rseau dynamique de chercheurs et praticiens en TIC, facilitant les changes d'expertise et les collaborations futures  travers l'Afrique.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),bgImage:"/img/Rseau d'Experts.jpg"},{title:"Recommandations Stratgiques",desc:"Propositions concrtes et actionnables pour les dcideurs publics et privs, bases sur les meilleures pratiques et innovations prsentes lors du colloque.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),bgImage:"/img/Recommandations Stratgiques.jpg"}],Gj=()=>{const[n,e]=M.useState(0),t=3,r=Math.ceil(zf.length/t),i=()=>{e(d=>d===0?r-1:d-1)},a=()=>{e(d=>d===r-1?0:d+1)},u=zf.slice(n*t,(n+1)*t);return f.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[f.jsx("button",{onClick:i,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-primary hover:text-white","aria-label":"Prcdent",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:a,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-primary hover:text-white","aria-label":"Suivant",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 px-12",children:u.map((d,p)=>f.jsxs("div",{className:"relative h-80 lg:h-96 rounded-3xl overflow-hidden shadow-2xl group transform hover:scale-105 hover:rotate-2 transition-all duration-500",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url(${d.bgImage})`}}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/70 via-secondary/60 to-accent/70 group-hover:from-primary/80 group-hover:via-secondary/70 group-hover:to-accent/80 transition-all duration-300"}),f.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center items-center text-center p-6",children:[f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:"w-16 h-16 mx-auto bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mb-4 group-hover:bg-white/30 group-hover:-rotate-12 transition-all duration-300",children:f.jsx("div",{className:"text-white",children:d.icon})})}),f.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-3 font-sans group-hover:scale-105 transition-transform duration-300",children:d.title}),f.jsx("p",{className:"text-sm md:text-base text-white/95 leading-relaxed group-hover:text-white transition-colors duration-300",children:d.desc}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1200"}),f.jsx("div",{className:"absolute inset-0 border-2 border-transparent group-hover:border-white/40 rounded-3xl transition-all duration-500"})]})]},d.title))}),f.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:r},(d,p)=>f.jsx("button",{onClick:()=>e(p),className:`w-3 h-3 rounded-full transition-all duration-300 ${p===n?"bg-primary scale-125":"bg-neutral-300 hover:bg-primary/50"}`,"aria-label":`Page ${p+1}`},p))}),f.jsxs("div",{className:"text-center mt-4 text-sm text-neutral-500",children:["Page ",n+1," sur ",r,"  ",zf.length," rsultats attendus"]})]})},Qj=()=>{const n=[{name:"LinkedIn",href:"https://linkedin.com/company/esatic",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),bgColor:"bg-[#0077B5]",hoverColor:"hover:bg-[#005885]",textColor:"text-white"},{name:"Facebook",href:"https://facebook.com/esatic",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),bgColor:"bg-[#1877F2]",hoverColor:"hover:bg-[#166FE5]",textColor:"text-white"},{name:"Twitter",href:"https://twitter.com/esatic",icon:f.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),bgColor:"bg-[#1DA1F2]",hoverColor:"hover:bg-[#1A91DA]",textColor:"text-white"}];return f.jsx("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-40 hidden lg:block",children:f.jsx("div",{className:"flex flex-col space-y-4",children:n.map((e,t)=>f.jsxs("div",{className:"group relative",children:[f.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:`w-16 h-16 ${e.bgColor} rounded-full shadow-2xl flex items-center justify-center ${e.textColor} transition-all duration-300 transform hover:scale-110 ${e.hoverColor}`,title:`Suivez-nous sur ${e.name}`,"aria-label":`Lien vers notre page ${e.name}`,children:f.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:e.icon})}),f.jsx("div",{className:"absolute -left-4 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-x-2 group-hover:translate-x-0",children:f.jsxs("div",{className:"bg-black/80 text-white px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap backdrop-blur-sm",children:[e.name,f.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-1 -translate-y-1/2 w-2 h-2 bg-black/80 rotate-45"})]})})]},e.name))})})},Xj=()=>{const[n,e]=M.useState({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",logo:null}),[t,r]=M.useState(!1),[i,a]=M.useState(""),{t:u,ready:d}=_h();if(!d)return f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const p=k=>{const{name:C,value:U}=k.target;e(D=>({...D,[C]:U}))},g=k=>{k.target.files&&k.target.files[0]&&e(C=>({...C,logo:k.target.files[0]}))},_=async k=>{k.preventDefault(),a(""),r(!0);try{let C="";if(n.logo){const D=ah(ph,`partenaires/${Date.now()}_${n.logo.name}`);await Nm(D,n.logo),C=await Pm(D)}await Vs(_n(kt,"partenaires"),{...n,logoUrl:C,statut:"en_attente",dateSoumission:Pn()}),a(u("partner_success")),e({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",logo:null});const U=document.getElementById("logo");U&&(U.value="")}catch(C){console.error("Erreur lors de la soumission:",C),a(u("partner_error"))}finally{r(!1)}},x="w-full px-4 py-3 bg-white border border-neutral-300 rounded-lg shadow-sm transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent font-body",T="block text-neutral-700 font-semibold mb-2 font-sans";return f.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-white rounded-xl shadow-2xl",children:[f.jsx("h2",{className:"text-3xl font-bold text-primary mb-6 text-center font-sans",children:u("partner_section_title")}),f.jsx("p",{className:"text-center text-neutral-600 mb-8",children:u("partner_intro")}),f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nom",className:T,children:u("partner_org_name")}),f.jsx("input",{type:"text",id:"nom",name:"nom",value:n.nom,onChange:p,className:x,required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pays",className:T,children:u("partner_country")}),f.jsx("input",{type:"text",id:"pays",name:"pays",value:n.pays,onChange:p,className:x,required:!0,disabled:t})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:T,children:u("partner_contact_email")}),f.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:p,className:x,required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"telephone",className:T,children:u("partner_phone")}),f.jsx("input",{type:"tel",id:"telephone",name:"telephone",value:n.telephone,onChange:p,className:x,disabled:t})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"siteWeb",className:T,children:u("partner_website")}),f.jsx("input",{type:"url",id:"siteWeb",name:"siteWeb",value:n.siteWeb,onChange:p,className:x,placeholder:u("partner_website_placeholder")||"https://www.exemple.com",disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"typePartenaire",className:T,children:u("partner_type")}),f.jsxs("select",{id:"typePartenaire",name:"typePartenaire",value:n.typePartenaire,onChange:p,className:x,required:!0,disabled:t,children:[f.jsx("option",{value:"institutionnel",children:u("partner_type_institution")}),f.jsx("option",{value:"entreprise",children:u("partner_type_company")}),f.jsx("option",{value:"organisation",children:u("partner_type_org")}),f.jsx("option",{value:"gouvernemental",children:u("partner_type_gov")}),f.jsx("option",{value:"media",children:u("partner_type_media")}),f.jsx("option",{value:"autre",children:u("partner_type_other")})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:T,children:u("partner_org_desc")}),f.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:p,className:x,rows:4,placeholder:u("partner_org_desc_placeholder")||"Dcrivez votre organisation, ses activits et son intrt pour le partenariat...",required:!0,disabled:t})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"logo",className:T,children:u("partner_logo_label")}),f.jsx("input",{type:"file",id:"logo",name:"logo",onChange:g,accept:"image/*",className:"w-full text-sm text-neutral-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-secondary/10 file:text-primary hover:file:bg-secondary/20 cursor-pointer font-body",disabled:t}),f.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:u("partner_logo_hint")})]}),f.jsx("button",{type:"submit",disabled:t,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-lg hover:bg-primary/90 transition-all duration-300 text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed flex justify-center items-center",children:t?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u("partner_submitting")]}):u("partner_submit")}),i&&f.jsx("p",{className:`text-center text-sm ${i.startsWith("Erreur")||i.startsWith("Error")?"text-red-600":"text-green-600"}`,children:i})]})]})},Yj=()=>{const[n,e]=M.useState(0),[t,r]=M.useState(!0),[i,a]=M.useState(!0),[u,d]=M.useState(!1);return M.useEffect(()=>{const p=async()=>{try{console.log("Dbut du tracking des visiteurs...");const x=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,T=localStorage.getItem("costic2026_session");if(console.log("Session existante:",T),!T){console.log("Nouvelle session dtecte, enregistrement...");const D=await Vs(_n(kt,"visitors"),{timestamp:Pn(),userAgent:navigator.userAgent,sessionId:x,pageUrl:window.location.href,referrer:document.referrer||"direct",date:new Date().toISOString()});console.log("Visiteur enregistr avec ID:",D.id),localStorage.setItem("costic2026_session",x)}console.log("Rcupration du nombre de visiteurs...");const k=Oc(_n(kt,"visitors"),Vc("timestamp","desc")),C=await Il(k),U=new Set;C.forEach(D=>{const K=D.data();K.sessionId&&U.add(K.sessionId)}),console.log("Nombre de visiteurs uniques:",U.size),console.log("Total de documents:",C.size),e(U.size),r(!1)}catch(x){console.error("Erreur lors du comptage des visiteurs:",x);const T=localStorage.getItem("costic2026_local_count");T?e(parseInt(T)):(e(1),localStorage.setItem("costic2026_local_count","1")),r(!1)}},g=setTimeout(p,1e3),_=setInterval(p,3e4);return()=>{clearTimeout(g),clearInterval(_)}},[]),i?f.jsxs("div",{className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50",children:[f.jsx("button",{onClick:()=>d(!u),className:"bg-white/80 backdrop-blur-sm border border-primary/30 rounded-full shadow-lg p-2 hover:bg-white/90 transition-all duration-200 flex items-center justify-center w-12 h-12",title:"Compteur de visiteurs",children:t?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}):f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-xs font-bold text-primary leading-none",children:n.toLocaleString()}),f.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full animate-pulse mx-auto mt-0.5"})]})}),f.jsx("button",{onClick:()=>a(!1),className:"absolute -top-1 -right-1 bg-primary/80 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs hover:bg-primary transition-colors",title:"Masquer le compteur",children:""}),u&&f.jsx("div",{className:"absolute left-16 top-0 bg-white/90 backdrop-blur-sm border border-primary/30 rounded-lg shadow-lg p-3 min-w-[120px]",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center mb-1",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-primary mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.jsx("span",{className:"text-xs font-semibold text-primary",children:"Visiteurs"})]}),f.jsx("div",{className:"text-lg font-bold text-primary mb-1",children:n.toLocaleString()}),f.jsx("div",{className:"text-xs text-neutral-600 mb-1",children:"en temps rel"}),f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),f.jsx("span",{className:"text-xs text-neutral-500 ml-1",children:"Live"})]})]})})]}):f.jsx("button",{onClick:()=>a(!0),className:"fixed left-4 top-1/2 transform -translate-y-1/2 z-50 bg-primary/80 text-white p-2 rounded-full shadow-lg hover:bg-primary transition-all duration-300",title:"Afficher le compteur de visiteurs",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},Cp=[{name:"ESATIC",logo:"/img/esatic.png",siteWeb:"https://esatic.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-primary",hoverColor:"hover:bg-partner-primary-hover"},{name:"INPHB",logo:"/img/in.png",siteWeb:"https://inphb.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-blue",hoverColor:"hover:bg-partner-blue-hover"},{name:"UFHB",logo:"/img/ufhb.jpg",siteWeb:"https://ufhb.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-green",hoverColor:"hover:bg-partner-green-hover"},{name:"UVCI",logo:"/img/uvci.png",siteWeb:"https://uvci.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-purple",hoverColor:"hover:bg-partner-purple-hover"},{name:"UAO",logo:"/img/uao.jpg",siteWeb:"https://uao.edu.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-teal",hoverColor:"hover:bg-partner-teal-hover"},{name:"UPGC",logo:"/img/upgc.png",siteWeb:"https://upgc.edu.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-emerald",hoverColor:"hover:bg-partner-emerald-hover"},{name:"USP",logo:"/img/usp.jpg",siteWeb:"https://usp.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-orange",hoverColor:"hover:bg-partner-orange-hover"},{name:"UNA",logo:"/img/una.png",siteWeb:"https://una.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-indigo",hoverColor:"hover:bg-partner-indigo-hover"},{name:"IRMA",logo:"/img/irma.jpg",siteWeb:"https://irma.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-emerald",hoverColor:"hover:bg-partner-emerald-hover"},{name:"CRO",logo:"/img/cro.png",siteWeb:"https://cro.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-teal",hoverColor:"hover:bg-partner-teal-hover"},{name:"IPCI",logo:"/img/institut paseur.jpg",siteWeb:"https://pasteur.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-rose",hoverColor:"hover:bg-partner-rose-hover"},{name:"UFR MATHS",logo:"/img/maths.jpg",siteWeb:"https://ufr-math-info.ci",pays:"Cte d'Ivoire",bgColor:"bg-partner-violet",hoverColor:"hover:bg-partner-violet-hover"},{name:"SMCI",logo:"/img/SMCI_logo_new.png",siteWeb:"https://example.com/smci",pays:"Cte d'Ivoire",bgColor:"bg-partner-indigo",hoverColor:"hover:bg-partner-indigo-hover"},{name:"UJKZ",logo:"/img/uJKZ.jpg",siteWeb:"https://www.univ-ouaga.bf",pays:"Burkina Faso",bgColor:"bg-partner-blue",hoverColor:"hover:bg-partner-blue-hover"},{name:"UGB",logo:"/img/UGBS.jpg",siteWeb:"https://www.ugb.sn",pays:"Sngal",bgColor:"bg-partner-green",hoverColor:"hover:bg-partner-green-hover"},{name:"Universit de Conakry",logo:"/img/UDC.jpg",siteWeb:"https://www.univ-conakry.org",pays:"Guine",bgColor:"bg-partner-red",hoverColor:"hover:bg-partner-red-hover"},{name:"Universit Nazi Boni",logo:"/img/UNB.png",siteWeb:"https://www.unb.bf",pays:"Burkina Faso",bgColor:"bg-partner-purple",hoverColor:"hover:bg-partner-purple-hover"},{name:"Universit 2iE",logo:"/img/2iE.png",siteWeb:"https://www.2ie-edu.org",pays:"Burkina Faso",bgColor:"bg-partner-orange",hoverColor:"hover:bg-partner-orange-hover"},{name:"Universit de Lom",logo:"/img/UDL.png",siteWeb:"https://www.univ-lome.tg",pays:"Togo",bgColor:"bg-partner-indigo",hoverColor:"hover:bg-partner-indigo-hover"},{name:"UCAD",logo:"/img/UCAD.png",siteWeb:"https://www.ucad.sn",pays:"Sngal",bgColor:"bg-partner-emerald",hoverColor:"hover:bg-partner-emerald-hover"},{name:"Tubman University",logo:"/img/tu.jpg",siteWeb:"https://www.tubmanu.edu.lr/",pays:"Libria",bgColor:"bg-partner-emerald",hoverColor:"hover:bg-partner-emerald-hover"}],mh="https://pay.genius.ci",rE="gp_Nyoe0Q7oBEnkU2j2JnqFXa0j9f3dKpgh",Jj="Gtav3pQa1hYGDGV9Gef3WX0jlvEanvQa",Zj=async n=>{var e,t,r,i;try{const u=mh,d=Math.round(n.amount*100);console.log(` Conversion du montant: ${n.amount} FCFA = ${d} centimes`);const p={amount:d,customer_email:n.customer_email,customer_name:n.customer_name||null,gateway:"wave",currency:n.currency||"XOF",metadata:n.metadata||{},webhook_url:n.webhook_url||`${window.location.origin}/api/webhook/geniuspay`},g=`${u}/api/payment-links`;console.log(" Tentative de connexion :",g),console.log(" Donnes du paiement:",p);const _=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-API-Key":rE},body:JSON.stringify(p)});if(!_.ok){let T=`Erreur HTTP ${_.status}: ${_.statusText}`;try{const k=await _.json();T=k.message||k.error||T}catch{}throw new Error(T)}const x=await _.json();if(!x.success)throw new Error(x.message||x.error||"Erreur lors de la cration du lien de paiement");return{success:!0,data:{payment_url:(e=x.data)==null?void 0:e.payment_url,payment_id:((t=x.data)==null?void 0:t.payment_id)||((r=x.data)==null?void 0:r.reference),reference:(i=x.data)==null?void 0:i.reference},message:x.message}}catch(a){return console.error("Erreur GeniusPay:",a),a.name==="TypeError"&&a.message.includes("fetch")?{success:!1,error:`Impossible de se connecter  l'API GeniusPay. Vrifiez que l'URL est correcte: ${mh}`,message:"Erreur de connexion rseau. Vrifiez votre connexion Internet et que l'URL de l'API est correcte."}:{success:!1,error:a.message||"Erreur lors de l'initiation du paiement",message:a.message||"Erreur lors de l'initiation du paiement"}}},x_=async n=>{try{const r=`${mh}/payment/verify/${n}`;console.log("Vrification du paiement:",n),console.log("URL:",r);const i=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json","X-API-Key":rE,Authorization:`Bearer ${Jj}`}});if(!i.ok){let u=`Erreur HTTP ${i.status}: ${i.statusText}`;try{const d=await i.json();u=d.message||d.error||u}catch{}throw new Error(u)}const a=await i.json();if(!a.success)throw new Error(a.message||a.error||"Erreur lors de la vrification du paiement");return a}catch(e){return console.error("Erreur vrification paiement:",e),e.name==="TypeError"&&e.message.includes("fetch")?{success:!1,error:`Impossible de se connecter  l'API GeniusPay. Vrifiez que l'URL est correcte: ${mh}`,message:"Erreur de connexion rseau. Vrifiez votre connexion Internet et que l'URL de l'API est correcte."}:{success:!1,error:e.message||"Erreur lors de la vrification du paiement",message:e.message||"Erreur lors de la vrification du paiement"}}},eL=n=>{const[e,t]=M.useState(null),r=M.useRef(null),i=M.useRef(null);return M.useEffect(()=>(r.current=new IntersectionObserver(([a])=>{a.isIntersecting&&(t(a),i.current&&r.current.unobserve(i.current))},n),i.current&&r.current.observe(i.current),()=>{r.current&&i.current&&r.current.unobserve(i.current)}),[n]),[i,e]},Lt=({children:n,animationClass:e,delay:t=0})=>{const[r,i]=eL({threshold:.1}),a=!!i;return f.jsx("div",{ref:r,className:`${a?e:"opacity-0"}`,style:{transition:`opacity 0.7s ease-out ${t}ms, transform 0.7s ease-out ${t}ms`},children:n})},tL=()=>{const[n,e]=M.useState({jours:0,heures:0,minutes:0,secondes:0}),[t,r]=M.useState(!1);if(M.useEffect(()=>{const a=()=>{const d=new Date("2026-05-21T00:00:00Z").getTime(),p=new Date().getTime(),g=d-p;g>0?(e({jours:Math.floor(g/864e5),heures:Math.floor(g/36e5%24),minutes:Math.floor(g/1e3/60%60),secondes:Math.floor(g/1e3%60)}),r(!1)):r(!0)};a();const u=setInterval(a,1e3);return()=>clearInterval(u)},[]),t)return f.jsx("span",{className:"text-white bg-accent px-6 py-3 rounded-lg text-xl font-semibold shadow-lg font-sans",children:"L'vnement a commenc !"});const i=({value:a,label:u})=>f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-6xl lg:text-7xl font-bold tracking-tighter font-sans",children:String(a).padStart(2,"0")}),f.jsx("span",{className:"text-sm uppercase opacity-75 tracking-widest font-sans",children:u})]});return f.jsxs("div",{className:"text-white flex items-center justify-center space-x-6 md:space-x-10",children:[f.jsx(i,{value:n.jours,label:"Jours"}),f.jsx(i,{value:n.heures,label:"Heures"}),f.jsx(i,{value:n.minutes,label:"Minutes"}),f.jsx(i,{value:n.secondes,label:"Secondes"})]})},nL=[{title:"Intelligence Artificielle et ODD"},{title:"Rseaux, Tlcommunications et Infrastructures durables"},{title:"Cyberscurit et Rsilience numrique"},{title:"Transformation digitale et Innovation responsable"},{title:"Mathmatiques appliques et Recherche oprationnelle pour le dveloppement durable"},{title:"ducation numrique et Inclusion"},{title:"Technologies mergentes et Durabilit"},{title:"Coopration scientifique et Innovation pour les ODD"},{title:"Mathmatiques, Modlisation et Analyse numrique pour les systmes durables"},{title:"Statistique, Science des donnes et conomie applique"},{title:"Culture, Patrimoine et Socit numrique"},{title:"TIC, Biologie et Sciences du vivant"},{title:"Prix Jeune Chercheur"},{title:"Autre"}],rL=()=>{const n={authorName:"",authorEmail:"",affiliation:"",articleTitle:"",themeSelect:""},[e,t]=M.useState(n),[r,i]=M.useState(null),[a,u]=M.useState(""),[d,p]=M.useState(!1),g={name:"",email:"",participantType:"chercheur"},[_,x]=M.useState(g),[T,k]=M.useState(""),[C,U]=M.useState(!1),[D,K]=M.useState(null),Q=se=>{const{id:we,value:G}=se.target;t(ae=>({...ae,[we]:G}))},W=se=>{const{id:we,value:G}=se.target;x(ae=>({...ae,[we]:G}))},re=se=>{se.target.files&&i(se.target.files[0])},ye=async se=>{if(se.preventDefault(),u(""),!e.authorName||!e.authorEmail||!e.articleTitle||!r){u("Erreur : Veuillez remplir tous les champs obligatoires et slectionner un fichier.");return}p(!0);try{const we=ah(ph,`submissions/${Date.now()}_${r.name}`);await Nm(we,r);const G=await Pm(we);await Vs(_n(kt,"submissions"),{...e,fileUrl:G,fileName:r.name,submittedAt:Pn()}),u("Succs : Votre article a t soumis avec succs !"),t(n),i(null);const ae=document.getElementById("fileUpload");ae&&(ae.value="")}catch(we){console.error("Error submitting article: ",we),u("Erreur : Impossible de soumettre l'article. Veuillez ressayer.")}finally{p(!1)}},me={chercheur:{amount:100,currency:"XOF"},etudiant:{amount:100,currency:"XOF"}},P=async se=>{var we;if(se.preventDefault(),!_.name||!_.email){k("Erreur : Veuillez renseigner votre nom et votre e-mail.");return}k(""),U(!0);try{const G=await Vs(_n(kt,"registrations"),{..._,paymentStatus:"pending",registeredAt:Pn(),amount:me[_.participantType].amount,currency:"XOF"});K(G.id);const ae=`costic_${Date.now()}_${_.email}`,te={amount:me[_.participantType].amount,currency:"XOF",customer_email:_.email,customer_name:_.name,reference:ae,callback_url:`${window.location.origin}/payment-callback?registration_doc_id=${G.id}`,metadata:{name:_.name,participantType:_.participantType,registrationDocId:G.id}},ue=await Zj(te);if(ue.success&&((we=ue.data)!=null&&we.payment_url))window.location.href=ue.data.payment_url;else throw new Error(ue.message||ue.error||"Erreur lors de l'initiation du paiement")}catch(G){console.error("Error saving registration: ",G),k(G.message||"Erreur : Impossible d'enregistrer l'inscription. Veuillez ressayer."),U(!1)}},S="w-full px-4 py-3 bg-white border border-neutral-300 rounded-lg shadow-sm transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-secondary focus:border-transparent font-body",A="block text-neutral-700 font-semibold mb-2 font-sans",j=M.useRef(null),L=M.useRef(null);M.useEffect(()=>{const se=j.current,we=L.current;if(!se||!we)return;const G=()=>{let te=0;we.childNodes.forEach(X=>{X instanceof HTMLElement&&(te+=X.offsetWidth+48)});const ue=-te,F=Math.max(10,Math.round(Math.abs(ue)*.015));we.style.setProperty("--scroll-end",`${ue}px`),we.style.setProperty("--scroll-duration",`${F}s`)};G();const ae=new ResizeObserver(()=>G());return ae.observe(se),()=>ae.disconnect()},[]);const{t:b}=_h(),R=M.useMemo(()=>[{date:b("tl_1_date"),description:b("tl_1_desc"),icon:"",status:"upcoming"},{date:b("tl_2_date"),description:b("tl_2_desc"),icon:"",status:"upcoming"},{date:b("tl_3_date"),description:b("tl_3_desc"),icon:"",status:"upcoming"},{date:b("tl_4_date"),description:b("tl_4_desc"),icon:"",status:"upcoming"},{date:b("tl_5_date"),description:b("tl_5_desc"),icon:"",isHighlighted:!0,status:"upcoming"}],[b]);return f.jsxs("div",{className:"bg-neutral-100 font-body",children:[f.jsx(W2,{}),f.jsx(Qj,{}),f.jsx(Yj,{}),f.jsxs("main",{children:[f.jsxs("section",{id:"accueil",className:"relative text-white pt-32 pb-24 text-center overflow-hidden flex flex-col items-center justify-center min-h-screen",children:[f.jsx("div",{className:"absolute inset-0 hero-bg"}),f.jsx("div",{className:"absolute inset-0 bg-primary/40"}),f.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40",style:{backgroundImage:"url('/img/arr.png')"}}),f.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[f.jsx("div",{className:"mb-8 animate-fade-in-up overflow-hidden",style:{animationDelay:"0.1s"},children:f.jsx("div",{className:"mx-auto w-[1200px] overflow-hidden",ref:j,children:f.jsx("div",{className:"flex animate-scroll-distance space-x-12 whitespace-nowrap",style:{"--scroll-end":"-100%","--scroll-duration":"20s"},ref:L,children:[...Cp,...Cp].map((se,we)=>f.jsxs("div",{className:"flex-shrink-0 group",children:[f.jsx("div",{className:"w-20 h-20 bg-pure-white rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 border border-gray-100",children:f.jsx("img",{src:se.logo,alt:`Logo ${se.name}`,className:"max-w-16 max-h-16 object-contain transition-all duration-300 group-hover:scale-110",onError:G=>{const ae=G.target;ae.style.display="none";const te=ae.parentElement;te&&(te.innerHTML=`
                    <div class="w-full h-full flex items-center justify-center">
                      <div class="text-gray-600 font-bold text-sm text-center leading-tight">
                        ${se.name.split(" ").map(ue=>ue.charAt(0)).join("")}
                      </div>
                    </div>
                  `)}})}),f.jsxs("div",{className:"mt-2 text-center",children:[f.jsx("span",{className:"text-xs text-white/90 font-medium leading-tight block max-w-20",children:se.name}),f.jsx("span",{className:"text-xs text-white/70 block mt-1",children:se.pays})]})]},`${se.name}-${we}`))})})}),f.jsx("h1",{className:"text-6xl md:text-8xl font-black leading-tight mb-4 animate-fade-in-up relative",style:{animationDelay:"0.7s"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"relative text-white",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg)",textShadow:"0 0 0px transparent"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/60 transform translate-x-2 translate-y-2",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(2px) translateY(2px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/40 transform translate-x-4 translate-y-4",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(4px) translateY(4px)"},children:"CoSTIC 2026"}),f.jsx("div",{className:"absolute inset-0 text-white/20 transform translate-x-6 translate-y-6",style:{fontFamily:"Arial Black, sans-serif",letterSpacing:"2px",transform:"perspective(500px) rotateX(5deg) translateX(6px) translateY(6px)"},children:"CoSTIC 2026"})]})}),f.jsxs("div",{className:"flex flex-col items-center space-y-4 text-neutral-100 mb-8 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsxs("div",{className:"flex justify-center items-center space-x-6 text-neutral-100",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("span",{className:"text-xl font-semibold",children:b("date_value")})]}),f.jsxs("span",{className:"flex items-center",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),f.jsx("span",{className:"text-xl font-semibold",children:b("place_value")})]})]}),f.jsx("div",{className:"text-center max-w-4xl",children:f.jsxs("p",{className:"text-2xl md:text-3xl text-white font-bold",children:[" ",b("theme_value")," "]})})]}),f.jsx("div",{className:"mb-12 animate-fade-in-up",style:{animationDelay:"1.0s"},children:f.jsxs("div",{className:"relative inline-block",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 via-blue-600 to-blue-500 rounded-full blur-xl opacity-40"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/30 via-blue-500/30 to-blue-400/30 rounded-full blur-lg opacity-60"}),f.jsx("div",{className:"relative",children:f.jsxs("p",{className:"text-2xl md:text-3xl font-bold tracking-wider",children:[f.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-white to-blue-500 bg-clip-text text-transparent",children:"Organis par L"}),f.jsxs("span",{className:"text-white font-extrabold relative",children:["ASTIC",f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-500 opacity-20 blur-sm"})]})]})}),f.jsx("div",{className:"absolute -bottom-4 left-1/2 transform -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent rounded-full"})]})}),f.jsx("div",{className:"mb-12 animate-fade-in-up",style:{animationDelay:"0.7s"},children:f.jsx(tL,{})}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsx("a",{href:"#soumission",className:"bg-accent text-white font-bold py-4 px-10 rounded-full hover:bg-accent/90 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:b("hero_submit")}),f.jsx("a",{href:"#inscription",className:"bg-white text-primary font-bold py-4 px-10 rounded-full hover:bg-neutral-200 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:b("hero_register")}),f.jsx("a",{href:"#partenariat",className:"bg-secondary text-white font-bold py-4 px-10 rounded-full hover:bg-secondary/90 transition-all duration-300 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-sans w-full sm:w-auto",children:b("hero_partner")})]})]})]}),f.jsx(Hn,{title:b("context_title"),children:f.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center",children:[f.jsxs(Lt,{animationClass:"animate-slide-in-left",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:b("context_heading")}),f.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed mb-6",children:b("context_paragraph")}),f.jsx("blockquote",{className:"border-l-4 border-secondary pl-6 italic bg-neutral-100 p-4 rounded-r-lg",children:f.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed",children:b("context_quote")})})]}),f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsx("div",{className:"hidden md:flex justify-center items-center",children:f.jsxs("div",{className:"relative w-full max-w-sm h-80",children:[f.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-secondary rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),f.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob",style:{animationDelay:"2s"}}),f.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-primary rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob",style:{animationDelay:"4s"}}),f.jsx("div",{className:"relative flex justify-center items-center h-full",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-48 h-48 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9V3m0 18a9 9 0 009-9m-9 9a9 9 0 00-9-9m18 9a9 9 0 01-18 0m18 0A9 9 0 003 12m18 0V3"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z",fill:"#0D47A1",stroke:"none"}),f.jsx("circle",{cx:"3.5",cy:"12",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"20.5",cy:"12",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"12",cy:"3.5",r:"1.5",fill:"#1976D2"}),f.jsx("circle",{cx:"12",cy:"20.5",r:"1.5",fill:"#1976D2"})]})})]})})})]})}),f.jsx(Hn,{title:b("timeline_title"),className:"bg-neutral-50",children:f.jsx(Hj,{events:R})}),f.jsx(Hn,{title:b("place_title"),className:"bg-neutral-50",children:f.jsxs("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[f.jsx(Lt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"text-left",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsx("div",{className:"bg-secondary/10 text-primary rounded-full p-3 mr-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-primary font-sans",children:b("date_label")}),f.jsx("p",{className:"text-lg text-neutral-600",children:b("date_value")})]})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"bg-secondary/10 text-primary rounded-full p-3 mr-4",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-primary font-sans",children:b("place_label")}),f.jsx("p",{className:"text-lg text-neutral-600",children:b("place_value")})]})]})]})}),f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsx("div",{className:"rounded-xl overflow-hidden shadow-xl h-72 border-4 border-white group",children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3972.19532889966!2d-3.999518685686034!3d5.388839936551699!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xfc1934399f36f47%3A0x774e9892f39234b3!2sESATIC!5e0!3m2!1sfr!2sci!4v1655823521345!5m2!1sfr!2sci",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Carte de l'ESATIC",className:"transition-transform duration-500 group-hover:scale-105"})})})]})}),f.jsx(Hn,{title:b("goals_title"),children:f.jsxs("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-12 items-start",children:[f.jsx(Lt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-primary text-white p-8 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 -rotate-1",children:[f.jsx("h3",{className:"text-3xl font-bold mb-4 font-sans",children:b("general_objective_title")}),f.jsx("p",{className:"text-neutral-200 text-lg leading-relaxed",children:b("general_objective_text")})]})}),f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-3xl font-bold mb-6 text-primary font-sans",children:b("specific_objectives_title")}),f.jsx("ul",{className:"space-y-4",children:[b("so_1"),b("so_2"),b("so_3"),b("so_4")].map((se,we)=>f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150+we*100,children:f.jsxs("li",{className:"flex items-start",children:[f.jsx("svg",{className:"w-7 h-7 text-accent mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 text-lg",children:se})]})},se))})]})})]})}),f.jsx("div",{id:"soumission",children:f.jsx(Hn,{title:b("cfp_title"),className:"bg-neutral-50",children:f.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12 items-start",children:[f.jsx(Lt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-neutral-100 p-8 rounded-xl border border-neutral-200 h-full",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:b("theme_general_title")}),f.jsx("p",{className:"text-xl text-neutral-600 italic mb-8",children:b("theme_general_text")}),f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:b("submission_modalities_title")}),f.jsx("ul",{className:"space-y-4 mb-8",children:[{title:b("modality_format_title"),desc:b("modality_format_desc"),icon:f.jsx("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{title:b("modality_lang_title"),desc:b("modality_lang_desc"),icon:f.jsx("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m4-2v2M3 17h16M21 17v-2a2 2 0 00-2-2H5a2 2 0 00-2 2v2m18 0v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2m18 0H3"})})},{title:b("modality_pub_title"),desc:b("modality_pub_desc"),icon:f.jsxs("svg",{className:"w-6 h-6 text-secondary mr-4 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),f.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-9.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222 4 2.222V20"})]})}].map(se=>f.jsxs("li",{className:"flex items-start",children:[se.icon,f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-neutral-800 dark:text-neutral-100 font-sans",children:se.title}),f.jsx("p",{className:"text-neutral-600 dark:text-neutral-200",children:se.desc})]})]},se.title))}),f.jsxs("div",{className:"mt-8 p-4 bg-white rounded-lg border border-neutral-200",children:[f.jsx("h4",{className:"font-bold text-neutral-800 font-sans mb-3",children:b("models_title")}),f.jsx("p",{className:"text-neutral-600 text-sm mb-4",children:b("models_desc")}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("a",{href:"/templates/exemple_CoSTIC2026.doc",target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await Vs(_n(kt,"templateDownloads"),{format:"docx",path:"/templates/exemple_CoSTIC2026.doc",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",downloadedAt:Pn()})}catch(se){console.error("Erreur de tracking modle DOCX",se)}},className:"inline-flex items-center gap-2 bg-primary text-white font-semibold py-2 px-4 rounded-lg hover:bg-primary/90 transition-colors text-sm",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M19 2H8a2 2 0 0 0-2 2v3h2V4h11v16H8v-3H6v3a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"}),f.jsx("path",{d:"M13 12H4.83l2.58-2.59L6 8l-5 5 5 5 1.41-1.41L4.83 14H13v-2Z"})]}),b("model_word")]}),f.jsxs("a",{href:"/templates/CoSTIC_2026_latex_template.zip",target:"_blank",rel:"noopener noreferrer",onClick:async()=>{try{await Vs(_n(kt,"templateDownloads"),{format:"latex",path:"/templates/CoSTIC_2026_latex_template.zip",userAgent:typeof navigator<"u"?navigator.userAgent:"unknown",downloadedAt:Pn()})}catch(se){console.error("Erreur de tracking modle LaTeX",se)}},className:"inline-flex items-center gap-2 bg-secondary text-white font-semibold py-2 px-4 rounded-lg hover:bg-secondary/90 transition-colors text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v12h2V4h8V2Zm4 4h-8a2 2 0 0 0-2 2v12h10a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Zm0 12H8V8h10v10Z"})}),b("model_latex")]}),f.jsxs("a",{href:"/templates/track_version_beta.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-accent text-white font-semibold py-2 px-4 rounded-lg hover:bg-accent/90 transition-colors text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),b("track_download")]})]})]})]})}),f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-2xl",children:[f.jsx("h3",{className:"text-3xl font-bold text-primary mb-6 font-sans",children:b("submission_form_title")}),f.jsx("form",{onSubmit:ye,children:f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"authorName",className:A,children:b("label_author_name")}),f.jsx("input",{type:"text",id:"authorName",value:e.authorName,onChange:Q,className:S,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"authorEmail",className:A,children:b("label_author_email")}),f.jsx("input",{type:"email",id:"authorEmail",value:e.authorEmail,onChange:Q,className:S,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"affiliation",className:A,children:b("label_affiliation")}),f.jsx("input",{type:"text",id:"affiliation",value:e.affiliation,onChange:Q,className:S,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"articleTitle",className:A,children:b("label_article_title")}),f.jsx("input",{type:"text",id:"articleTitle",value:e.articleTitle,onChange:Q,className:S,required:!0,disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"themeSelect",className:A,children:b("label_theme_select")}),f.jsxs("select",{id:"themeSelect",value:e.themeSelect,onChange:Q,className:S,disabled:d,children:[f.jsx("option",{value:"",children:b("theme_placeholder")}),nL.map(se=>f.jsx("option",{value:se.title,children:se.title},se.title))]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fileUpload",className:A,children:b("label_file_upload")}),f.jsx("input",{type:"file",id:"fileUpload",onChange:re,accept:".pdf",className:"w-full text-sm text-neutral-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-secondary/10 file:text-primary hover:file:bg-secondary/20 cursor-pointer font-body",required:!0,disabled:d})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full bg-primary text-white font-bold py-4 px-8 rounded-lg hover:bg-primary/90 transition-all duration-300 text-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed flex justify-center items-center",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b("submitting_text")]}):b("submit_article_btn")}),a&&f.jsx("p",{className:`mt-4 text-center text-sm ${a.startsWith("Erreur")||a.startsWith("Error")?"text-red-600":"text-green-600"}`,children:a})]})})]})})]})})}),f.jsx("div",{id:"inscription",children:f.jsx(Hn,{title:b("registration_title"),children:f.jsx(Lt,{animationClass:"animate-slide-in-bottom",children:f.jsxs("div",{className:"max-w-5xl mx-auto p-8 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700",children:[f.jsx("p",{className:"text-center text-lg text-neutral-600 mb-10 max-w-2xl mx-auto",children:b("registration_intro")}),f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("form",{onSubmit:P,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:A,children:b("label_name")}),f.jsx("input",{type:"text",id:"name",value:_.name,onChange:W,className:S,required:!0,disabled:C})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:A,children:b("label_email")}),f.jsx("input",{type:"email",id:"email",value:_.email,onChange:W,className:S,required:!0,disabled:C})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"participantType",className:A,children:b("label_participant_type")}),f.jsxs("select",{id:"participantType",value:_.participantType,onChange:W,className:S,disabled:C,children:[f.jsx("option",{value:"chercheur",children:b("option_researcher")}),f.jsx("option",{value:"etudiant",children:b("option_student")})]})]})]}),f.jsxs("div",{className:"bg-neutral-100 p-8 rounded-xl border border-neutral-200",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-6 border-b border-neutral-200 pb-4 font-sans",children:b("summary_title")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-lg",children:[f.jsx("span",{className:"text-neutral-600",children:b("summary_category")}),f.jsx("span",{className:"font-bold text-primary font-sans",children:_.participantType==="etudiant"?"tudiant":"Chercheur"})]}),f.jsxs("div",{className:"flex justify-between items-center text-3xl pt-4",children:[f.jsx("span",{className:"text-neutral-600 font-sans",children:b("summary_total")}),f.jsx("div",{className:"text-right",children:f.jsx("span",{className:"font-extrabold text-primary font-sans",children:"100 FCFA (TEST)"})})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("button",{onClick:P,disabled:C,className:"w-full bg-accent text-white font-bold py-4 px-10 rounded-lg hover:bg-accent/90 transition-all duration-300 text-lg inline-flex items-center justify-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 font-sans disabled:bg-neutral-400 disabled:cursor-not-allowed",children:C?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),b("registering_text")]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),b("pay_btn")]})}),T&&f.jsx("p",{className:`mt-4 text-center text-sm ${T.startsWith("Erreur")||T.startsWith("Error")?"text-red-600":"text-green-600"}`,children:T}),f.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:b("payment_note")})]})]})]})]})})})}),f.jsx("div",{id:"comite-scientifique",children:f.jsxs(Hn,{title:b("participants_title"),className:"bg-neutral-50",children:[f.jsx(Lt,{animationClass:"animate-slide-in-bottom",children:f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:b("committee_title")}),f.jsx("p",{className:"text-lg text-neutral-600 max-w-3xl mx-auto",children:b("committee_paragraph")})]})}),f.jsx(Wj,{}),f.jsx(Lt,{animationClass:"animate-slide-in-bottom",delay:100,children:f.jsxs("div",{className:"mt-16",children:[f.jsx("div",{className:"text-center mb-8",children:f.jsx("h4",{className:"text-xl font-bold text-primary mb-4 font-sans",children:b("committee_thematic_title")})}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-primary",children:[f.jsx("h5",{className:"font-bold text-primary mb-3 text-sm",children:b("thematic_math")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_math_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-secondary",children:[f.jsx("h5",{className:"font-bold text-secondary mb-3 text-sm",children:b("thematic_ai")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_ai_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-accent",children:[f.jsx("h5",{className:"font-bold text-accent mb-3 text-sm",children:b("thematic_networks")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_networks_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:[f.jsx("h5",{className:"font-bold text-red-500 mb-3 text-sm",children:b("thematic_cyber")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_cyber_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[f.jsx("h5",{className:"font-bold text-green-500 mb-3 text-sm",children:b("thematic_governance")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_governance_responsibles")})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:[f.jsx("h5",{className:"font-bold text-purple-500 mb-3 text-sm",children:b("thematic_coordination")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("thematic_coordination_responsibles")})]})]})]})}),f.jsx(Lt,{animationClass:"animate-slide-in-bottom",delay:200,children:f.jsxs("div",{className:"mt-16",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h3",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:b("partnerships_title")}),f.jsx("p",{className:"text-lg text-neutral-600 max-w-3xl mx-auto",children:b("partnerships_paragraph")})]}),f.jsx(Kj,{}),f.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:b("partner_card_1_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("partner_card_1_desc")})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:b("partner_card_2_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("partner_card_2_desc")})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("h5",{className:"font-bold text-neutral-800 mb-2 font-sans",children:b("partner_card_3_title")}),f.jsx("p",{className:"text-sm text-neutral-600",children:b("partner_card_3_desc")})]})]})]})})]})}),f.jsx(Hn,{title:b("publications_title"),children:f.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-8",children:[f.jsx(Lt,{animationClass:"animate-slide-in-left",children:f.jsxs("div",{className:"bg-primary text-white p-10 rounded-xl flex flex-col items-center text-center shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[f.jsx("div",{className:"mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),f.jsx("h3",{className:"text-3xl font-bold mb-4 font-sans",children:b("proceedings_title")}),f.jsx("p",{className:"text-neutral-200 text-lg mb-6 max-w-md",children:b("proceedings_text")}),f.jsx("a",{href:"#",className:"bg-neutral-600 text-white font-bold py-3 px-8 rounded-lg text-lg cursor-not-allowed opacity-75 font-sans",children:b("proceedings_soon")})]})}),f.jsx(Lt,{animationClass:"animate-slide-in-right",delay:150,children:f.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-10 rounded-xl shadow-lg border border-neutral-100 dark:border-neutral-700 flex flex-col items-center text-center hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:[f.jsx("div",{className:"mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-2.236 9.168-5.514C18.358 1.84 18.668 1.5 19 1.5v1.5a1.5 1.5 0 01-1.5 1.5H16v2.083a6.001 6.001 0 00-6 6H6.436z"})})}),f.jsx("h3",{className:"text-3xl font-bold text-primary mb-4 font-sans",children:b("journal_title")}),f.jsx("p",{className:"text-neutral-700 text-lg max-w-md",children:b("journal_text")})]})})]})}),f.jsx(Hn,{title:b("outcomes_title"),className:"bg-neutral-50",children:f.jsx(Gj,{})}),f.jsx("div",{id:"partenariat",children:f.jsx(Hn,{className:"bg-white",children:f.jsx(Xj,{})})}),f.jsx("div",{id:"a-propos",children:f.jsxs(Hn,{title:b("section_about_title"),className:"bg-neutral-50",children:[f.jsx(Lt,{animationClass:"animate-slide-in-bottom",children:f.jsx("p",{className:"text-center text-lg text-neutral-600 mb-12 max-w-3xl mx-auto",children:b("about_paragraph")})}),f.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8",children:[{title:"Notre Mission",description:"Valoriser les travaux des chercheurs, stimuler l'innovation et favoriser les changes entre le monde acadmique et le secteur priv pour rpondre aux dfis du continent.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),borderColor:"border-secondary"},{title:"Notre Vision",description:"Devenir le carrefour de rfrence pour la recherche en TIC en Afrique, o les ides novatrices se transforment en solutions concrtes pour un dveloppement durable.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M12 5l7 7-7 7"})}),borderColor:"border-primary"},{title:"Nos Valeurs",description:"Nous promouvons l'Excellence scientifique, le Partage des connaissances, l'Innovation technologique et la Collaboration intersectorielle.",icon:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),borderColor:"border-secondary"}].map((se,we)=>f.jsx(Lt,{animationClass:"animate-slide-in-bottom",delay:we*150,children:f.jsxs("div",{className:`bg-white h-full p-8 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 ${se.borderColor} text-center`,children:[f.jsx("div",{className:"inline-block bg-secondary/10 text-primary p-4 rounded-full mb-4",children:se.icon}),f.jsx("h3",{className:"text-2xl font-bold text-primary mb-3 font-sans",children:se.title}),f.jsx("p",{className:"text-neutral-600 leading-relaxed",children:se.description})]})},se.title))})]})})]}),f.jsx(qj,{})]})},sL=({onLoginSuccess:n})=>{const[e,t]=M.useState(""),[r,i]=M.useState(""),[a,u]=M.useState(""),[d,p]=M.useState(!1),g=async _=>{_.preventDefault(),p(!0),u("");try{await b4($m,e,r),n()}catch(x){console.error("Erreur de connexion:",x),u("Email ou mot de passe incorrect")}finally{p(!1)}};return f.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full p-8 space-y-8 bg-white rounded-xl shadow-lg transform transition-all duration-300 hover:shadow-2xl",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"mt-2 text-center text-4xl font-extrabold text-primary font-sans tracking-tight",children:"Accs Administrateur"}),f.jsx("p",{className:"mt-4 text-center text-base text-neutral-500",children:"Grez le CoSTIC 2026 en toute simplicit."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[f.jsxs("div",{className:"space-y-4",children:[" ",f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"sr-only",children:"Adresse email"}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full px-4 py-3 border border-neutral-300 placeholder-neutral-400 text-neutral-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent sm:text-sm transition duration-150 ease-in-out",placeholder:"Adresse email",value:e,onChange:_=>t(_.target.value),disabled:d})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full px-4 py-3 border border-neutral-300 placeholder-neutral-400 text-neutral-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent sm:text-sm transition duration-150 ease-in-out",placeholder:"Mot de passe",value:r,onChange:_=>i(_.target.value),disabled:d})]})]}),a&&f.jsx("div",{className:"bg-red-50 p-3 rounded-md animate-fade-in",children:f.jsxs("div",{className:"text-sm text-red-700 flex items-center",children:[f.jsx("svg",{className:"h-5 w-5 mr-2 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a]})}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-semibold rounded-lg text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-60 disabled:cursor-not-allowed transition duration-150 ease-in-out",children:d?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion en cours..."]}):"Se connecter"})})]})]})})},iL=()=>{const[n,e]=M.useState([]),[t,r]=M.useState([]),[i,a]=M.useState(!0),[u,d]=M.useState(null),[p,g]=M.useState(!1),[_,x]=M.useState(""),[T,k]=M.useState("all"),[C,U]=M.useState("all"),[D,K]=M.useState({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"}),[Q,W]=M.useState(null),[re,ye]=M.useState(!1);M.useEffect(()=>{me()},[]),M.useEffect(()=>{P()},[n,_,T,C]);const me=async()=>{try{const ae=(await Il(_n(kt,"partenaires"))).docs.map(le=>({id:le.id,...le.data(),source:"firebase"})),ue=[...Cp.map((le,F)=>({id:`statique-${F}`,nom:le.name,pays:le.pays,email:"",telephone:"",siteWeb:le.siteWeb||"",description:le.name,typePartenaire:"institutionnel",logoUrl:le.logo,statut:"approuve",dateSoumission:null,source:"statique"})),...ae];e(ue)}catch(G){console.error("Erreur lors du chargement des partenaires:",G)}finally{a(!1)}},P=()=>{let G=n;_&&(G=G.filter(ae=>ae.nom.toLowerCase().includes(_.toLowerCase())||ae.email.toLowerCase().includes(_.toLowerCase())||ae.pays.toLowerCase().includes(_.toLowerCase()))),T!=="all"&&(G=G.filter(ae=>ae.statut===T)),C!=="all"&&(G=G.filter(ae=>ae.typePartenaire===C)),r(G)},S=G=>{const{name:ae,value:te}=G.target;K(ue=>({...ue,[ae]:te}))},A=G=>{G.target.files&&G.target.files[0]&&W(G.target.files[0])},j=async G=>{G.preventDefault(),ye(!0);try{let ae="";if(Q){const te=ah(ph,`partenaires/${Date.now()}_${Q.name}`);await Nm(te,Q),ae=await Pm(te)}u?await sh(Wo(kt,"partenaires",u.id),{...D,logoUrl:ae||u.logoUrl,dateModification:Pn()}):await Vs(_n(kt,"partenaires"),{...D,logoUrl:ae,dateSoumission:Pn()}),K({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"}),W(null),d(null),g(!1),me()}catch(ae){console.error("Erreur lors de la sauvegarde:",ae)}finally{ye(!1)}},L=G=>{if(console.log("handleEdit called with:",G),G.source==="statique"){alert("Impossible de modifier un partenaire statique. Seuls les partenaires ajouts via l'admin peuvent tre modifis.");return}console.log("Setting form data for editing:",G),K({nom:G.nom,pays:G.pays,email:G.email,telephone:G.telephone||"",siteWeb:G.siteWeb||"",description:G.description,typePartenaire:G.typePartenaire,statut:G.statut}),d(G),g(!0),console.log("Form should be visible now")},b=async G=>{if(console.log("handleDelete called with:",G),G.source==="statique"){alert("Impossible de supprimer un partenaire statique. Seuls les partenaires ajouts via l'admin peuvent tre supprims.");return}if(window.confirm(`tes-vous sr de vouloir supprimer ${G.nom} ?`))try{if(console.log("Starting deletion process..."),G.logoUrl){console.log("Deleting logo from storage:",G.logoUrl);const ae=ah(ph,G.logoUrl);await IP(ae)}console.log("Deleting document from Firestore:",G.id),await Wk(Wo(kt,"partenaires",G.id)),console.log("Document deleted successfully, refreshing list..."),me()}catch(ae){console.error("Erreur lors de la suppression:",ae),alert("Erreur lors de la suppression: "+ae.message)}},R=async(G,ae)=>{if(G.source==="statique"){alert("Impossible de modifier le statut d'un partenaire statique.");return}try{await sh(Wo(kt,"partenaires",G.id),{statut:ae,dateModification:Pn()}),me()}catch(te){console.error("Erreur lors du changement de statut:",te)}},se="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",we="block text-sm font-medium text-gray-700 mb-1";return i?f.jsx("div",{className:"p-8 text-center",children:"Chargement..."}):f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Gestion des Partenaires"}),f.jsx("p",{className:"text-neutral-600",children:"Grez les partenaires du colloque CoSTIC 2026"})]}),f.jsxs("button",{onClick:()=>{d(null),g(!0),K({nom:"",pays:"",email:"",telephone:"",siteWeb:"",description:"",typePartenaire:"institutionnel",statut:"approuve"})},className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),f.jsx("span",{children:"Ajouter un Partenaire"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Recherche"}),f.jsx("input",{type:"text",placeholder:"Nom, email, pays...",value:_,onChange:G=>x(G.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Statut"}),f.jsxs("select",{value:T,onChange:G=>k(G.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[f.jsx("option",{value:"all",children:"Tous les statuts"}),f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Type"}),f.jsxs("select",{value:C,onChange:G=>U(G.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[f.jsx("option",{value:"all",children:"Tous les types"}),f.jsx("option",{value:"institutionnel",children:"Institutionnel"}),f.jsx("option",{value:"entreprise",children:"Entreprise"}),f.jsx("option",{value:"organisation",children:"Organisation"}),f.jsx("option",{value:"gouvernemental",children:"Gouvernemental"}),f.jsx("option",{value:"media",children:"Mdia"}),f.jsx("option",{value:"autre",children:"Autre"})]})]}),f.jsx("div",{className:"flex items-end",children:f.jsx("button",{onClick:()=>{x(""),k("all"),U("all")},className:"w-full bg-neutral-500 text-white px-4 py-2 rounded-md hover:bg-neutral-600 transition-colors",children:"Rinitialiser"})})]})]}),p&&f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Modifier le Partenaire":"Nouveau Partenaire"}),f.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Nom *"}),f.jsx("input",{type:"text",name:"nom",value:D.nom,onChange:S,className:se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Pays *"}),f.jsx("input",{type:"text",name:"pays",value:D.pays,onChange:S,className:se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Email *"}),f.jsx("input",{type:"email",name:"email",value:D.email,onChange:S,className:se,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Tlphone"}),f.jsx("input",{type:"tel",name:"telephone",value:D.telephone,onChange:S,className:se})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Site Web"}),f.jsx("input",{type:"url",name:"siteWeb",value:D.siteWeb,onChange:S,className:se})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Type de Partenaire"}),f.jsxs("select",{name:"typePartenaire",value:D.typePartenaire,onChange:S,className:se,children:[f.jsx("option",{value:"institutionnel",children:"Institutionnel"}),f.jsx("option",{value:"entreprise",children:"Entreprise"}),f.jsx("option",{value:"organisation",children:"Organisation"}),f.jsx("option",{value:"gouvernemental",children:"Gouvernemental"}),f.jsx("option",{value:"media",children:"Mdia"}),f.jsx("option",{value:"autre",children:"Autre"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:we,children:"Statut"}),f.jsxs("select",{name:"statut",value:D.statut,onChange:S,className:se,children:[f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:we,children:"Description *"}),f.jsx("textarea",{name:"description",value:D.description,onChange:S,className:se,rows:3,required:!0})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:we,children:"Logo"}),f.jsx("input",{type:"file",onChange:A,accept:"image/*",className:se})]}),f.jsxs("div",{className:"md:col-span-2 flex space-x-4",children:[f.jsx("button",{type:"submit",disabled:re,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",children:re?"Sauvegarde...":"Sauvegarder"}),f.jsx("button",{type:"button",onClick:()=>g(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Annuler"})]})]})]}),f.jsx("div",{className:"px-6 py-4 bg-neutral-50 border-b border-neutral-200",children:f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-primary",children:n.length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Total"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(G=>G.statut==="approuve").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Approuvs"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.filter(G=>G.statut==="en_attente").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"En Attente"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.filter(G=>G.statut==="rejete").length}),f.jsx("div",{className:"text-sm text-neutral-600",children:"Rejets"})]})]})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Partenaire"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Pays"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Type"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Source"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Statut"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:t.map(G=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[G.logoUrl&&f.jsx("img",{className:"h-10 w-10 rounded-full mr-3",src:G.logoUrl,alt:G.nom}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.nom}),f.jsx("div",{className:"text-sm text-gray-500",children:G.email})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.pays}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G.typePartenaire}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.source==="statique"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:G.source==="statique"?"Statique":"Admin"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:G.source==="statique"?f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Approuv"}):f.jsxs("select",{value:G.statut,onChange:ae=>R(G,ae.target.value),className:`text-sm px-2 py-1 rounded-full ${G.statut==="approuve"?"bg-green-100 text-green-800":G.statut==="en_attente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[f.jsx("option",{value:"en_attente",children:"En Attente"}),f.jsx("option",{value:"approuve",children:"Approuv"}),f.jsx("option",{value:"rejete",children:"Rejet"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),console.log("Edit button clicked for:",G),L(G)},disabled:G.source==="statique",className:`flex items-center space-x-1 ${G.source==="statique"?"text-gray-400 cursor-not-allowed":"text-primary hover:text-primary/80"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{children:"Modifier"})]}),f.jsxs("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),console.log("Delete button clicked for:",G),b(G)},disabled:G.source==="statique",className:`flex items-center space-x-1 ${G.source==="statique"?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800"}`,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f.jsx("span",{children:"Supprimer"})]})]})})]},G.id))})]}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),f.jsx("p",{className:"text-neutral-500",children:n.length===0?"Aucun partenaire enregistr pour le moment":"Aucun partenaire ne correspond aux critres de recherche"})]})]})]})},oL=()=>{const[n,e]=M.useState("submissions"),[t,r]=M.useState([]),[i,a]=M.useState([]),[u,d]=M.useState([]),[p,g]=M.useState(!0);M.useEffect(()=>{_()},[]);const _=async()=>{g(!0);try{const C=Oc(_n(kt,"submissions"),Vc("submittedAt","desc")),D=(await Il(C)).docs.map(P=>({id:P.id,...P.data()})),K=Oc(_n(kt,"registrations"),Vc("registeredAt","desc")),W=(await Il(K)).docs.map(P=>({id:P.id,...P.data()})).filter(P=>P.paymentStatus==="completed");r(D),a(W);const re=Oc(_n(kt,"templateDownloads"),Vc("downloadedAt","desc")),me=(await Il(re)).docs.map(P=>({id:P.id,...P.data()}));d(me)}catch(C){console.error("Erreur lors du chargement des donnes:",C)}finally{g(!1)}},x=async()=>{try{await R4($m)}catch(C){console.error("Erreur lors de la dconnexion:",C)}},T=async(C,U)=>{try{const K=await(await fetch(C)).blob(),Q=window.URL.createObjectURL(K),W=document.createElement("a");W.href=Q,W.download=U,document.body.appendChild(W),W.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(W)}catch(D){console.error("Erreur lors du tlchargement:",D),alert("Erreur lors du tlchargement du fichier")}},k=C=>C?(C.toDate?C.toDate():new Date(C)).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return p?f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("p",{className:"text-neutral-600",children:"Chargement des donnes..."})]})}):f.jsxs("div",{className:"min-h-screen bg-neutral-100",children:[f.jsx("header",{className:"bg-primary text-white shadow-lg",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center py-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold font-sans",children:"Dashboard Administrateur"}),f.jsx("p",{className:"text-neutral-200",children:"CoSTIC 2026 - Gestion du Colloque"})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsxs("a",{href:"/",className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),f.jsx("span",{children:"Accueil"})]}),f.jsxs("button",{onClick:x,className:"bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),f.jsx("span",{children:"Dconnexion"})]})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[f.jsx("div",{className:"border-b border-neutral-200",children:f.jsxs("nav",{className:"-mb-px flex space-x-8",children:[f.jsxs("button",{onClick:()=>e("submissions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="submissions"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:["Articles Soumis (",t.length,")"]}),f.jsxs("button",{onClick:()=>e("participants"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="participants"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:["Participants (",i.length,")"]}),f.jsx("button",{onClick:()=>e("partenaires"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="partenaires"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:"Partenaires"}),f.jsx("button",{onClick:()=>e("templates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="templates"?"border-primary text-primary":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:"Modles"})]})}),f.jsxs("div",{className:"mt-8",children:[n==="submissions"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Articles Soumis"}),f.jsx("p",{className:"text-neutral-600",children:"Liste de tous les articles soumis au colloque"})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Auteur"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Titre"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Thmatique"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:t.map(C=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-neutral-900",children:C.authorName}),f.jsx("div",{className:"text-sm text-neutral-500",children:C.authorEmail}),f.jsx("div",{className:"text-sm text-neutral-500",children:C.affiliation})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("div",{className:"text-sm text-neutral-900 max-w-xs truncate",title:C.articleTitle,children:C.articleTitle})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-secondary/10 text-secondary",children:C.themeSelect||"Non spcifi"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:k(C.submittedAt)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("button",{onClick:()=>T(C.fileUrl,C.fileName),className:"text-primary hover:text-primary/80 flex items-center space-x-1",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("span",{children:"Tlcharger"})]})})]},C.id))})]}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun article soumis pour le moment"})]})]})]}),n==="participants"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-neutral-200",children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Participants Inscrits"}),f.jsx("p",{className:"text-neutral-600",children:"Liste des participants ayant effectu leur paiement"})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Nom"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Type"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Montant"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Rfrence"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:i.map(C=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-neutral-900",children:C.name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:C.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.participantType==="etudiant"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:C.participantType==="etudiant"?"tudiant":"Chercheur"})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900",children:[C.amount.toLocaleString()," ",C.currency]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 font-mono",children:C.paymentReference||"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:k(C.paymentDate||C.registeredAt)})]},C.id))})]}),i.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun participant inscrit pour le moment"})]})]})]}),n==="partenaires"&&f.jsx(iL,{}),n==="templates"&&f.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-neutral-200",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-neutral-900 font-sans",children:"Tlchargements des Modles"}),f.jsx("p",{className:"text-neutral-600",children:"Statistiques et historique des tlchargements (DOCX et LaTeX)"})]}),f.jsxs("button",{onClick:_,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors flex items-center space-x-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Actualiser"})]})]})}),f.jsxs("div",{className:"px-6 py-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-blue-50",children:[f.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total DOCX"}),f.jsx("div",{className:"text-2xl font-bold text-blue-700",children:u.filter(C=>C.format==="docx").length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-green-50",children:[f.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Total LaTeX"}),f.jsx("div",{className:"text-2xl font-bold text-green-700",children:u.filter(C=>C.format==="latex").length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-neutral-50",children:[f.jsx("div",{className:"text-sm text-neutral-600 font-medium",children:"Total"}),f.jsx("div",{className:"text-2xl font-bold text-neutral-800",children:u.length})]}),f.jsxs("div",{className:"rounded-lg border border-neutral-200 p-4 bg-purple-50",children:[f.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Aujourd'hui"}),f.jsx("div",{className:"text-2xl font-bold text-purple-700",children:u.filter(C=>{var K;const U=new Date;return((K=C.downloadedAt)!=null&&K.toDate?C.downloadedAt.toDate():new Date(C.downloadedAt)).toDateString()===U.toDateString()}).length})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[f.jsx("thead",{className:"bg-neutral-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Format"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Fichier"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Agent"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:u.map(C=>f.jsxs("tr",{className:"hover:bg-neutral-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.format==="docx"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:C.format.toUpperCase()})}),f.jsx("td",{className:"px-6 py-4 text-sm text-neutral-700",children:C.path}),f.jsx("td",{className:"px-6 py-4 text-xs text-neutral-500 max-w-xs truncate",title:C.userAgent,children:C.userAgent||"N/A"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:k(C.downloadedAt)})]},C.id))})]}),u.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-neutral-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.jsx("p",{className:"text-neutral-500",children:"Aucun tlchargement enregistr pour le moment"})]})]})]})]})]})]})},aL=()=>{const[n,e]=M.useState(null),[t,r]=M.useState(!0);M.useEffect(()=>{const a=k4($m,u=>{e(u),r(!1)});return()=>a()},[]);const i=()=>{};return t?f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"animate-spin h-12 w-12 text-primary mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("p",{className:"text-neutral-600",children:"Chargement..."})]})}):f.jsx("div",{children:n?f.jsx(oL,{}):f.jsx(sL,{onLoginSuccess:i})})},lL=()=>{const[n]=UI(),[e,t]=M.useState("loading"),[r,i]=M.useState("");return M.useEffect(()=>{(async()=>{const u=new URLSearchParams(window.location.search),d=u.get("payment_id")||n.get("payment_id"),p=u.get("reference")||n.get("reference"),g=u.get("registration_doc_id")||n.get("registration_doc_id"),_=u.get("status")||n.get("status");if(_==="success"&&d)try{const x=await x_(d);x.success&&x.status==="completed"?(g&&await sh(Wo(kt,"registrations",g),{paymentStatus:"completed",paymentReference:p||d,paymentDate:Pn()}),t("success"),i("Paiement effectu avec succs ! Vous recevrez un email de confirmation."),setTimeout(()=>{window.location.href="/#inscription"},5e3)):(t("error"),i(x.message||"Paiement non complt"))}catch(x){console.error("Erreur vrification paiement:",x),t("error"),i(x.message||"Erreur lors de la vrification du paiement")}else if(_==="cancelled"||_==="failed")t("error"),i("Paiement annul ou chou. Vous pouvez ressayer.");else if(d)try{const x=await x_(d);x.success&&x.status==="completed"?(g&&await sh(Wo(kt,"registrations",g),{paymentStatus:"completed",paymentReference:p||d,paymentDate:Pn()}),t("success"),i("Paiement effectu avec succs !"),setTimeout(()=>{window.location.href="/#inscription"},5e3)):(t("error"),i("Paiement non complt"))}catch{t("error"),i("Erreur lors de la vrification du paiement")}else t("error"),i("Paramtres de paiement manquants")})()},[n]),f.jsx("div",{className:"min-h-screen bg-neutral-100 flex items-center justify-center px-4",children:f.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-2xl p-8 text-center",children:[e==="loading"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsxs("svg",{className:"animate-spin h-16 w-16 text-primary mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),f.jsx("h2",{className:"text-2xl font-bold text-primary mb-4 font-sans",children:"Vrification du paiement..."}),f.jsx("p",{className:"text-neutral-600",children:"Veuillez patienter pendant que nous vrifions votre paiement."})]}),e==="success"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsx("svg",{className:"h-16 w-16 text-green-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4 font-sans",children:"Paiement russi !"}),f.jsx("p",{className:"text-neutral-600 mb-6",children:r}),f.jsx("p",{className:"text-sm text-neutral-500",children:"Vous allez tre redirig dans quelques secondes..."}),f.jsx("button",{onClick:()=>window.location.href="/#inscription",className:"mt-6 bg-accent text-white font-bold py-3 px-6 rounded-lg hover:bg-accent/90 transition-all duration-300 font-sans",children:"Retour  l'accueil"})]}),e==="error"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mb-6",children:f.jsx("svg",{className:"h-16 w-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4 font-sans",children:"Paiement chou"}),f.jsx("p",{className:"text-neutral-600 mb-6",children:r}),f.jsx("button",{onClick:()=>window.location.href="/#inscription",className:"mt-6 bg-primary text-white font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 font-sans",children:"Ressayer"})]})]})})},sE=document.getElementById("root");if(!sE)throw new Error("Could not find root element to mount to");const uL=xT.createRoot(sE);uL.render(f.jsx(pT.StrictMode,{children:f.jsx(DI,{children:f.jsxs(hI,{children:[f.jsx(Ac,{path:"/admin",element:f.jsx(aL,{})}),f.jsx(Ac,{path:"/payment-callback",element:f.jsx(lL,{})}),f.jsx(Ac,{path:"/*",element:f.jsx(rL,{})})]})})}));
